2024-08-23 20:37:26.329 +05:30 [DBG] Hosting starting
2024-08-23 20:37:26.364 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-23 20:37:26.368 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-23 20:37:26.371 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-23 20:37:26.373 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-23 20:37:26.374 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-23 20:37:26.376 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-23 20:37:26.377 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-23 20:37:26.380 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-23 20:37:26.380 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-23 20:37:26.382 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-23 20:37:26.382 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-23 20:37:26.646 +05:30 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-08-23 20:37:26.665 +05:30 [INF] Now listening on: https://localhost:7076
2024-08-23 20:37:26.666 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-23 20:37:26.666 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-23 20:37:26.667 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-23 20:37:26.668 +05:30 [INF] Hosting environment: Development
2024-08-23 20:37:26.668 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-23 20:37:26.668 +05:30 [DBG] Hosting started
2024-08-23 20:37:26.755 +05:30 [DBG] Connection id "0HN63GL6DV4RD" accepted.
2024-08-23 20:37:26.756 +05:30 [DBG] Connection id "0HN63GL6DV4RD" started.
2024-08-23 20:37:26.817 +05:30 [DBG] Connection id "0HN63GL6DV4RD" received FIN.
2024-08-23 20:37:26.818 +05:30 [DBG] Connection id "0HN63GL6DV4RE" accepted.
2024-08-23 20:37:26.844 +05:30 [DBG] Connection id "0HN63GL6DV4RE" started.
2024-08-23 20:37:26.904 +05:30 [DBG] Connection id "0HN63GL6DV4RE" received FIN.
2024-08-23 20:37:26.905 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:37:26.847 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:37:26.908 +05:30 [DBG] Connection id "0HN63GL6DV4RE" stopped.
2024-08-23 20:37:26.908 +05:30 [DBG] Connection id "0HN63GL6DV4RD" stopped.
2024-08-23 20:37:26.909 +05:30 [DBG] Connection id "0HN63GL6DV4RE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:37:26.909 +05:30 [DBG] Connection id "0HN63GL6DV4RD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:37:37.427 +05:30 [DBG] Connection id "0HN63GL6DV4RF" accepted.
2024-08-23 20:37:37.427 +05:30 [DBG] Connection id "0HN63GL6DV4RF" started.
2024-08-23 20:37:37.454 +05:30 [DBG] Connection id "0HN63GL6DV4RF" received FIN.
2024-08-23 20:37:37.455 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:37:37.458 +05:30 [DBG] Connection id "0HN63GL6DV4RF" stopped.
2024-08-23 20:37:37.459 +05:30 [DBG] Connection id "0HN63GL6DV4RF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:37:37.460 +05:30 [DBG] Connection id "0HN63GL6DV4RG" accepted.
2024-08-23 20:37:37.461 +05:30 [DBG] Connection id "0HN63GL6DV4RG" started.
2024-08-23 20:37:37.493 +05:30 [DBG] Connection id "0HN63GL6DV4RG" received FIN.
2024-08-23 20:37:37.494 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:37:37.495 +05:30 [DBG] Connection id "0HN63GL6DV4RG" stopped.
2024-08-23 20:37:37.496 +05:30 [DBG] Connection id "0HN63GL6DV4RG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:39:09.032 +05:30 [DBG] Connection id "0HN63GL6DV4RH" accepted.
2024-08-23 20:39:09.034 +05:30 [DBG] Connection id "0HN63GL6DV4RH" started.
2024-08-23 20:39:09.113 +05:30 [DBG] Connection id "0HN63GL6DV4RH" received FIN.
2024-08-23 20:39:09.139 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:39:09.140 +05:30 [DBG] Connection id "0HN63GL6DV4RH" stopped.
2024-08-23 20:39:09.141 +05:30 [DBG] Connection id "0HN63GL6DV4RH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:06.065 +05:30 [DBG] Hosting starting
2024-08-23 20:44:06.107 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-23 20:44:06.111 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-23 20:44:06.114 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-23 20:44:06.116 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-23 20:44:06.118 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-23 20:44:06.120 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-23 20:44:06.121 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-23 20:44:06.132 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-23 20:44:06.132 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-23 20:44:06.134 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-23 20:44:06.134 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-23 20:44:06.389 +05:30 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-08-23 20:44:06.403 +05:30 [INF] Now listening on: https://localhost:7076
2024-08-23 20:44:06.404 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-23 20:44:06.404 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-23 20:44:06.406 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-23 20:44:06.407 +05:30 [INF] Hosting environment: Development
2024-08-23 20:44:06.407 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-23 20:44:06.408 +05:30 [DBG] Hosting started
2024-08-23 20:44:06.493 +05:30 [DBG] Connection id "0HN63GOTI5HN9" accepted.
2024-08-23 20:44:06.494 +05:30 [DBG] Connection id "0HN63GOTI5HN9" started.
2024-08-23 20:44:06.553 +05:30 [DBG] Connection id "0HN63GOTI5HN9" received FIN.
2024-08-23 20:44:06.576 +05:30 [DBG] Connection id "0HN63GOTI5HNA" accepted.
2024-08-23 20:44:06.601 +05:30 [DBG] Connection id "0HN63GOTI5HNA" started.
2024-08-23 20:44:06.604 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:06.615 +05:30 [DBG] Connection id "0HN63GOTI5HN9" stopped.
2024-08-23 20:44:06.616 +05:30 [DBG] Connection id "0HN63GOTI5HN9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:06.618 +05:30 [DBG] Connection id "0HN63GOTI5HNA" received FIN.
2024-08-23 20:44:06.618 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:06.619 +05:30 [DBG] Connection id "0HN63GOTI5HNA" stopped.
2024-08-23 20:44:06.619 +05:30 [DBG] Connection id "0HN63GOTI5HNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:16.586 +05:30 [DBG] Connection id "0HN63GOTI5HNB" accepted.
2024-08-23 20:44:16.586 +05:30 [DBG] Connection id "0HN63GOTI5HNB" started.
2024-08-23 20:44:16.632 +05:30 [DBG] Connection id "0HN63GOTI5HNB" received FIN.
2024-08-23 20:44:16.634 +05:30 [DBG] Connection id "0HN63GOTI5HNC" accepted.
2024-08-23 20:44:16.659 +05:30 [DBG] Connection id "0HN63GOTI5HNC" started.
2024-08-23 20:44:16.660 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:16.661 +05:30 [DBG] Connection id "0HN63GOTI5HNB" stopped.
2024-08-23 20:44:16.661 +05:30 [DBG] Connection id "0HN63GOTI5HNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:16.730 +05:30 [DBG] Connection id "0HN63GOTI5HNC" received FIN.
2024-08-23 20:44:16.756 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:16.757 +05:30 [DBG] Connection id "0HN63GOTI5HNC" stopped.
2024-08-23 20:44:16.758 +05:30 [DBG] Connection id "0HN63GOTI5HNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:23.811 +05:30 [DBG] Connection id "0HN63GOTI5HND" accepted.
2024-08-23 20:44:23.812 +05:30 [DBG] Connection id "0HN63GOTI5HND" started.
2024-08-23 20:44:23.831 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:23.834 +05:30 [DBG] Connection id "0HN63GOTI5HND" stopped.
2024-08-23 20:44:23.835 +05:30 [DBG] Connection id "0HN63GOTI5HND" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:23.841 +05:30 [DBG] Connection id "0HN63GOTI5HNE" accepted.
2024-08-23 20:44:23.842 +05:30 [DBG] Connection id "0HN63GOTI5HNE" started.
2024-08-23 20:44:23.843 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:23.844 +05:30 [DBG] Connection id "0HN63GOTI5HNE" stopped.
2024-08-23 20:44:23.845 +05:30 [DBG] Connection id "0HN63GOTI5HNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:23.846 +05:30 [DBG] Connection id "0HN63GOTI5HNF" accepted.
2024-08-23 20:44:23.846 +05:30 [DBG] Connection id "0HN63GOTI5HNF" started.
2024-08-23 20:44:23.847 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-23 20:44:23.848 +05:30 [DBG] Connection id "0HN63GOTI5HNF" stopped.
2024-08-23 20:44:23.849 +05:30 [DBG] Connection id "0HN63GOTI5HNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:44:24.571 +05:30 [DBG] Connection id "0HN63GOTI5HNG" accepted.
2024-08-23 20:44:24.572 +05:30 [DBG] Connection id "0HN63GOTI5HNH" accepted.
2024-08-23 20:44:24.573 +05:30 [DBG] Connection id "0HN63GOTI5HNG" started.
2024-08-23 20:44:24.573 +05:30 [DBG] Connection id "0HN63GOTI5HNH" started.
2024-08-23 20:44:24.606 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-23 20:44:24.607 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-23 20:44:24.675 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-23 20:44:24.675 +05:30 [DBG] Request did not match any endpoints
2024-08-23 20:44:24.701 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:44:24.725 +05:30 [DBG] Connection id "0HN63GOTI5HNG" completed keep alive response.
2024-08-23 20:44:24.727 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 121.1697ms
2024-08-23 20:44:24.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-23 20:44:24.888 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-23 20:44:24.888 +05:30 [DBG] Request did not match any endpoints
2024-08-23 20:44:24.889 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:44:24.892 +05:30 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-08-23 20:44:24.968 +05:30 [DBG] Connection id "0HN63GOTI5HNG" completed keep alive response.
2024-08-23 20:44:24.968 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.3572ms
2024-08-23 20:44:34.957 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-23 20:44:34.959 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-23 20:44:34.959 +05:30 [DBG] Request did not match any endpoints
2024-08-23 20:44:34.962 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:44:34.965 +05:30 [DBG] Connection id "0HN63GOTI5HNG" completed keep alive response.
2024-08-23 20:44:34.965 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 8.2795ms
2024-08-23 20:44:35.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-23 20:44:35.025 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-23 20:44:35.025 +05:30 [DBG] Request did not match any endpoints
2024-08-23 20:44:35.025 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:44:35.053 +05:30 [DBG] Connection id "0HN63GOTI5HNG" completed keep alive response.
2024-08-23 20:44:35.054 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.3135ms
2024-08-23 20:49:20.244 +05:30 [DBG] Connection id "0HN63GOTI5HNH" received FIN.
2024-08-23 20:49:20.247 +05:30 [DBG] Connection id "0HN63GOTI5HNH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:49:20.270 +05:30 [DBG] Connection id "0HN63GOTI5HNH" disconnecting.
2024-08-23 20:49:20.274 +05:30 [DBG] Connection id "0HN63GOTI5HNH" stopped.
2024-08-23 20:50:11.639 +05:30 [DBG] Connection id "0HN63GOTI5HNG" received FIN.
2024-08-23 20:50:11.666 +05:30 [DBG] Connection id "0HN63GOTI5HNG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 20:50:11.670 +05:30 [DBG] Connection id "0HN63GOTI5HNG" disconnecting.
2024-08-23 20:50:11.671 +05:30 [DBG] Connection id "0HN63GOTI5HNG" stopped.
2024-08-23 20:53:41.540 +05:30 [DBG] Connection id "0HN63GOTI5HNI" accepted.
2024-08-23 20:53:41.540 +05:30 [DBG] Connection id "0HN63GOTI5HNI" started.
2024-08-23 20:53:41.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-23 20:53:41.577 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-23 20:53:41.577 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:53:41.579 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-23 20:53:41.579 +05:30 [INF] CORS policy execution failed.
2024-08-23 20:53:41.580 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-23 20:53:41.581 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:53:41.582 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-23 20:53:41.583 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:53:41.587 +05:30 [DBG] Connection id "0HN63GOTI5HNI", Request id "0HN63GOTI5HNI:00000001": started reading request body.
2024-08-23 20:53:41.587 +05:30 [DBG] Connection id "0HN63GOTI5HNI", Request id "0HN63GOTI5HNI:00000001": done reading request body.
2024-08-23 20:53:41.664 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-23 20:53:55.518 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-23 20:54:15.272 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-23 20:54:47.462 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-23 20:54:47.524 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-23 20:54:47.539 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-23 20:54:47.543 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-23 20:54:47.547 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-23 20:54:47.657 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-23 20:54:47.660 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:54:47.668 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:54:47.669 +05:30 [DBG] A data reader was disposed.
2024-08-23 20:54:47.670 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-23 20:54:47.671 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-23 20:58:38.546 +05:30 [INF] Login failed for 202301131, admin@example.com
2024-08-23 20:58:38.552 +05:30 [INF] Setting HTTP status code 401.
2024-08-23 20:58:38.552 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:58:38.552 +05:30 [DBG] Connection id "0HN63GOTI5HNI" completed keep alive response.
2024-08-23 20:58:38.554 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-23 20:58:38.555 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 296987.1318ms
2024-08-23 20:58:44.478 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-23 20:58:44.483 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-23 20:58:44.483 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:58:44.484 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-23 20:58:44.484 +05:30 [INF] CORS policy execution failed.
2024-08-23 20:58:44.484 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-23 20:58:44.484 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-23 20:58:44.484 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-23 20:58:44.484 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:58:44.485 +05:30 [DBG] Connection id "0HN63GOTI5HNI", Request id "0HN63GOTI5HNI:00000002": started reading request body.
2024-08-23 20:58:44.485 +05:30 [DBG] Connection id "0HN63GOTI5HNI", Request id "0HN63GOTI5HNI:00000002": done reading request body.
2024-08-23 20:59:00.744 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-23 20:59:08.163 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-23 20:59:08.343 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-23 20:59:08.343 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-23 20:59:08.344 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-23 20:59:08.361 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-23 20:59:08.361 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:59:08.366 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:59:08.367 +05:30 [DBG] A data reader was disposed.
2024-08-23 20:59:08.367 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-23 20:59:08.367 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.639 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-23 20:59:22.693 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-23 20:59:22.720 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-23 20:59:22.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-23 20:59:22.729 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-23 20:59:22.729 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.731 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.731 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:59:22.735 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-23 20:59:22.748 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-23 20:59:22.756 +05:30 [DBG] A data reader was disposed.
2024-08-23 20:59:22.756 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.756 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.760 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-23 20:59:22.761 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-23 20:59:22.762 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-23 20:59:22.764 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-23 20:59:22.769 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.770 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.770 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-23 20:59:22.776 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-23 20:59:22.789 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-23 20:59:22.789 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-23 20:59:22.790 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-23 20:59:22.792 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-23 20:59:22.793 +05:30 [DBG] A data reader was disposed.
2024-08-23 20:59:22.794 +05:30 [DBG] Committing transaction.
2024-08-23 20:59:22.796 +05:30 [DBG] Committed transaction.
2024-08-23 20:59:22.797 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.797 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.797 +05:30 [DBG] Disposing transaction.
2024-08-23 20:59:22.798 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-23 20:59:22.798 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-23 20:59:22.809 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-23 20:59:22.809 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-23 20:59:22.809 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-23 20:59:22.811 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-23 20:59:22.811 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.812 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.812 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-23 20:59:22.812 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-23 20:59:22.814 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-23 20:59:22.814 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-23 20:59:22.815 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-23 20:59:22.820 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-23 20:59:22.820 +05:30 [DBG] A data reader was disposed.
2024-08-23 20:59:22.820 +05:30 [DBG] Committing transaction.
2024-08-23 20:59:22.820 +05:30 [DBG] Committed transaction.
2024-08-23 20:59:22.820 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.820 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-23 20:59:22.820 +05:30 [DBG] Disposing transaction.
2024-08-23 20:59:22.820 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-23 20:59:22.821 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-23 20:59:22.822 +05:30 [INF] Setting HTTP status code 200.
2024-08-23 20:59:22.822 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-23 20:59:22.823 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-23 20:59:22.823 +05:30 [DBG] Connection id "0HN63GOTI5HNI" completed keep alive response.
2024-08-23 20:59:22.823 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-23 20:59:22.823 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 38344.4936ms
2024-08-23 21:05:38.270 +05:30 [DBG] Connection id "0HN63GOTI5HNI" received FIN.
2024-08-23 21:05:38.273 +05:30 [DBG] Connection id "0HN63GOTI5HNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-23 21:05:38.274 +05:30 [DBG] Connection id "0HN63GOTI5HNI" disconnecting.
2024-08-23 21:05:38.277 +05:30 [DBG] Connection id "0HN63GOTI5HNI" stopped.
2024-08-24 07:17:01.488 +05:30 [DBG] Hosting starting
2024-08-24 07:17:01.517 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-24 07:17:01.521 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-24 07:17:01.523 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-24 07:17:01.524 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-24 07:17:01.526 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-24 07:17:01.527 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-24 07:17:01.528 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-24 07:17:01.529 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-24 07:17:01.529 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-24 07:17:01.531 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-24 07:17:01.531 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-24 07:17:01.626 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-24 07:17:01.626 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-24 07:17:01.626 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-24 07:17:01.627 +05:30 [INF] Hosting environment: Development
2024-08-24 07:17:01.627 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-24 07:17:01.627 +05:30 [DBG] Hosting started
2024-08-24 07:23:44.368 +05:30 [DBG] Connection id "0HN63RUB2397T" accepted.
2024-08-24 07:23:44.370 +05:30 [DBG] Connection id "0HN63RUB2397T" started.
2024-08-24 07:23:44.392 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/login - null null
2024-08-24 07:23:44.395 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-24 07:23:44.465 +05:30 [DBG] No candidates found for the request path '/api/login'
2024-08-24 07:23:44.465 +05:30 [DBG] Request did not match any endpoints
2024-08-24 07:23:44.466 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:23:44.466 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:23:44.466 +05:30 [DBG] The request is a preflight request.
2024-08-24 07:23:44.470 +05:30 [DBG] Connection id "0HN63RUB2397T" completed keep alive response.
2024-08-24 07:23:44.470 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/login - 204 null null 78.8767ms
2024-08-24 07:23:44.471 +05:30 [DBG] Connection id "0HN63RUB2397U" accepted.
2024-08-24 07:23:44.472 +05:30 [DBG] Connection id "0HN63RUB2397U" started.
2024-08-24 07:23:44.473 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/login - application/json 78
2024-08-24 07:23:44.473 +05:30 [DBG] No candidates found for the request path '/api/login'
2024-08-24 07:23:44.473 +05:30 [DBG] Request did not match any endpoints
2024-08-24 07:23:44.474 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:23:44.474 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:23:44.488 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 07:23:44.493 +05:30 [DBG] POST requests are not supported
2024-08-24 07:23:44.493 +05:30 [DBG] Connection id "0HN63RUB2397U" completed keep alive response.
2024-08-24 07:23:44.494 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/login - 404 0 null 20.9823ms
2024-08-24 07:23:44.495 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5242/api/login, Response status code: 404
2024-08-24 07:23:44.497 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000001": started reading request body.
2024-08-24 07:23:44.498 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000001": done reading request body.
2024-08-24 07:25:06.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/login - null null
2024-08-24 07:25:06.595 +05:30 [DBG] No candidates found for the request path '/api/login'
2024-08-24 07:25:06.595 +05:30 [DBG] Request did not match any endpoints
2024-08-24 07:25:06.595 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:25:06.595 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:25:06.596 +05:30 [DBG] The request is a preflight request.
2024-08-24 07:25:06.596 +05:30 [DBG] Connection id "0HN63RUB2397T" completed keep alive response.
2024-08-24 07:25:06.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/login - 204 null null 2.649ms
2024-08-24 07:25:06.597 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/login - application/json 78
2024-08-24 07:25:06.597 +05:30 [DBG] No candidates found for the request path '/api/login'
2024-08-24 07:25:06.597 +05:30 [DBG] Request did not match any endpoints
2024-08-24 07:25:06.597 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:25:06.597 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:25:06.598 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 07:25:06.599 +05:30 [DBG] POST requests are not supported
2024-08-24 07:25:06.599 +05:30 [DBG] Connection id "0HN63RUB2397U" completed keep alive response.
2024-08-24 07:25:06.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/login - 404 0 null 2.5155ms
2024-08-24 07:25:06.599 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5242/api/login, Response status code: 404
2024-08-24 07:25:06.600 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000002": started reading request body.
2024-08-24 07:25:06.600 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000002": done reading request body.
2024-08-24 07:25:27.702 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 07:25:27.707 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 07:25:27.708 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 07:25:27.709 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:25:27.709 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:25:27.710 +05:30 [DBG] The request is a preflight request.
2024-08-24 07:25:27.710 +05:30 [DBG] Connection id "0HN63RUB2397T" completed keep alive response.
2024-08-24 07:25:27.710 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 7.7817ms
2024-08-24 07:25:27.711 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 07:25:27.713 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 07:25:27.713 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 07:25:27.714 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:25:27.714 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:25:27.716 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 07:25:27.718 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 07:25:27.718 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 07:25:27.721 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000003": started reading request body.
2024-08-24 07:25:27.721 +05:30 [DBG] Connection id "0HN63RUB2397U", Request id "0HN63RUB2397U:00000003": done reading request body.
2024-08-24 07:25:27.789 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-24 07:25:27.799 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 07:25:28.062 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 07:25:28.082 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-24 07:25:28.134 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-24 07:25:28.146 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:25:28.149 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-08-24 07:25:28.158 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.231 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.234 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 07:25:28.241 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 07:25:28.242 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:25:28.243 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.244 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.364 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 07:25:28.393 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-24 07:25:28.402 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-24 07:25:28.402 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:25:28.402 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 07:25:28.402 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.403 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.403 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 07:25:28.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 07:25:28.410 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:25:28.418 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:25:28.418 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.418 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.421 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:25:28.422 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 07:25:28.423 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 07:25:28.425 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 07:25:28.430 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.430 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.431 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 07:25:28.434 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 07:25:28.446 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:25:28.446 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 07:25:28.446 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 07:25:28.447 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 07:25:28.448 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:25:28.449 +05:30 [DBG] Committing transaction.
2024-08-24 07:25:28.453 +05:30 [DBG] Committed transaction.
2024-08-24 07:25:28.453 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.453 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.454 +05:30 [DBG] Disposing transaction.
2024-08-24 07:25:28.454 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:25:28.455 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 07:25:28.464 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:25:28.464 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 07:25:28.464 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 07:25:28.467 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 07:25:28.467 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.467 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.467 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 07:25:28.468 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 07:25:28.470 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:25:28.470 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 07:25:28.470 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 07:25:28.473 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 07:25:28.473 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:25:28.473 +05:30 [DBG] Committing transaction.
2024-08-24 07:25:28.474 +05:30 [DBG] Committed transaction.
2024-08-24 07:25:28.474 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.474 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:25:28.474 +05:30 [DBG] Disposing transaction.
2024-08-24 07:25:28.474 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:25:28.474 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 07:25:28.476 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 07:25:28.476 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 07:25:28.476 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 07:25:28.476 +05:30 [DBG] Connection id "0HN63RUB2397U" completed keep alive response.
2024-08-24 07:25:28.477 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 07:25:28.477 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 766.9537ms
2024-08-24 07:27:38.279 +05:30 [DBG] Connection id "0HN63RUB2397T" disconnecting.
2024-08-24 07:27:38.280 +05:30 [DBG] Connection id "0HN63RUB2397T" stopped.
2024-08-24 07:27:38.281 +05:30 [DBG] Connection id "0HN63RUB2397T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 07:27:39.278 +05:30 [DBG] Connection id "0HN63RUB2397U" disconnecting.
2024-08-24 07:27:39.279 +05:30 [DBG] Connection id "0HN63RUB2397U" stopped.
2024-08-24 07:27:39.279 +05:30 [DBG] Connection id "0HN63RUB2397U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 07:31:50.668 +05:30 [DBG] Connection id "0HN63RUB2397V" accepted.
2024-08-24 07:31:50.669 +05:30 [DBG] Connection id "0HN63RUB2397V" started.
2024-08-24 07:31:50.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-24 07:31:50.672 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 07:31:50.672 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 07:31:50.675 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:31:50.676 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:31:50.676 +05:30 [DBG] The request is a preflight request.
2024-08-24 07:31:50.676 +05:30 [DBG] Connection id "0HN63RUB2397V" completed keep alive response.
2024-08-24 07:31:50.677 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 5.283ms
2024-08-24 07:31:50.681 +05:30 [DBG] Connection id "0HN63RUB23980" accepted.
2024-08-24 07:31:50.681 +05:30 [DBG] Connection id "0HN63RUB23980" started.
2024-08-24 07:31:50.683 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 07:31:50.687 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 07:31:50.687 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:31:50.688 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:31:50.688 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:31:50.727 +05:30 [DBG] Successfully validated the token.
2024-08-24 07:31:50.728 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 07:31:50.733 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 07:31:50.733 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:31:50.755 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 07:31:50.757 +05:30 [DBG] Compiling query expression: 
'DbSet<Language>()
    .OrderBy(o => o.LanguageId)'
2024-08-24 07:31:50.760 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Language>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Language.LanguageId (byte) Required PK AfterSave:Throw, 0], [Property: Language.LanguageCode (string) Required, 1], [Property: Language.LanguageName (string) Required, 2] }
        SELECT l.LanguageId, l.LanguageCode, l.LanguageName
        FROM Language AS l
        ORDER BY l.LanguageId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Language>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 07:31:50.761 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:31:50.761 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 07:31:50.761 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:31:50.782 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:31:50.783 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 07:31:50.785 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 07:31:50.788 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:31:50.789 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:31:50.789 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:31:50.789 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:31:50.789 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:31:50.790 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 07:31:50.794 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 07:31:50.797 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:31:50.797 +05:30 [DBG] Connection id "0HN63RUB23980" completed keep alive response.
2024-08-24 07:31:50.797 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 07:31:50.798 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 114.992ms
2024-08-24 07:34:01.690 +05:30 [DBG] Connection id "0HN63RUB2397V" disconnecting.
2024-08-24 07:34:01.690 +05:30 [DBG] Connection id "0HN63RUB23980" disconnecting.
2024-08-24 07:34:01.691 +05:30 [DBG] Connection id "0HN63RUB2397V" stopped.
2024-08-24 07:34:01.691 +05:30 [DBG] Connection id "0HN63RUB23980" stopped.
2024-08-24 07:34:01.691 +05:30 [DBG] Connection id "0HN63RUB23980" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 07:34:01.691 +05:30 [DBG] Connection id "0HN63RUB2397V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 07:39:21.486 +05:30 [DBG] Connection id "0HN63RUB23981" accepted.
2024-08-24 07:39:21.487 +05:30 [DBG] Connection id "0HN63RUB23981" started.
2024-08-24 07:39:21.488 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-24 07:39:21.489 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 07:39:21.489 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 07:39:21.489 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:39:21.489 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:39:21.489 +05:30 [DBG] The request is a preflight request.
2024-08-24 07:39:21.490 +05:30 [DBG] Connection id "0HN63RUB23981" completed keep alive response.
2024-08-24 07:39:21.490 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 1.6724ms
2024-08-24 07:39:21.490 +05:30 [DBG] Connection id "0HN63RUB23982" accepted.
2024-08-24 07:39:21.490 +05:30 [DBG] Connection id "0HN63RUB23982" started.
2024-08-24 07:39:21.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 07:39:21.491 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 07:39:21.491 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:39:21.491 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 07:39:21.491 +05:30 [INF] CORS policy execution successful.
2024-08-24 07:39:21.493 +05:30 [DBG] Successfully validated the token.
2024-08-24 07:39:21.494 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 07:39:21.495 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 07:39:21.495 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:39:21.504 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 07:39:21.508 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 07:39:21.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 07:39:21.509 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 07:39:21.620 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 07:39:21.621 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 07:39:21.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 07:39:21.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:39:21.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:39:21.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 07:39:21.622 +05:30 [DBG] A data reader was disposed.
2024-08-24 07:39:21.622 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 07:39:21.623 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 07:39:21.623 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 07:39:21.623 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 07:39:21.623 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 07:39:21.623 +05:30 [DBG] Connection id "0HN63RUB23982" completed keep alive response.
2024-08-24 07:39:21.623 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 07:39:21.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 133.1044ms
2024-08-24 07:41:33.133 +05:30 [DBG] Connection id "0HN63RUB23981" disconnecting.
2024-08-24 07:41:33.133 +05:30 [DBG] Connection id "0HN63RUB23982" disconnecting.
2024-08-24 07:41:33.134 +05:30 [DBG] Connection id "0HN63RUB23981" stopped.
2024-08-24 07:41:33.134 +05:30 [DBG] Connection id "0HN63RUB23982" stopped.
2024-08-24 07:41:33.135 +05:30 [DBG] Connection id "0HN63RUB23982" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 07:41:33.135 +05:30 [DBG] Connection id "0HN63RUB23981" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:06:09.304 +05:30 [DBG] Connection id "0HN63RUB23983" accepted.
2024-08-24 09:06:09.306 +05:30 [DBG] Connection id "0HN63RUB23983" started.
2024-08-24 09:06:09.307 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:06:09.308 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:06:09.308 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:06:09.309 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:06:09.309 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:06:09.309 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:06:09.309 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:06:09.310 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 2.6029ms
2024-08-24 09:06:09.311 +05:30 [DBG] Connection id "0HN63RUB23984" accepted.
2024-08-24 09:06:09.311 +05:30 [DBG] Connection id "0HN63RUB23984" started.
2024-08-24 09:06:09.311 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:06:09.313 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:06:09.313 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:06:09.314 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:06:09.314 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:06:09.320 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:36:09 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 09:06:09.331 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:36:09 AM'.
2024-08-24 09:06:09.333 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 09:06:09.335 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 09:06:09.342 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 09:06:09.344 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:06:09.344 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 32.48ms
2024-08-24 09:06:09.344 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000001": started reading request body.
2024-08-24 09:06:09.345 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000001": done reading request body.
2024-08-24 09:06:09.346 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/refresh-token - null null
2024-08-24 09:06:09.347 +05:30 [DBG] No candidates found for the request path '/refresh-token'
2024-08-24 09:06:09.347 +05:30 [DBG] Request did not match any endpoints
2024-08-24 09:06:09.347 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:06:09.347 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:06:09.347 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:06:09.347 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:06:09.347 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/refresh-token - 204 null null 0.4ms
2024-08-24 09:06:09.347 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/refresh-token - application/json 2
2024-08-24 09:06:09.348 +05:30 [DBG] No candidates found for the request path '/refresh-token'
2024-08-24 09:06:09.348 +05:30 [DBG] Request did not match any endpoints
2024-08-24 09:06:09.348 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:06:09.348 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:06:09.348 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:36:09 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 09:06:09.349 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:36:09 AM'.
2024-08-24 09:06:09.349 +05:30 [DBG] POST requests are not supported
2024-08-24 09:06:09.349 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:06:09.349 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/refresh-token - 404 0 null 1.3148ms
2024-08-24 09:06:09.349 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5242/refresh-token, Response status code: 404
2024-08-24 09:06:09.349 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000002": started reading request body.
2024-08-24 09:06:09.349 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000002": done reading request body.
2024-08-24 09:07:22.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:07:22.484 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:07:22.484 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:07:22.484 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:07:22.484 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:07:22.485 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:07:22.485 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:07:22.485 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0135ms
2024-08-24 09:07:22.486 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:07:22.487 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:07:22.487 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:07:22.487 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:07:22.487 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:07:22.487 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:37:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 09:07:22.488 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:37:22 AM'.
2024-08-24 09:07:22.489 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 09:07:22.490 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 09:07:22.490 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 09:07:22.491 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:07:22.491 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 4.8843ms
2024-08-24 09:07:22.491 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000003": started reading request body.
2024-08-24 09:07:22.492 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000003": done reading request body.
2024-08-24 09:07:22.493 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/refresh-token - null null
2024-08-24 09:07:22.494 +05:30 [DBG] No candidates found for the request path '/refresh-token'
2024-08-24 09:07:22.494 +05:30 [DBG] Request did not match any endpoints
2024-08-24 09:07:22.494 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:07:22.494 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:07:22.494 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:07:22.494 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:07:22.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/refresh-token - 204 null null 0.9647ms
2024-08-24 09:07:22.495 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/refresh-token - application/json 2
2024-08-24 09:07:22.495 +05:30 [DBG] No candidates found for the request path '/refresh-token'
2024-08-24 09:07:22.495 +05:30 [DBG] Request did not match any endpoints
2024-08-24 09:07:22.495 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:07:22.495 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:07:22.496 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:37:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 09:07:22.496 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 2:10:28 AM', Current time: '8/24/2024 3:37:22 AM'.
2024-08-24 09:07:22.497 +05:30 [DBG] POST requests are not supported
2024-08-24 09:07:22.497 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:07:22.497 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/refresh-token - 404 0 null 1.9284ms
2024-08-24 09:07:22.497 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5242/refresh-token, Response status code: 404
2024-08-24 09:07:22.497 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000004": started reading request body.
2024-08-24 09:07:22.497 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000004": done reading request body.
2024-08-24 09:07:50.706 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 09:07:50.707 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 09:07:50.707 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:07:50.707 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:07:50.707 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:07:50.708 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:07:50.709 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:07:50.709 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:07:50.715 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:07:50.717 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:07:50.717 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:07:50.717 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:07:50.738 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:07:50.739 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:07:50.749 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:07:50.751 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:07:50.751 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:07:50.751 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:07:50.752 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:07:50.752 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:07:50.752 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:07:50.752 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:07:50.752 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:07:50.754 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:07:50.754 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:07:50.754 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:07:50.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 48.5272ms
2024-08-24 09:08:02.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 09:08:02.773 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:08:02.773 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:08:02.773 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:08:02.773 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:08:02.773 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:08:02.774 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:08:02.774 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 2.3622ms
2024-08-24 09:08:02.774 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 09:08:02.775 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:08:02.775 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:08:02.775 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:08:02.775 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:08:02.775 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:08:02.775 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:08:02.775 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:08:02.775 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000006": started reading request body.
2024-08-24 09:08:02.775 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000006": done reading request body.
2024-08-24 09:08:02.777 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 09:08:02.923 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:08:02.924 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:08:02.924 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:08:02.924 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:08:02.925 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:08:02.925 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:08:02.927 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:08:02.927 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:08:02.927 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:08:02.927 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.041 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 09:08:03.042 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:08:03.042 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:08:03.042 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.042 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.043 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:08:03.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:08:03.044 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:08:03.044 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:08:03.044 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.044 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.044 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:08:03.044 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:08:03.044 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:08:03.044 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:08:03.044 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.045 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:08:03.045 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:08:03.045 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:08:03.045 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:08:03.045 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:08:03.048 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:08:03.049 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:08:03.049 +05:30 [DBG] Committing transaction.
2024-08-24 09:08:03.051 +05:30 [DBG] Committed transaction.
2024-08-24 09:08:03.051 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.051 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.051 +05:30 [DBG] Disposing transaction.
2024-08-24 09:08:03.051 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:08:03.051 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:08:03.051 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:08:03.051 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:08:03.051 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:08:03.051 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:08:03.051 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.052 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.052 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:08:03.052 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:08:03.052 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:08:03.052 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:08:03.053 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:08:03.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:08:03.054 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:08:03.054 +05:30 [DBG] Committing transaction.
2024-08-24 09:08:03.055 +05:30 [DBG] Committed transaction.
2024-08-24 09:08:03.055 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.055 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:08:03.055 +05:30 [DBG] Disposing transaction.
2024-08-24 09:08:03.055 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:08:03.055 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:08:03.055 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:08:03.055 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 09:08:03.055 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:08:03.055 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:08:03.055 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:08:03.055 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 281.0439ms
2024-08-24 09:08:16.419 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:08:16.420 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:08:16.420 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:08:16.420 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:08:16.420 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:08:16.420 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:08:16.420 +05:30 [DBG] Connection id "0HN63RUB23983" completed keep alive response.
2024-08-24 09:08:16.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.1877ms
2024-08-24 09:08:16.421 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 09:08:16.421 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:08:16.421 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:08:16.421 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:08:16.421 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:08:16.422 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:08:16.422 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:08:16.423 +05:30 [DBG] Authorization was successful.
2024-08-24 09:08:16.423 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:08:16.423 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:08:16.424 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000007": started reading request body.
2024-08-24 09:08:16.424 +05:30 [DBG] Connection id "0HN63RUB23984", Request id "0HN63RUB23984:00000007": done reading request body.
2024-08-24 09:08:16.439 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:08:16.444 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Lastname, 
            pattern: __Format_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-24 09:08:16.460 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 09:08:16.463 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (p.Lastname LIKE @__Format_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 09:08:16.464 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:08:16.464 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:08:16.464 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:08:16.465 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:08:16.465 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:08:16.480 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:08:16.482 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:08:16.482 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:08:16.482 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:08:16.487 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:08:16.488 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:08:16.490 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:08:16.490 +05:30 [DBG] Connection id "0HN63RUB23984" completed keep alive response.
2024-08-24 09:08:16.490 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:08:16.490 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 69.4533ms
2024-08-24 09:10:27.313 +05:30 [DBG] Connection id "0HN63RUB23984" disconnecting.
2024-08-24 09:10:27.313 +05:30 [DBG] Connection id "0HN63RUB23983" disconnecting.
2024-08-24 09:10:27.315 +05:30 [DBG] Connection id "0HN63RUB23984" stopped.
2024-08-24 09:10:27.315 +05:30 [DBG] Connection id "0HN63RUB23983" stopped.
2024-08-24 09:10:27.315 +05:30 [DBG] Connection id "0HN63RUB23983" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:10:27.316 +05:30 [DBG] Connection id "0HN63RUB23984" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:11:21.835 +05:30 [DBG] Connection id "0HN63RUB23985" accepted.
2024-08-24 09:11:21.836 +05:30 [DBG] Connection id "0HN63RUB23985" started.
2024-08-24 09:11:21.837 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:11:21.838 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:11:21.838 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:11:21.838 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:11:21.838 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:11:21.838 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:11:21.839 +05:30 [DBG] Connection id "0HN63RUB23985" completed keep alive response.
2024-08-24 09:11:21.839 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.72ms
2024-08-24 09:11:21.840 +05:30 [DBG] Connection id "0HN63RUB23986" accepted.
2024-08-24 09:11:21.841 +05:30 [DBG] Connection id "0HN63RUB23986" started.
2024-08-24 09:11:21.841 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 09:11:21.841 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:11:21.841 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:11:21.842 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:11:21.842 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:11:21.843 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:11:21.843 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:11:21.845 +05:30 [DBG] Authorization was successful.
2024-08-24 09:11:21.845 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:11:21.845 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:11:21.845 +05:30 [DBG] Connection id "0HN63RUB23986", Request id "0HN63RUB23986:00000001": started reading request body.
2024-08-24 09:11:21.845 +05:30 [DBG] Connection id "0HN63RUB23986", Request id "0HN63RUB23986:00000001": done reading request body.
2024-08-24 09:11:21.848 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:11:21.851 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:11:21.852 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:11:21.852 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:11:21.853 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:11:21.853 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:11:21.856 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:11:21.856 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:11:21.857 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:11:21.857 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:11:21.857 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:11:21.857 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:11:21.857 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:11:21.858 +05:30 [DBG] Connection id "0HN63RUB23986" completed keep alive response.
2024-08-24 09:11:21.858 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:11:21.858 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 16.6215ms
2024-08-24 09:12:13.231 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:12:13.233 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:12:13.233 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:12:13.233 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:12:13.233 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:12:13.233 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:12:13.233 +05:30 [DBG] Connection id "0HN63RUB23985" completed keep alive response.
2024-08-24 09:12:13.234 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 2.2208ms
2024-08-24 09:12:13.235 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 09:12:13.235 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:12:13.235 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:12:13.235 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:12:13.235 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:12:13.236 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:12:13.236 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:12:13.236 +05:30 [DBG] Authorization was successful.
2024-08-24 09:12:13.236 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:12:13.236 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:12:13.236 +05:30 [DBG] Connection id "0HN63RUB23986", Request id "0HN63RUB23986:00000002": started reading request body.
2024-08-24 09:12:13.237 +05:30 [DBG] Connection id "0HN63RUB23986", Request id "0HN63RUB23986:00000002": done reading request body.
2024-08-24 09:12:13.241 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:12:13.243 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:12:13.244 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:12:13.244 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:12:13.245 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:12:13.245 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:12:13.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:12:13.248 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:12:13.248 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:12:13.248 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:12:13.249 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:12:13.249 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:12:13.249 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:12:13.249 +05:30 [DBG] Connection id "0HN63RUB23986" completed keep alive response.
2024-08-24 09:12:13.249 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:12:13.250 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 14.8823ms
2024-08-24 09:14:23.550 +05:30 [DBG] Connection id "0HN63RUB23985" disconnecting.
2024-08-24 09:14:23.550 +05:30 [DBG] Connection id "0HN63RUB23986" disconnecting.
2024-08-24 09:14:23.552 +05:30 [DBG] Connection id "0HN63RUB23985" stopped.
2024-08-24 09:14:23.552 +05:30 [DBG] Connection id "0HN63RUB23986" stopped.
2024-08-24 09:14:23.553 +05:30 [DBG] Connection id "0HN63RUB23985" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:14:23.553 +05:30 [DBG] Connection id "0HN63RUB23986" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:18:37.076 +05:30 [DBG] Connection id "0HN63RUB23987" accepted.
2024-08-24 09:18:37.076 +05:30 [DBG] Connection id "0HN63RUB23987" started.
2024-08-24 09:18:37.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 09:18:37.078 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 09:18:37.078 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:18:37.079 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:18:37.079 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:18:37.080 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:18:37.081 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:18:37.081 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:18:37.086 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:18:37.091 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:18:37.092 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-24 09:18:37.092 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:18:37.113 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:18:37.113 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:18:37.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:18:37.115 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:18:37.115 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:18:37.115 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:18:37.115 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:18:37.115 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:18:37.115 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:18:37.115 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:18:37.115 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:18:37.116 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:18:37.116 +05:30 [DBG] Connection id "0HN63RUB23987" completed keep alive response.
2024-08-24 09:18:37.116 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:18:37.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 38.5471ms
2024-08-24 09:20:04.853 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 09:20:04.854 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 09:20:04.854 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:20:04.854 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:20:04.854 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:20:04.854 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:20:04.854 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:20:04.854 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:20:04.855 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:20:04.855 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:04.855 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:04.855 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:04.856 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:04.856 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:20:04.856 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:20:04.856 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:04.856 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:04.856 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:04.856 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:04.856 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:04.856 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:04.857 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:20:04.857 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:20:04.857 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:20:04.857 +05:30 [DBG] Connection id "0HN63RUB23987" completed keep alive response.
2024-08-24 09:20:04.857 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:20:04.857 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 3.4317ms
2024-08-24 09:20:15.712 +05:30 [DBG] Connection id "0HN63RUB23988" accepted.
2024-08-24 09:20:15.712 +05:30 [DBG] Connection id "0HN63RUB23988" started.
2024-08-24 09:20:15.713 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 09:20:15.713 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:20:15.713 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:20:15.713 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:20:15.713 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:20:15.713 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:20:15.713 +05:30 [DBG] Connection id "0HN63RUB23988" completed keep alive response.
2024-08-24 09:20:15.713 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.7347ms
2024-08-24 09:20:15.714 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 09:20:15.714 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:20:15.714 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:20:15.714 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:20:15.714 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:20:15.715 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:20:15.715 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:20:15.715 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:20:15.715 +05:30 [DBG] Connection id "0HN63RUB23987", Request id "0HN63RUB23987:00000003": started reading request body.
2024-08-24 09:20:15.715 +05:30 [DBG] Connection id "0HN63RUB23987", Request id "0HN63RUB23987:00000003": done reading request body.
2024-08-24 09:20:15.718 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 09:20:15.855 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:20:15.856 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:15.856 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:15.856 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.857 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.857 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:20:15.859 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:20:15.859 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:15.859 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.859 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.970 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 09:20:15.970 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:15.970 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:15.970 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.971 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.971 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:20:15.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:20:15.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:15.972 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:15.972 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.972 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.972 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:15.972 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:20:15.972 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:20:15.972 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:20:15.972 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.973 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.973 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:20:15.973 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:20:15.974 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:15.974 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:15.974 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:20:15.974 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:20:15.974 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:15.974 +05:30 [DBG] Committing transaction.
2024-08-24 09:20:15.978 +05:30 [DBG] Committed transaction.
2024-08-24 09:20:15.978 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.978 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.978 +05:30 [DBG] Disposing transaction.
2024-08-24 09:20:15.978 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:15.978 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:20:15.978 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:15.978 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:20:15.978 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:20:15.978 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:20:15.978 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.978 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.978 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:20:15.979 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:20:15.979 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:15.979 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:15.979 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:20:15.980 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:20:15.981 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:15.981 +05:30 [DBG] Committing transaction.
2024-08-24 09:20:15.981 +05:30 [DBG] Committed transaction.
2024-08-24 09:20:15.981 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.981 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:15.981 +05:30 [DBG] Disposing transaction.
2024-08-24 09:20:15.981 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:20:15.981 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:20:15.981 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:20:15.981 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 09:20:15.981 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:20:15.981 +05:30 [DBG] Connection id "0HN63RUB23987" completed keep alive response.
2024-08-24 09:20:15.981 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:20:15.981 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 267.4055ms
2024-08-24 09:20:28.277 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:20:28.278 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:20:28.279 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:20:28.279 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:20:28.281 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:20:28.290 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:20:28.291 +05:30 [DBG] Connection id "0HN63RUB23988" completed keep alive response.
2024-08-24 09:20:28.291 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 14.6468ms
2024-08-24 09:20:28.292 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 09:20:28.293 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:20:28.293 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:20:28.293 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:20:28.293 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:20:28.293 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:20:28.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:20:28.293 +05:30 [DBG] Authorization was successful.
2024-08-24 09:20:28.293 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:20:28.293 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:20:28.294 +05:30 [DBG] Connection id "0HN63RUB23987", Request id "0HN63RUB23987:00000004": started reading request body.
2024-08-24 09:20:28.294 +05:30 [DBG] Connection id "0HN63RUB23987", Request id "0HN63RUB23987:00000004": done reading request body.
2024-08-24 09:20:28.294 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:20:28.297 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:20:28.298 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:20:28.298 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:20:28.299 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:20:28.299 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:20:28.301 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:20:28.301 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:20:28.301 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:20:28.301 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:20:28.301 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:20:28.301 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:20:28.301 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:20:28.301 +05:30 [DBG] Connection id "0HN63RUB23987" completed keep alive response.
2024-08-24 09:20:28.301 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:20:28.302 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.1229ms
2024-08-24 09:22:39.061 +05:30 [DBG] Connection id "0HN63RUB23987" disconnecting.
2024-08-24 09:22:39.064 +05:30 [DBG] Connection id "0HN63RUB23988" disconnecting.
2024-08-24 09:22:39.066 +05:30 [DBG] Connection id "0HN63RUB23988" stopped.
2024-08-24 09:22:39.066 +05:30 [DBG] Connection id "0HN63RUB23987" stopped.
2024-08-24 09:22:39.066 +05:30 [DBG] Connection id "0HN63RUB23987" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:22:39.066 +05:30 [DBG] Connection id "0HN63RUB23988" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:23:16.776 +05:30 [DBG] Connection id "0HN63RUB23989" accepted.
2024-08-24 09:23:16.776 +05:30 [DBG] Connection id "0HN63RUB23989" started.
2024-08-24 09:23:16.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:23:16.778 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:23:16.778 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:23:16.778 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:23:16.778 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:23:16.778 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:23:16.779 +05:30 [DBG] Connection id "0HN63RUB23989" completed keep alive response.
2024-08-24 09:23:16.779 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.229ms
2024-08-24 09:23:16.780 +05:30 [DBG] Connection id "0HN63RUB2398A" accepted.
2024-08-24 09:23:16.780 +05:30 [DBG] Connection id "0HN63RUB2398A" started.
2024-08-24 09:23:16.780 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-24 09:23:16.780 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:23:16.780 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:23:16.780 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:23:16.780 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:23:16.781 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:23:16.781 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:23:16.781 +05:30 [DBG] Authorization was successful.
2024-08-24 09:23:16.781 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:23:16.781 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:23:16.781 +05:30 [DBG] Connection id "0HN63RUB2398A", Request id "0HN63RUB2398A:00000001": started reading request body.
2024-08-24 09:23:16.781 +05:30 [DBG] Connection id "0HN63RUB2398A", Request id "0HN63RUB2398A:00000001": done reading request body.
2024-08-24 09:23:16.782 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:23:16.784 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:23:16.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:23:16.784 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:23:16.785 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:23:16.785 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:23:16.786 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:23:16.786 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:23:16.786 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:23:16.786 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:23:16.787 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:23:16.787 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:23:16.787 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:23:16.787 +05:30 [DBG] Connection id "0HN63RUB2398A" completed keep alive response.
2024-08-24 09:23:16.787 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:23:16.787 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.169ms
2024-08-24 09:25:28.226 +05:30 [DBG] Connection id "0HN63RUB23989" disconnecting.
2024-08-24 09:25:28.226 +05:30 [DBG] Connection id "0HN63RUB2398A" disconnecting.
2024-08-24 09:25:28.227 +05:30 [DBG] Connection id "0HN63RUB23989" stopped.
2024-08-24 09:25:28.227 +05:30 [DBG] Connection id "0HN63RUB2398A" stopped.
2024-08-24 09:25:28.227 +05:30 [DBG] Connection id "0HN63RUB23989" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:25:28.227 +05:30 [DBG] Connection id "0HN63RUB2398A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:33:09.798 +05:30 [DBG] Connection id "0HN63RUB2398B" accepted.
2024-08-24 09:33:09.798 +05:30 [DBG] Connection id "0HN63RUB2398B" started.
2024-08-24 09:33:09.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-24 09:33:09.799 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 09:33:09.799 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:33:09.800 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:09.800 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:09.800 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:33:09.800 +05:30 [DBG] Connection id "0HN63RUB2398B" completed keep alive response.
2024-08-24 09:33:09.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.8212ms
2024-08-24 09:33:09.801 +05:30 [DBG] Connection id "0HN63RUB2398C" accepted.
2024-08-24 09:33:09.801 +05:30 [DBG] Connection id "0HN63RUB2398C" started.
2024-08-24 09:33:09.801 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 09:33:09.801 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 09:33:09.801 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:33:09.801 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:09.801 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:09.802 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:33:09.802 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:33:09.802 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:33:09.802 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:33:09.804 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:33:09.805 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:09.806 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:09.806 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:09.821 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:09.821 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:33:09.822 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 09:33:09.822 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:09.822 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:09.822 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:09.822 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:09.822 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:09.822 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:09.822 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:33:09.822 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:33:09.822 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 09:33:09.822 +05:30 [DBG] Connection id "0HN63RUB2398C" completed keep alive response.
2024-08-24 09:33:09.822 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:33:09.822 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 21.5677ms
2024-08-24 09:33:21.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 09:33:21.221 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:33:21.221 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:33:21.221 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:21.222 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:21.222 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:33:21.222 +05:30 [DBG] Connection id "0HN63RUB2398B" completed keep alive response.
2024-08-24 09:33:21.222 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.8517ms
2024-08-24 09:33:21.223 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 09:33:21.223 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:33:21.223 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:33:21.223 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:21.223 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:21.223 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:33:21.223 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:33:21.223 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:33:21.224 +05:30 [DBG] Connection id "0HN63RUB2398C", Request id "0HN63RUB2398C:00000002": started reading request body.
2024-08-24 09:33:21.224 +05:30 [DBG] Connection id "0HN63RUB2398C", Request id "0HN63RUB2398C:00000002": done reading request body.
2024-08-24 09:33:21.225 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 09:33:21.364 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:33:21.365 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:21.365 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:21.365 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.365 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.365 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:33:21.367 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:33:21.367 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:21.367 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.367 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.472 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 09:33:21.473 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:21.473 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:21.473 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.473 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.473 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:33:21.474 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:33:21.474 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:21.474 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:21.474 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.474 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.474 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:21.474 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:33:21.474 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:33:21.474 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:33:21.474 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.475 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.475 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:33:21.475 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:33:21.475 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:21.475 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:21.475 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:33:21.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:33:21.476 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:21.476 +05:30 [DBG] Committing transaction.
2024-08-24 09:33:21.479 +05:30 [DBG] Committed transaction.
2024-08-24 09:33:21.479 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.479 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.479 +05:30 [DBG] Disposing transaction.
2024-08-24 09:33:21.479 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:21.479 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:33:21.479 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:21.479 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:33:21.479 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:33:21.479 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:33:21.479 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.480 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.480 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:33:21.480 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:33:21.480 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:21.480 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:21.480 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:33:21.482 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:33:21.482 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:21.482 +05:30 [DBG] Committing transaction.
2024-08-24 09:33:21.482 +05:30 [DBG] Committed transaction.
2024-08-24 09:33:21.482 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.482 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:21.482 +05:30 [DBG] Disposing transaction.
2024-08-24 09:33:21.482 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:33:21.482 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:33:21.482 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:33:21.483 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 09:33:21.483 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:33:21.483 +05:30 [DBG] Connection id "0HN63RUB2398C" completed keep alive response.
2024-08-24 09:33:21.483 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:33:21.483 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 260.115ms
2024-08-24 09:33:28.228 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:33:28.228 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:33:28.228 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:33:28.228 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:28.228 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:28.228 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:33:28.228 +05:30 [DBG] Connection id "0HN63RUB2398B" completed keep alive response.
2024-08-24 09:33:28.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8029ms
2024-08-24 09:33:28.229 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:33:28.229 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:33:28.229 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:33:28.229 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:33:28.229 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:33:28.230 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:33:28.230 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:33:28.230 +05:30 [DBG] Authorization was successful.
2024-08-24 09:33:28.230 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:33:28.231 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:33:28.231 +05:30 [DBG] Connection id "0HN63RUB2398C", Request id "0HN63RUB2398C:00000003": started reading request body.
2024-08-24 09:33:28.231 +05:30 [DBG] Connection id "0HN63RUB2398C", Request id "0HN63RUB2398C:00000003": done reading request body.
2024-08-24 09:33:28.232 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:33:28.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:33:28.234 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:33:28.234 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:33:28.235 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:33:28.235 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:33:28.237 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:33:28.237 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:33:28.237 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:33:28.238 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:33:28.238 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:33:28.238 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:33:28.238 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:33:28.238 +05:30 [DBG] Connection id "0HN63RUB2398C" completed keep alive response.
2024-08-24 09:33:28.238 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:33:28.239 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.6545ms
2024-08-24 09:35:39.166 +05:30 [DBG] Connection id "0HN63RUB2398B" disconnecting.
2024-08-24 09:35:39.166 +05:30 [DBG] Connection id "0HN63RUB2398C" disconnecting.
2024-08-24 09:35:39.167 +05:30 [DBG] Connection id "0HN63RUB2398B" stopped.
2024-08-24 09:35:39.167 +05:30 [DBG] Connection id "0HN63RUB2398C" stopped.
2024-08-24 09:35:39.167 +05:30 [DBG] Connection id "0HN63RUB2398C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:35:39.167 +05:30 [DBG] Connection id "0HN63RUB2398B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:43:24.859 +05:30 [DBG] Connection id "0HN63RUB2398D" accepted.
2024-08-24 09:43:24.861 +05:30 [DBG] Connection id "0HN63RUB2398D" started.
2024-08-24 09:43:24.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:43:24.863 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:43:24.863 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:43:24.864 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:43:24.865 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:43:24.865 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:43:24.866 +05:30 [DBG] Connection id "0HN63RUB2398D" completed keep alive response.
2024-08-24 09:43:24.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 3.9587ms
2024-08-24 09:43:24.868 +05:30 [DBG] Connection id "0HN63RUB2398E" accepted.
2024-08-24 09:43:24.868 +05:30 [DBG] Connection id "0HN63RUB2398E" started.
2024-08-24 09:43:24.868 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:43:24.869 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:43:24.869 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:43:24.869 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:43:24.869 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:43:24.871 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:43:24.871 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:43:24.872 +05:30 [DBG] Authorization was successful.
2024-08-24 09:43:24.872 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:43:24.872 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:43:24.873 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000001": started reading request body.
2024-08-24 09:43:24.873 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000001": done reading request body.
2024-08-24 09:43:24.877 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:43:24.881 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:43:24.882 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:43:24.882 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:43:24.897 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:43:24.898 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:43:24.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:43:24.899 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:43:24.899 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:43:24.899 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:43:24.900 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:43:24.900 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:43:24.900 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:43:24.900 +05:30 [DBG] Connection id "0HN63RUB2398E" completed keep alive response.
2024-08-24 09:43:24.900 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:43:24.900 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 31.9245ms
2024-08-24 09:44:31.731 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 09:44:31.732 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:44:31.732 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:44:31.732 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:44:31.732 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:44:31.732 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:44:31.732 +05:30 [DBG] Connection id "0HN63RUB2398D" completed keep alive response.
2024-08-24 09:44:31.733 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.7718ms
2024-08-24 09:44:31.733 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 09:44:31.733 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 09:44:31.733 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:44:31.733 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:44:31.733 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:44:31.734 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 09:44:31.734 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:44:31.734 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:44:31.734 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000002": started reading request body.
2024-08-24 09:44:31.734 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000002": done reading request body.
2024-08-24 09:44:31.735 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 09:44:31.874 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:44:31.875 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:44:31.875 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:44:31.875 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.876 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.876 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:44:31.878 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:44:31.878 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:44:31.878 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.878 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.989 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 09:44:31.990 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:44:31.990 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:44:31.990 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.990 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.991 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:44:31.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 09:44:31.991 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:44:31.991 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:44:31.991 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.991 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.992 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:44:31.992 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:44:31.992 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:44:31.992 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:44:31.992 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.992 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.992 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:44:31.992 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:44:31.993 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:44:31.993 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:44:31.993 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:44:31.993 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 09:44:31.993 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:44:31.993 +05:30 [DBG] Committing transaction.
2024-08-24 09:44:31.996 +05:30 [DBG] Committed transaction.
2024-08-24 09:44:31.996 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.996 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.996 +05:30 [DBG] Disposing transaction.
2024-08-24 09:44:31.996 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:44:31.996 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:44:31.996 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:44:31.996 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 09:44:31.996 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 09:44:31.996 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 09:44:31.996 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.997 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:44:31.997 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 09:44:31.997 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 09:44:31.997 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:44:31.997 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:44:31.997 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:44:31.999 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 09:44:31.999 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:44:31.999 +05:30 [DBG] Committing transaction.
2024-08-24 09:44:32.000 +05:30 [DBG] Committed transaction.
2024-08-24 09:44:32.000 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:44:32.000 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:44:32.000 +05:30 [DBG] Disposing transaction.
2024-08-24 09:44:32.000 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 09:44:32.000 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 09:44:32.000 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:44:32.000 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 09:44:32.000 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 09:44:32.000 +05:30 [DBG] Connection id "0HN63RUB2398E" completed keep alive response.
2024-08-24 09:44:32.000 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:44:32.000 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 267.1175ms
2024-08-24 09:44:40.644 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:44:40.645 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:44:40.645 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:44:40.645 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:44:40.645 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:44:40.645 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:44:40.645 +05:30 [DBG] Connection id "0HN63RUB2398D" completed keep alive response.
2024-08-24 09:44:40.646 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.1327ms
2024-08-24 09:44:40.646 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 36
2024-08-24 09:44:40.647 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:44:40.647 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:44:40.647 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:44:40.647 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:44:40.647 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:44:40.647 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:44:40.648 +05:30 [DBG] Authorization was successful.
2024-08-24 09:44:40.648 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:44:40.648 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:44:40.649 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000003": started reading request body.
2024-08-24 09:44:40.649 +05:30 [DBG] Connection id "0HN63RUB2398E", Request id "0HN63RUB2398E:00000003": done reading request body.
2024-08-24 09:44:40.650 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:44:40.652 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:44:40.652 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:44:40.652 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:44:40.653 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:44:40.653 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:44:40.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:44:40.654 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:44:40.655 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:44:40.655 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:44:40.655 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:44:40.655 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:44:40.655 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:44:40.655 +05:30 [DBG] Connection id "0HN63RUB2398E" completed keep alive response.
2024-08-24 09:44:40.655 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:44:40.655 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.9945ms
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398D" disconnecting.
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398E" disconnecting.
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398D" stopped.
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398E" stopped.
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:46:51.207 +05:30 [DBG] Connection id "0HN63RUB2398E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:51:14.323 +05:30 [DBG] Connection id "0HN63RUB2398F" accepted.
2024-08-24 09:51:14.329 +05:30 [DBG] Connection id "0HN63RUB2398F" started.
2024-08-24 09:51:14.371 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:51:14.380 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:14.381 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:51:14.388 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:14.392 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:14.397 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:51:14.401 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:51:14.401 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 31.208ms
2024-08-24 09:51:14.403 +05:30 [DBG] Connection id "0HN63RUB2398G" accepted.
2024-08-24 09:51:14.405 +05:30 [DBG] Connection id "0HN63RUB2398G" started.
2024-08-24 09:51:14.416 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 36
2024-08-24 09:51:14.424 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:14.424 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:14.424 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:14.424 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:14.435 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:51:14.435 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:51:14.436 +05:30 [DBG] Authorization was successful.
2024-08-24 09:51:14.436 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:51:14.436 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:14.437 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000001": started reading request body.
2024-08-24 09:51:14.437 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000001": done reading request body.
2024-08-24 09:51:14.439 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:51:14.441 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:51:14.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:51:14.441 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:51:14.479 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:51:14.479 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:51:14.481 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:51:14.482 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:51:14.482 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:51:14.482 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:51:14.482 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:51:14.482 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:51:14.482 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:14.483 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:51:14.483 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:51:14.483 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 68.8771ms
2024-08-24 09:51:26.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:51:26.197 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:26.197 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:51:26.197 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:26.198 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:26.198 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:51:26.198 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:51:26.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.1454ms
2024-08-24 09:51:26.198 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-24 09:51:26.199 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:26.199 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:26.199 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:26.199 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:26.200 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:51:26.200 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:51:26.200 +05:30 [DBG] Authorization was successful.
2024-08-24 09:51:26.200 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:51:26.200 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:26.200 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000002": started reading request body.
2024-08-24 09:51:26.200 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000002": done reading request body.
2024-08-24 09:51:26.201 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:51:26.204 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_2)'
2024-08-24 09:51:26.213 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 09:51:26.216 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_2) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE p.Firstname LIKE @__Format_1), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 09:51:26.217 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:51:26.217 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:51:26.217 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:51:26.218 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:51:26.218 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:51:26.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:51:26.220 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:51:26.220 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:51:26.220 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:51:26.221 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:51:26.221 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:51:26.221 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:26.221 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:51:26.221 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:51:26.221 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 22.711ms
2024-08-24 09:51:42.850 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:51:42.851 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:42.851 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:51:42.851 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:42.851 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:42.851 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:51:42.851 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:51:42.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.9492ms
2024-08-24 09:51:42.852 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:51:42.852 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:51:42.852 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:42.852 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:51:42.852 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:51:42.853 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:51:42.853 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:51:42.853 +05:30 [DBG] Authorization was successful.
2024-08-24 09:51:42.853 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:51:42.853 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:42.854 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000003": started reading request body.
2024-08-24 09:51:42.854 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000003": done reading request body.
2024-08-24 09:51:42.855 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:51:42.858 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:51:42.859 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:51:42.859 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:51:42.860 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:51:42.860 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:51:42.862 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:51:42.862 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:51:42.862 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:51:42.862 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:51:42.863 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:51:42.863 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:51:42.863 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:51:42.863 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:51:42.863 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:51:42.864 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.7697ms
2024-08-24 09:52:16.471 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:52:16.472 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:16.472 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:52:16.472 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:16.472 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:16.472 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:52:16.472 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:52:16.472 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4294ms
2024-08-24 09:52:16.473 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 37
2024-08-24 09:52:16.473 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:16.473 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:16.473 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:16.473 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:16.474 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:52:16.474 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:52:16.474 +05:30 [DBG] Authorization was successful.
2024-08-24 09:52:16.474 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:52:16.474 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:16.475 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000004": started reading request body.
2024-08-24 09:52:16.475 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000004": done reading request body.
2024-08-24 09:52:16.476 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:52:16.478 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:52:16.478 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:52:16.478 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:52:16.479 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:52:16.479 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:52:16.481 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:52:16.481 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:52:16.481 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:52:16.482 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:52:16.482 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:52:16.482 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:52:16.482 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:16.482 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:52:16.482 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:52:16.482 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.4189ms
2024-08-24 09:52:42.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:52:42.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:42.216 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:52:42.216 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:42.216 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:42.216 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:52:42.216 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:52:42.216 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.965ms
2024-08-24 09:52:42.217 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 28
2024-08-24 09:52:42.218 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:42.218 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:42.218 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:42.218 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:42.219 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:52:42.220 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:52:42.220 +05:30 [DBG] Authorization was successful.
2024-08-24 09:52:42.220 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:52:42.220 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:42.221 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000005": started reading request body.
2024-08-24 09:52:42.221 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000005": done reading request body.
2024-08-24 09:52:42.225 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:52:42.227 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => p.PhoneNumber.Equals(__request_PhoneNumber_0))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_1)'
2024-08-24 09:52:42.230 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 09:52:42.233 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_1) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE t.PhoneNumber == @__request_PhoneNumber_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 09:52:42.238 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:52:42.239 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:52:42.239 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:52:42.239 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:52:42.240 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_PhoneNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t`.`PhoneNumber` = @__request_PhoneNumber_0
LIMIT @__p_1
2024-08-24 09:52:42.241 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_PhoneNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t`.`PhoneNumber` = @__request_PhoneNumber_0
LIMIT @__p_1
2024-08-24 09:52:42.241 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:52:42.241 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:52:42.242 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:52:42.242 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:52:42.242 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:52:42.242 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:42.242 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:52:42.242 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:52:42.242 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 25.0345ms
2024-08-24 09:52:59.995 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:52:59.996 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:59.996 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:52:59.996 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:59.996 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:59.996 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:52:59.996 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:52:59.996 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8357ms
2024-08-24 09:52:59.997 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 33
2024-08-24 09:52:59.997 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:52:59.997 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:59.997 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:52:59.997 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:52:59.998 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:52:59.999 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:52:59.999 +05:30 [DBG] Authorization was successful.
2024-08-24 09:52:59.999 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:52:59.999 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:52:59.999 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000006": started reading request body.
2024-08-24 09:52:59.999 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000006": done reading request body.
2024-08-24 09:53:00.002 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:53:00.005 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(e => e.IdentityNumber.Equals(__request_IdentityNumber_0))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_1)'
2024-08-24 09:53:00.010 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 09:53:00.014 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_1) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE t1.IdentityNumber == @__request_IdentityNumber_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 09:53:00.014 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:53:00.014 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:53:00.015 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:53:00.015 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:53:00.015 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:00.017 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:00.018 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:53:00.018 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:53:00.018 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:53:00.018 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:53:00.018 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:53:00.018 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:00.018 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:53:00.018 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:53:00.018 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 21.5954ms
2024-08-24 09:53:22.604 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:53:22.604 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:53:22.605 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:53:22.605 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:53:22.605 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:53:22.605 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:53:22.605 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:53:22.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.2976ms
2024-08-24 09:53:22.606 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 33
2024-08-24 09:53:22.606 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:53:22.606 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:22.606 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:53:22.606 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:53:22.607 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:53:22.607 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:53:22.607 +05:30 [DBG] Authorization was successful.
2024-08-24 09:53:22.608 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:53:22.608 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:22.608 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000007": started reading request body.
2024-08-24 09:53:22.608 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000007": done reading request body.
2024-08-24 09:53:22.609 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:53:22.611 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:53:22.611 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:53:22.612 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:53:22.612 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:53:22.613 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:22.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:22.614 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:53:22.615 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:53:22.615 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:53:22.615 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:53:22.615 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:53:22.615 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:22.616 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:53:22.616 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:53:22.616 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.9263ms
2024-08-24 09:53:46.732 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:53:46.732 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:53:46.733 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:53:46.733 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:53:46.733 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:53:46.733 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:53:46.733 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:53:46.733 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.2202ms
2024-08-24 09:53:46.734 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 33
2024-08-24 09:53:46.734 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:53:46.735 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:46.735 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:53:46.735 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:53:46.735 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:53:46.736 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:53:46.736 +05:30 [DBG] Authorization was successful.
2024-08-24 09:53:46.736 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:53:46.736 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:46.736 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000008": started reading request body.
2024-08-24 09:53:46.736 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000008": done reading request body.
2024-08-24 09:53:46.738 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:53:46.739 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:53:46.740 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:53:46.740 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:53:46.746 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:53:46.746 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:46.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_IdentityNumber_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t1`.`IdentityNumber` = @__request_IdentityNumber_0
LIMIT @__p_1
2024-08-24 09:53:46.748 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:53:46.748 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:53:46.748 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:53:46.748 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:53:46.748 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:53:46.748 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:53:46.748 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:53:46.749 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:53:46.749 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 14.656ms
2024-08-24 09:54:33.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:54:33.879 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:33.879 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:54:33.879 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:33.879 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:33.880 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:54:33.880 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:54:33.880 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 2.2567ms
2024-08-24 09:54:33.882 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 09:54:33.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:33.882 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:33.882 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:33.882 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:33.882 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:54:33.883 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:54:33.883 +05:30 [DBG] Authorization was successful.
2024-08-24 09:54:33.883 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:54:33.883 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:33.883 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000009": started reading request body.
2024-08-24 09:54:33.883 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:00000009": done reading request body.
2024-08-24 09:54:33.884 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:54:33.887 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:54:33.887 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:54:33.887 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:54:33.888 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:54:33.888 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:54:33.889 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:54:33.890 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:54:33.890 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:54:33.890 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:54:33.890 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:54:33.890 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:54:33.890 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:33.890 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:54:33.890 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:54:33.891 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.8331ms
2024-08-24 09:54:44.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:54:44.899 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:44.899 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:54:44.900 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:44.900 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:44.900 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:54:44.900 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:54:44.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7336ms
2024-08-24 09:54:44.900 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 09:54:44.900 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:44.900 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:44.900 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:44.900 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:44.900 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:54:44.901 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:54:44.901 +05:30 [DBG] Authorization was successful.
2024-08-24 09:54:44.901 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:54:44.901 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:44.901 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000A": started reading request body.
2024-08-24 09:54:44.901 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000A": done reading request body.
2024-08-24 09:54:44.901 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:54:44.902 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:54:44.902 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:54:44.902 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:54:44.902 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:54:44.902 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:54:44.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 09:54:44.903 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:54:44.903 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:54:44.903 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:54:44.903 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:54:44.903 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:54:44.903 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:44.903 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:54:44.903 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:54:44.903 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 3.3885ms
2024-08-24 09:54:51.271 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 09:54:51.272 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:51.272 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 09:54:51.272 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:51.273 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:51.273 +05:30 [DBG] The request is a preflight request.
2024-08-24 09:54:51.273 +05:30 [DBG] Connection id "0HN63RUB2398F" completed keep alive response.
2024-08-24 09:54:51.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.9817ms
2024-08-24 09:54:51.274 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 09:54:51.274 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:51.274 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:51.274 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:51.274 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:51.275 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:54:51.275 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:54:51.275 +05:30 [DBG] Authorization was successful.
2024-08-24 09:54:51.276 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:54:51.276 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:51.276 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000B": started reading request body.
2024-08-24 09:54:51.276 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000B": done reading request body.
2024-08-24 09:54:51.277 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:54:51.280 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:54:51.280 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:54:51.280 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:54:51.281 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:54:51.281 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:54:51.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:54:51.284 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:54:51.284 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:54:51.284 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:54:51.284 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:54:51.284 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:54:51.285 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:51.285 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:54:51.285 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:54:51.285 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.1765ms
2024-08-24 09:54:55.622 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 09:54:55.622 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 09:54:55.622 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:55.622 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 09:54:55.622 +05:30 [INF] CORS policy execution successful.
2024-08-24 09:54:55.623 +05:30 [DBG] Successfully validated the token.
2024-08-24 09:54:55.623 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 09:54:55.623 +05:30 [DBG] Authorization was successful.
2024-08-24 09:54:55.623 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 09:54:55.623 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:55.623 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000C": started reading request body.
2024-08-24 09:54:55.623 +05:30 [DBG] Connection id "0HN63RUB2398G", Request id "0HN63RUB2398G:0000000C": done reading request body.
2024-08-24 09:54:55.625 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 09:54:55.626 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 09:54:55.626 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 09:54:55.627 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 09:54:55.627 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 09:54:55.627 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:54:55.629 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 09:54:55.629 +05:30 [DBG] A data reader was disposed.
2024-08-24 09:54:55.629 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 09:54:55.629 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 09:54:55.630 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 09:54:55.630 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 09:54:55.630 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 09:54:55.630 +05:30 [DBG] Connection id "0HN63RUB2398G" completed keep alive response.
2024-08-24 09:54:55.630 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 09:54:55.630 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.1578ms
2024-08-24 09:57:01.854 +05:30 [DBG] Connection id "0HN63RUB2398F" disconnecting.
2024-08-24 09:57:01.855 +05:30 [DBG] Connection id "0HN63RUB2398F" stopped.
2024-08-24 09:57:01.855 +05:30 [DBG] Connection id "0HN63RUB2398F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 09:57:05.858 +05:30 [DBG] Connection id "0HN63RUB2398G" disconnecting.
2024-08-24 09:57:05.858 +05:30 [DBG] Connection id "0HN63RUB2398G" stopped.
2024-08-24 09:57:05.860 +05:30 [DBG] Connection id "0HN63RUB2398G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 10:43:30.325 +05:30 [DBG] Connection id "0HN63RUB2398H" accepted.
2024-08-24 10:43:30.326 +05:30 [DBG] Connection id "0HN63RUB2398H" started.
2024-08-24 10:43:30.329 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 10:43:30.330 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 10:43:30.330 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 10:43:30.331 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 10:43:30.331 +05:30 [INF] CORS policy execution successful.
2024-08-24 10:43:30.332 +05:30 [DBG] The request is a preflight request.
2024-08-24 10:43:30.332 +05:30 [DBG] Connection id "0HN63RUB2398H" completed keep alive response.
2024-08-24 10:43:30.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 2.7785ms
2024-08-24 10:43:30.334 +05:30 [DBG] Connection id "0HN63RUB2398I" accepted.
2024-08-24 10:43:30.334 +05:30 [DBG] Connection id "0HN63RUB2398I" started.
2024-08-24 10:43:30.334 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 10:43:30.334 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 10:43:30.334 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 10:43:30.334 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 10:43:30.335 +05:30 [INF] CORS policy execution successful.
2024-08-24 10:43:30.336 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 4:29:31 AM', Current time: '8/24/2024 5:13:30 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 10:43:30.337 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 4:29:31 AM', Current time: '8/24/2024 5:13:30 AM'.
2024-08-24 10:43:30.338 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 10:43:30.338 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 10:43:30.338 +05:30 [DBG] Connection id "0HN63RUB2398I", Request id "0HN63RUB2398I:00000001": started reading request body.
2024-08-24 10:43:30.338 +05:30 [DBG] Connection id "0HN63RUB2398I", Request id "0HN63RUB2398I:00000001": done reading request body.
2024-08-24 10:43:30.339 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 10:43:30.468 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 10:43:30.469 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 10:43:30.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 10:43:30.469 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.489 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.489 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 10:43:30.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 10:43:30.490 +05:30 [DBG] A data reader was disposed.
2024-08-24 10:43:30.490 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.490 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.595 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 10:43:30.596 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 10:43:30.596 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 10:43:30.596 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.596 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.596 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 10:43:30.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 10:43:30.598 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 10:43:30.598 +05:30 [DBG] A data reader was disposed.
2024-08-24 10:43:30.598 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.598 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.598 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 10:43:30.598 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 10:43:30.598 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 10:43:30.598 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 10:43:30.598 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.598 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.599 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 10:43:30.599 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 10:43:30.599 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 10:43:30.599 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 10:43:30.599 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 10:43:30.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 10:43:30.600 +05:30 [DBG] A data reader was disposed.
2024-08-24 10:43:30.600 +05:30 [DBG] Committing transaction.
2024-08-24 10:43:30.603 +05:30 [DBG] Committed transaction.
2024-08-24 10:43:30.603 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.603 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.603 +05:30 [DBG] Disposing transaction.
2024-08-24 10:43:30.603 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 10:43:30.603 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 10:43:30.603 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 10:43:30.604 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 10:43:30.604 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 10:43:30.604 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 10:43:30.604 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.604 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.604 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 10:43:30.604 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 10:43:30.604 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 10:43:30.604 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 10:43:30.604 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 10:43:30.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 10:43:30.605 +05:30 [DBG] A data reader was disposed.
2024-08-24 10:43:30.606 +05:30 [DBG] Committing transaction.
2024-08-24 10:43:30.606 +05:30 [DBG] Committed transaction.
2024-08-24 10:43:30.606 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.606 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 10:43:30.606 +05:30 [DBG] Disposing transaction.
2024-08-24 10:43:30.606 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 10:43:30.606 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 10:43:30.606 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 10:43:30.606 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 10:43:30.607 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 10:43:30.607 +05:30 [DBG] Connection id "0HN63RUB2398I" completed keep alive response.
2024-08-24 10:43:30.607 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 10:43:30.607 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 272.605ms
2024-08-24 10:43:39.927 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 10:43:39.927 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 10:43:39.927 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 10:43:39.927 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 10:43:39.927 +05:30 [INF] CORS policy execution successful.
2024-08-24 10:43:39.927 +05:30 [DBG] The request is a preflight request.
2024-08-24 10:43:39.928 +05:30 [DBG] Connection id "0HN63RUB2398H" completed keep alive response.
2024-08-24 10:43:39.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0181ms
2024-08-24 10:43:39.928 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 38
2024-08-24 10:43:39.928 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 10:43:39.928 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 10:43:39.929 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 10:43:39.929 +05:30 [INF] CORS policy execution successful.
2024-08-24 10:43:39.929 +05:30 [DBG] Successfully validated the token.
2024-08-24 10:43:39.929 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 10:43:39.930 +05:30 [DBG] Authorization was successful.
2024-08-24 10:43:39.930 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 10:43:39.930 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 10:43:39.930 +05:30 [DBG] Connection id "0HN63RUB2398I", Request id "0HN63RUB2398I:00000002": started reading request body.
2024-08-24 10:43:39.930 +05:30 [DBG] Connection id "0HN63RUB2398I", Request id "0HN63RUB2398I:00000002": done reading request body.
2024-08-24 10:43:39.932 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 10:43:39.935 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 10:43:39.935 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 10:43:39.936 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 10:43:39.936 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 10:43:39.936 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 10:43:39.939 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 10:43:39.939 +05:30 [DBG] A data reader was disposed.
2024-08-24 10:43:39.939 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 10:43:39.939 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 10:43:39.940 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 10:43:39.940 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 10:43:39.941 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 10:43:39.941 +05:30 [DBG] Connection id "0HN63RUB2398I" completed keep alive response.
2024-08-24 10:43:39.941 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 10:43:39.941 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 12.5746ms
2024-08-24 10:45:51.026 +05:30 [DBG] Connection id "0HN63RUB2398H" disconnecting.
2024-08-24 10:45:51.026 +05:30 [DBG] Connection id "0HN63RUB2398I" disconnecting.
2024-08-24 10:45:51.026 +05:30 [DBG] Connection id "0HN63RUB2398H" stopped.
2024-08-24 10:45:51.026 +05:30 [DBG] Connection id "0HN63RUB2398I" stopped.
2024-08-24 10:45:51.026 +05:30 [DBG] Connection id "0HN63RUB2398H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 10:45:51.027 +05:30 [DBG] Connection id "0HN63RUB2398I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:23:40.060 +05:30 [DBG] Connection id "0HN63RUB2398J" accepted.
2024-08-24 11:23:40.062 +05:30 [DBG] Connection id "0HN63RUB2398J" started.
2024-08-24 11:23:40.063 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 11:23:40.063 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 11:23:40.063 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:23:40.063 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:23:40.064 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:23:40.064 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:23:40.064 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:23:40.064 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2774ms
2024-08-24 11:23:40.064 +05:30 [DBG] Connection id "0HN63RUB2398K" accepted.
2024-08-24 11:23:40.065 +05:30 [DBG] Connection id "0HN63RUB2398K" started.
2024-08-24 11:23:40.065 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 11:23:40.065 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 11:23:40.065 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:23:40.065 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:23:40.066 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:23:40.066 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 11:23:40.066 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:23:40.067 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:23:40.067 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000001": started reading request body.
2024-08-24 11:23:40.067 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000001": done reading request body.
2024-08-24 11:23:40.070 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 11:23:40.204 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:23:40.206 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:23:40.206 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:23:40.206 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.228 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.228 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:23:40.230 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:23:40.230 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:23:40.230 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.230 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.343 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 11:23:40.343 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:23:40.343 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:23:40.343 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.344 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.344 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:23:40.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:23:40.345 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:40.345 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:23:40.345 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.345 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.345 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:40.345 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 11:23:40.345 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 11:23:40.346 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 11:23:40.346 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.346 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.346 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 11:23:40.346 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 11:23:40.347 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:23:40.347 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:23:40.347 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 11:23:40.348 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 11:23:40.348 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:23:40.348 +05:30 [DBG] Committing transaction.
2024-08-24 11:23:40.350 +05:30 [DBG] Committed transaction.
2024-08-24 11:23:40.350 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.350 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.350 +05:30 [DBG] Disposing transaction.
2024-08-24 11:23:40.350 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:40.350 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 11:23:40.350 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:40.350 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 11:23:40.350 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 11:23:40.350 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 11:23:40.350 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.351 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.351 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 11:23:40.351 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 11:23:40.351 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:23:40.351 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:23:40.351 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 11:23:40.352 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 11:23:40.352 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:23:40.352 +05:30 [DBG] Committing transaction.
2024-08-24 11:23:40.352 +05:30 [DBG] Committed transaction.
2024-08-24 11:23:40.352 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.352 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:23:40.352 +05:30 [DBG] Disposing transaction.
2024-08-24 11:23:40.352 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:40.352 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 11:23:40.352 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:23:40.352 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 11:23:40.352 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:23:40.352 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:23:40.352 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:23:40.352 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 287.6004ms
2024-08-24 11:23:53.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-24 11:23:53.578 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 11:23:53.578 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:23:53.578 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:23:53.578 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:23:53.578 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:23:53.578 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:23:53.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 1.0714ms
2024-08-24 11:23:53.579 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 11:23:53.579 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 11:23:53.579 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:23:53.579 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:23:53.580 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:23:53.580 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:23:53.581 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:23:53.581 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:23:53.581 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:23:53.582 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:23:53.582 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:23:53.582 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:23:53.582 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:23:53.583 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:23:53.583 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 11:23:53.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 11:23:53.584 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:53.584 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:53.585 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:23:53.585 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:23:53.585 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:23:53.585 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:23:53.585 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:23:53.585 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:23:53.585 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:23:53.585 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:23:53.586 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:23:53.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 6.4067ms
2024-08-24 11:25:04.784 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:25:04.785 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:25:04.785 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:25:04.785 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:25:04.785 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:25:04.785 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:25:04.785 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:25:04.785 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.6745ms
2024-08-24 11:25:04.786 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 11:25:04.787 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:25:04.787 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:25:04.787 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:25:04.787 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:25:04.788 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:25:04.788 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:25:04.788 +05:30 [DBG] Authorization was successful.
2024-08-24 11:25:04.788 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:25:04.788 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:25:04.788 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000003": started reading request body.
2024-08-24 11:25:04.788 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000003": done reading request body.
2024-08-24 11:25:04.790 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:25:04.793 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:25:04.793 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:25:04.793 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:25:04.794 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:25:04.795 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:25:04.796 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:25:04.797 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:25:04.797 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:25:04.797 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:25:04.797 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:25:04.797 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:25:04.798 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:25:04.798 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:25:04.798 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:25:04.798 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.7038ms
2024-08-24 11:27:11.606 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:27:11.607 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:27:11.607 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:27:11.607 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:27:11.607 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:27:11.608 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:27:11.608 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:27:11.608 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.9124ms
2024-08-24 11:27:11.609 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 11:27:11.609 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:27:11.609 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:11.609 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:27:11.609 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:27:11.610 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:27:11.610 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:27:11.610 +05:30 [DBG] Authorization was successful.
2024-08-24 11:27:11.610 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:27:11.610 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:11.610 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000004": started reading request body.
2024-08-24 11:27:11.610 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000004": done reading request body.
2024-08-24 11:27:11.612 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:27:11.614 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:27:11.615 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:27:11.615 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:27:11.616 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:27:11.616 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:27:11.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:27:11.618 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:27:11.618 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:27:11.618 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:27:11.619 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:27:11.619 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:27:11.619 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:11.619 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:27:11.619 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:27:11.619 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 10.8012ms
2024-08-24 11:27:33.693 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:27:33.693 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:27:33.693 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:27:33.693 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:27:33.693 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:27:33.693 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:27:33.693 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:27:33.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8617ms
2024-08-24 11:27:33.694 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 11:27:33.694 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:27:33.694 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:33.694 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:27:33.694 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:27:33.695 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:27:33.695 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:27:33.695 +05:30 [DBG] Authorization was successful.
2024-08-24 11:27:33.695 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:27:33.695 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:33.696 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000005": started reading request body.
2024-08-24 11:27:33.696 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000005": done reading request body.
2024-08-24 11:27:33.697 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:27:33.699 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:27:33.700 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:27:33.700 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:27:33.701 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:27:33.701 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:27:33.703 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:27:33.703 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:27:33.703 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:27:33.703 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:27:33.704 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:27:33.704 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:27:33.704 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:27:33.704 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:27:33.704 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:27:33.704 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 10.2574ms
2024-08-24 11:28:59.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:28:59.174 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:28:59.174 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:28:59.174 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:28:59.174 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:28:59.174 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:28:59.175 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:28:59.175 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.8695ms
2024-08-24 11:28:59.175 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 11:28:59.176 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:28:59.176 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:28:59.176 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:28:59.176 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:28:59.176 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:28:59.176 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:28:59.176 +05:30 [DBG] Authorization was successful.
2024-08-24 11:28:59.176 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:28:59.176 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:28:59.177 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000006": started reading request body.
2024-08-24 11:28:59.177 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000006": done reading request body.
2024-08-24 11:28:59.177 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:28:59.179 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:28:59.179 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:28:59.180 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:28:59.180 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:28:59.180 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:28:59.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:28:59.182 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:28:59.182 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:28:59.182 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:28:59.182 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:28:59.183 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:28:59.183 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:28:59.183 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:28:59.183 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:28:59.183 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.721ms
2024-08-24 11:29:30.232 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:29:30.232 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:29:30.232 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:29:30.232 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:29:30.233 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:29:30.233 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:29:30.233 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:29:30.233 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0467ms
2024-08-24 11:29:30.233 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 11:29:30.234 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:29:30.234 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:29:30.234 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:29:30.234 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:29:30.234 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:29:30.234 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:29:30.235 +05:30 [DBG] Authorization was successful.
2024-08-24 11:29:30.235 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:29:30.235 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:29:30.235 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000007": started reading request body.
2024-08-24 11:29:30.235 +05:30 [DBG] Connection id "0HN63RUB2398K", Request id "0HN63RUB2398K:00000007": done reading request body.
2024-08-24 11:29:30.236 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:29:30.240 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:29:30.240 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:29:30.241 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:29:30.242 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:29:30.242 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:29:30.244 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 11:29:30.244 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:29:30.244 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:29:30.244 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:29:30.245 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:29:30.245 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:29:30.245 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:29:30.245 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:29:30.245 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:29:30.246 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 12.0403ms
2024-08-24 11:29:58.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-24 11:29:58.769 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 11:29:58.769 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:29:58.769 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:29:58.769 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:29:58.769 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:29:58.769 +05:30 [DBG] Connection id "0HN63RUB2398J" completed keep alive response.
2024-08-24 11:29:58.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.6007ms
2024-08-24 11:29:58.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 11:29:58.771 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 11:29:58.771 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:29:58.771 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:29:58.771 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:29:58.779 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:29:58.779 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:29:58.779 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:29:58.779 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:29:58.780 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:29:58.780 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:29:58.780 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:29:58.781 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:29:58.782 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:29:58.782 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 11:29:58.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 11:29:58.783 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:29:58.783 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:29:58.783 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:29:58.783 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:29:58.783 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:29:58.783 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:29:58.783 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:29:58.783 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:29:58.783 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 11:29:58.783 +05:30 [DBG] Connection id "0HN63RUB2398K" completed keep alive response.
2024-08-24 11:29:58.783 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:29:58.783 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 12.6955ms
2024-08-24 11:32:09.291 +05:30 [DBG] Connection id "0HN63RUB2398J" disconnecting.
2024-08-24 11:32:09.291 +05:30 [DBG] Connection id "0HN63RUB2398K" disconnecting.
2024-08-24 11:32:09.292 +05:30 [DBG] Connection id "0HN63RUB2398J" stopped.
2024-08-24 11:32:09.293 +05:30 [DBG] Connection id "0HN63RUB2398K" stopped.
2024-08-24 11:32:09.293 +05:30 [DBG] Connection id "0HN63RUB2398K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:32:09.293 +05:30 [DBG] Connection id "0HN63RUB2398J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:35:41.603 +05:30 [DBG] Connection id "0HN63RUB2398L" accepted.
2024-08-24 11:35:41.604 +05:30 [DBG] Connection id "0HN63RUB2398L" started.
2024-08-24 11:35:41.605 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:35:41.605 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:35:41.605 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:35:41.605 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:35:41.605 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:35:41.605 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:35:41.605 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:35:41.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7466ms
2024-08-24 11:35:41.606 +05:30 [DBG] Connection id "0HN63RUB2398M" accepted.
2024-08-24 11:35:41.606 +05:30 [DBG] Connection id "0HN63RUB2398M" started.
2024-08-24 11:35:41.606 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-24 11:35:41.606 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:35:41.606 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:35:41.606 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:35:41.607 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:35:41.607 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:35:41.607 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:35:41.607 +05:30 [DBG] Authorization was successful.
2024-08-24 11:35:41.607 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:35:41.608 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:35:41.608 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000001": started reading request body.
2024-08-24 11:35:41.608 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000001": done reading request body.
2024-08-24 11:35:41.609 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:35:41.611 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:35:41.611 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:35:41.611 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:35:41.630 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:35:41.630 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:35:41.631 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:35:41.631 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:35:41.631 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:35:41.631 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:35:41.631 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:35:41.631 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:35:41.632 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:35:41.632 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:35:41.632 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:35:41.632 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 25.5384ms
2024-08-24 11:36:21.291 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:36:21.291 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:36:21.291 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:36:21.291 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:36:21.291 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:36:21.291 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:36:21.291 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:36:21.292 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7582ms
2024-08-24 11:36:21.292 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-24 11:36:21.292 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:36:21.292 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:21.292 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:36:21.293 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:36:21.293 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:36:21.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:36:21.293 +05:30 [DBG] Authorization was successful.
2024-08-24 11:36:21.293 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:36:21.294 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:21.294 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000002": started reading request body.
2024-08-24 11:36:21.294 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000002": done reading request body.
2024-08-24 11:36:21.295 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:36:21.297 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:36:21.297 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:36:21.297 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:36:21.298 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:36:21.298 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:36:21.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:36:21.299 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:36:21.300 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:36:21.300 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:36:21.300 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:36:21.300 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:36:21.300 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:21.300 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:36:21.300 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:36:21.300 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.4348ms
2024-08-24 11:36:55.666 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:36:55.666 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:36:55.666 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:36:55.666 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:36:55.666 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:36:55.667 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:36:55.667 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:36:55.667 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.156ms
2024-08-24 11:36:55.668 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 55
2024-08-24 11:36:55.668 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:36:55.668 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:55.668 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:36:55.668 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:36:55.669 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:36:55.669 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:36:55.669 +05:30 [DBG] Authorization was successful.
2024-08-24 11:36:55.670 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:36:55.670 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:55.670 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000003": started reading request body.
2024-08-24 11:36:55.670 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000003": done reading request body.
2024-08-24 11:36:55.671 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:36:55.674 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:36:55.674 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:36:55.675 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:36:55.675 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:36:55.675 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:36:55.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:36:55.678 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:36:55.678 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:36:55.678 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:36:55.678 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:36:55.678 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:36:55.679 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:36:55.679 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:36:55.679 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:36:55.679 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.3645ms
2024-08-24 11:37:12.093 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:37:12.093 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:12.093 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:37:12.093 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:12.093 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:12.094 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:37:12.094 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:37:12.094 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8162ms
2024-08-24 11:37:12.094 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 11:37:12.095 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:12.095 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:12.095 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:12.095 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:12.096 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:37:12.096 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:37:12.097 +05:30 [DBG] Authorization was successful.
2024-08-24 11:37:12.097 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:37:12.097 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:12.097 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000004": started reading request body.
2024-08-24 11:37:12.097 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000004": done reading request body.
2024-08-24 11:37:12.099 +05:30 [INF] Setting HTTP status code 204.
2024-08-24 11:37:12.099 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:12.099 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:37:12.099 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 204 null null 4.8627ms
2024-08-24 11:37:17.524 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:37:17.524 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:17.525 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:37:17.525 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:17.525 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:17.525 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:37:17.525 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:37:17.525 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7683ms
2024-08-24 11:37:17.526 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 11:37:17.526 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:17.526 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.526 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:17.526 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:17.527 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:37:17.527 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:37:17.527 +05:30 [DBG] Authorization was successful.
2024-08-24 11:37:17.527 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:37:17.527 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.527 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000005": started reading request body.
2024-08-24 11:37:17.527 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000005": done reading request body.
2024-08-24 11:37:17.528 +05:30 [INF] Setting HTTP status code 204.
2024-08-24 11:37:17.528 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.528 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:37:17.528 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 204 null null 2.3917ms
2024-08-24 11:37:17.971 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 11:37:17.971 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:17.971 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.971 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:17.971 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:17.972 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:37:17.972 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:37:17.972 +05:30 [DBG] Authorization was successful.
2024-08-24 11:37:17.972 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:37:17.972 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.972 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000006": started reading request body.
2024-08-24 11:37:17.972 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000006": done reading request body.
2024-08-24 11:37:17.973 +05:30 [INF] Setting HTTP status code 204.
2024-08-24 11:37:17.973 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:17.973 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:37:17.973 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 204 null null 2.5322ms
2024-08-24 11:37:18.324 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 11:37:18.325 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:18.325 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:18.325 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:18.325 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:18.325 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:37:18.325 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:37:18.325 +05:30 [DBG] Authorization was successful.
2024-08-24 11:37:18.326 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:37:18.326 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:18.326 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000007": started reading request body.
2024-08-24 11:37:18.326 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000007": done reading request body.
2024-08-24 11:37:18.326 +05:30 [INF] Setting HTTP status code 204.
2024-08-24 11:37:18.326 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:18.326 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:37:18.327 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 204 null null 2.1577ms
2024-08-24 11:37:22.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:37:22.641 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:22.641 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:37:22.641 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:22.641 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:22.641 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:37:22.641 +05:30 [DBG] Connection id "0HN63RUB2398L" completed keep alive response.
2024-08-24 11:37:22.641 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7815ms
2024-08-24 11:37:22.642 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:37:22.642 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:37:22.642 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:22.642 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:37:22.642 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:37:22.643 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:37:22.643 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:37:22.643 +05:30 [DBG] Authorization was successful.
2024-08-24 11:37:22.643 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:37:22.643 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:22.644 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000008": started reading request body.
2024-08-24 11:37:22.644 +05:30 [DBG] Connection id "0HN63RUB2398M", Request id "0HN63RUB2398M:00000008": done reading request body.
2024-08-24 11:37:22.645 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:37:22.648 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:37:22.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:37:22.648 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:37:22.649 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:37:22.649 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:37:22.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:37:22.651 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:37:22.651 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:37:22.651 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:37:22.652 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:37:22.652 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:37:22.652 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:37:22.653 +05:30 [DBG] Connection id "0HN63RUB2398M" completed keep alive response.
2024-08-24 11:37:22.653 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:37:22.653 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.6055ms
2024-08-24 11:39:33.766 +05:30 [DBG] Connection id "0HN63RUB2398L" disconnecting.
2024-08-24 11:39:33.766 +05:30 [DBG] Connection id "0HN63RUB2398M" disconnecting.
2024-08-24 11:39:33.767 +05:30 [DBG] Connection id "0HN63RUB2398L" stopped.
2024-08-24 11:39:33.767 +05:30 [DBG] Connection id "0HN63RUB2398M" stopped.
2024-08-24 11:39:33.767 +05:30 [DBG] Connection id "0HN63RUB2398M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:39:33.767 +05:30 [DBG] Connection id "0HN63RUB2398L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:40:06.113 +05:30 [DBG] Connection id "0HN63RUB2398N" accepted.
2024-08-24 11:40:06.114 +05:30 [DBG] Connection id "0HN63RUB2398N" started.
2024-08-24 11:40:06.115 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:40:06.115 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:06.115 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:06.116 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:06.116 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:06.116 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:06.116 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:06.116 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0885ms
2024-08-24 11:40:06.117 +05:30 [DBG] Connection id "0HN63RUB2398O" accepted.
2024-08-24 11:40:06.117 +05:30 [DBG] Connection id "0HN63RUB2398O" started.
2024-08-24 11:40:06.117 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 11:40:06.117 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:06.118 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:06.118 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:06.118 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:06.118 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:06 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:06.120 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:06 AM'.
2024-08-24 11:40:06.120 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:06.121 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:06.121 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:06.121 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:06.121 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 4.0968ms
2024-08-24 11:40:06.122 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000001": started reading request body.
2024-08-24 11:40:06.122 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000001": done reading request body.
2024-08-24 11:40:06.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 11:40:06.123 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:06.124 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:06.124 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:06.124 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:06.124 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:06.124 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:06.124 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 0.9085ms
2024-08-24 11:40:06.124 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:06.125 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:06.125 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:06.125 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:06.125 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:06.125 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:06 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:06.126 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:06 AM'.
2024-08-24 11:40:06.126 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:06.126 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:06.126 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:06.126 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:06.127 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.1263ms
2024-08-24 11:40:06.127 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000002": started reading request body.
2024-08-24 11:40:06.127 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000002": done reading request body.
2024-08-24 11:40:23.760 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:40:23.760 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:23.761 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:23.761 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:23.761 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:23.761 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:23.761 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:23.761 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8434ms
2024-08-24 11:40:23.762 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 24
2024-08-24 11:40:23.762 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:23.762 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:23.762 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:23.762 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:23.763 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:23 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:23.763 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:23 AM'.
2024-08-24 11:40:23.764 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:23.764 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:23.764 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:23.764 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:23.764 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.4574ms
2024-08-24 11:40:23.764 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000003": started reading request body.
2024-08-24 11:40:23.764 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000003": done reading request body.
2024-08-24 11:40:23.765 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 11:40:23.765 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:23.766 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:23.766 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:23.766 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:23.766 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:23.767 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:23.767 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 1.3025ms
2024-08-24 11:40:23.767 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:23.767 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:23.768 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:23.768 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:23.768 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:23.770 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:23 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:23.770 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:23 AM'.
2024-08-24 11:40:23.771 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:23.771 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:23.771 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:23.773 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:23.773 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 5.9835ms
2024-08-24 11:40:23.774 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000004": started reading request body.
2024-08-24 11:40:23.774 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000004": done reading request body.
2024-08-24 11:40:26.295 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:26.295 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:26.295 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:26.295 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:26.296 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:26.296 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:26 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:26.296 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:26 AM'.
2024-08-24 11:40:26.297 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:26.297 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:26.297 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:26.297 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:26.297 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.311ms
2024-08-24 11:40:26.298 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000005": started reading request body.
2024-08-24 11:40:26.298 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000005": done reading request body.
2024-08-24 11:40:26.299 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:26.299 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:26.299 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:26.299 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:26.299 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:26.299 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:26 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:26.300 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:26 AM'.
2024-08-24 11:40:26.301 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:26.301 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:26.301 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:26.302 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:26.302 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 3.4245ms
2024-08-24 11:40:26.303 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000006": started reading request body.
2024-08-24 11:40:26.303 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000006": done reading request body.
2024-08-24 11:40:27.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:27.161 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:27.161 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:27.161 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:27.161 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:27.162 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:27.162 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
2024-08-24 11:40:27.162 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:27.163 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:27.163 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:27.163 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:27.163 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.5802ms
2024-08-24 11:40:27.163 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000007": started reading request body.
2024-08-24 11:40:27.164 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000007": done reading request body.
2024-08-24 11:40:27.165 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:27.165 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:27.165 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.165 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:27.165 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:27.166 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:27.166 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
2024-08-24 11:40:27.167 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:27.167 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.167 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.167 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:27.167 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.0503ms
2024-08-24 11:40:27.167 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000008": started reading request body.
2024-08-24 11:40:27.168 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000008": done reading request body.
2024-08-24 11:40:27.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:27.569 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:27.570 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:27.570 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:27.570 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:27.570 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:27.571 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
2024-08-24 11:40:27.571 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:27.572 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:27.572 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:27.572 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:27.572 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 3.2452ms
2024-08-24 11:40:27.573 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000009": started reading request body.
2024-08-24 11:40:27.573 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000009": done reading request body.
2024-08-24 11:40:27.574 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:27.574 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:27.574 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.574 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:27.574 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:27.575 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:27.576 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:27 AM'.
2024-08-24 11:40:27.576 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:27.576 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.577 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:27.577 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:27.577 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.756ms
2024-08-24 11:40:27.577 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000A": started reading request body.
2024-08-24 11:40:27.577 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000A": done reading request body.
2024-08-24 11:40:28.214 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:28.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:28.215 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:28.215 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.215 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.215 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.216 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.216 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:28.216 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:28.216 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:28.217 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.4796ms
2024-08-24 11:40:28.217 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000B": started reading request body.
2024-08-24 11:40:28.217 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000B": done reading request body.
2024-08-24 11:40:28.218 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:28.219 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:28.219 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.219 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.219 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.219 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.222 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.222 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:28.222 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.223 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.223 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.223 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 4.3196ms
2024-08-24 11:40:28.223 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000C": started reading request body.
2024-08-24 11:40:28.223 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000C": done reading request body.
2024-08-24 11:40:28.542 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:28.542 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:28.542 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:28.542 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.542 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.543 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.543 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.543 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:28.544 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:28.544 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:28.544 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.544 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.2102ms
2024-08-24 11:40:28.544 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000D": started reading request body.
2024-08-24 11:40:28.545 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000D": done reading request body.
2024-08-24 11:40:28.545 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:28.545 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:28.545 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.546 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.546 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.546 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.547 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.547 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:28.547 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.547 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.547 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.547 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.2074ms
2024-08-24 11:40:28.548 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000E": started reading request body.
2024-08-24 11:40:28.548 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000E": done reading request body.
2024-08-24 11:40:28.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:40:28.794 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:28.794 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.794 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.794 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.794 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:28.794 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:28.794 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.809ms
2024-08-24 11:40:28.795 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:28.795 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:28.795 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:28.795 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.795 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.796 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.797 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.797 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:28.797 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:28.797 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:28.798 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.798 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.8993ms
2024-08-24 11:40:28.798 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000F": started reading request body.
2024-08-24 11:40:28.798 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000000F": done reading request body.
2024-08-24 11:40:28.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 11:40:28.799 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:28.799 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.799 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.800 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.800 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:28.800 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:28.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 1.4115ms
2024-08-24 11:40:28.801 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:28.801 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:28.801 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.801 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:28.801 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:28.802 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:28.802 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:28 AM'.
2024-08-24 11:40:28.802 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:28.803 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.803 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:28.803 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:28.803 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.065ms
2024-08-24 11:40:28.803 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000010": started reading request body.
2024-08-24 11:40:28.803 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000010": done reading request body.
2024-08-24 11:40:29.055 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:29.056 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:29.056 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:29.056 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:29.056 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:29.056 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:29.057 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
2024-08-24 11:40:29.057 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:29.057 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:29.057 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:29.057 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:29.058 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.4007ms
2024-08-24 11:40:29.058 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000011": started reading request body.
2024-08-24 11:40:29.058 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000011": done reading request body.
2024-08-24 11:40:29.059 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:29.059 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:29.059 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.059 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:29.059 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:29.060 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:29.060 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
2024-08-24 11:40:29.060 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:29.060 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.060 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.060 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:29.060 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 1.4172ms
2024-08-24 11:40:29.061 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000012": started reading request body.
2024-08-24 11:40:29.061 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000012": done reading request body.
2024-08-24 11:40:29.392 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:29.392 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:29.392 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:29.392 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:29.392 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:29.393 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:29.393 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
2024-08-24 11:40:29.393 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:29.394 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:29.394 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:29.394 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:29.394 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.327ms
2024-08-24 11:40:29.394 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000013": started reading request body.
2024-08-24 11:40:29.394 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000013": done reading request body.
2024-08-24 11:40:29.396 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:29.396 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:29.396 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.396 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:29.396 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:29.397 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:29.398 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:29 AM'.
2024-08-24 11:40:29.398 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:29.398 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.398 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:29.398 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:29.398 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.267ms
2024-08-24 11:40:29.398 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000014": started reading request body.
2024-08-24 11:40:29.398 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000014": done reading request body.
2024-08-24 11:40:57.414 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:40:57.415 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:57.415 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:57.415 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:57.415 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:57.415 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:57.415 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:57.415 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.3482ms
2024-08-24 11:40:57.416 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:40:57.416 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:40:57.416 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:40:57.416 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:57.416 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:57.416 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:57 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:57.417 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:57 AM'.
2024-08-24 11:40:57.417 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 11:40:57.417 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 11:40:57.417 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 11:40:57.417 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:57.417 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 1.3313ms
2024-08-24 11:40:57.417 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000015": started reading request body.
2024-08-24 11:40:57.417 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000015": done reading request body.
2024-08-24 11:40:57.418 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 11:40:57.419 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:57.419 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:57.419 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:57.419 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:57.419 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:40:57.419 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:40:57.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 0.9843ms
2024-08-24 11:40:57.421 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 11:40:57.421 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 11:40:57.422 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:57.422 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:40:57.422 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:40:57.422 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:57 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:40:57.423 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:10:57 AM'.
2024-08-24 11:40:57.423 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:40:57.423 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:57.423 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 11:40:57.423 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:40:57.423 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 2.4855ms
2024-08-24 11:40:57.423 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000016": started reading request body.
2024-08-24 11:40:57.423 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000016": done reading request body.
2024-08-24 11:41:19.681 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 11:41:19.682 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 11:41:19.682 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:41:19.683 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:19.683 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:19.683 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:41:19.683 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:41:19.683 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.6144ms
2024-08-24 11:41:19.684 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 11:41:19.684 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 11:41:19.684 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:41:19.684 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:19.684 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:19.684 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:11:19 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 11:41:19.685 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:08:40 AM', Current time: '8/24/2024 6:11:19 AM'.
2024-08-24 11:41:19.685 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:41:19.685 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:41:19.685 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000017": started reading request body.
2024-08-24 11:41:19.685 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000017": done reading request body.
2024-08-24 11:41:19.686 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 11:41:19.823 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:41:19.823 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:19.823 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:19.823 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.824 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.824 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:41:19.825 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:41:19.826 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:19.826 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.826 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.946 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 11:41:19.946 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:19.946 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:19.946 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.947 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.947 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:41:19.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 11:41:19.948 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:41:19.948 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:19.948 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.948 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.948 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:41:19.948 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 11:41:19.948 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 11:41:19.948 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 11:41:19.948 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.948 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.948 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 11:41:19.949 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 11:41:19.949 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:19.949 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:19.949 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 11:41:19.949 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 11:41:19.949 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:19.949 +05:30 [DBG] Committing transaction.
2024-08-24 11:41:19.952 +05:30 [DBG] Committed transaction.
2024-08-24 11:41:19.952 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.952 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.953 +05:30 [DBG] Disposing transaction.
2024-08-24 11:41:19.953 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:41:19.953 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 11:41:19.953 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:41:19.953 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 11:41:19.953 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 11:41:19.953 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 11:41:19.953 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.953 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.953 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 11:41:19.954 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 11:41:19.954 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:19.954 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:19.954 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 11:41:19.955 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 11:41:19.955 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:19.955 +05:30 [DBG] Committing transaction.
2024-08-24 11:41:19.956 +05:30 [DBG] Committed transaction.
2024-08-24 11:41:19.956 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.956 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:19.956 +05:30 [DBG] Disposing transaction.
2024-08-24 11:41:19.956 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 11:41:19.956 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 11:41:19.957 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:41:19.957 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 11:41:19.957 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 11:41:19.957 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:41:19.957 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:41:19.957 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 273.1352ms
2024-08-24 11:41:25.650 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:41:25.651 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:41:25.651 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:41:25.651 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:25.651 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:25.651 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:41:25.651 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:41:25.651 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4128ms
2024-08-24 11:41:25.652 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 22
2024-08-24 11:41:25.653 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:41:25.653 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:25.653 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:25.653 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:25.653 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:41:25.654 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:41:25.654 +05:30 [DBG] Authorization was successful.
2024-08-24 11:41:25.654 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:41:25.654 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:25.654 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000018": started reading request body.
2024-08-24 11:41:25.654 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000018": done reading request body.
2024-08-24 11:41:25.655 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:41:25.657 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:25.658 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:25.658 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:25.658 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:25.658 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:41:25.659 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:41:25.660 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:25.660 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:25.660 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:25.660 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:41:25.660 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:41:25.660 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:25.660 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:41:25.660 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:41:25.661 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.0703ms
2024-08-24 11:41:34.567 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:41:34.567 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:41:34.568 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:41:34.568 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:34.568 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:34.568 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:41:34.568 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:41:34.568 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.3894ms
2024-08-24 11:41:34.570 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 11:41:34.570 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:41:34.570 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:34.570 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:41:34.570 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:41:34.571 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:41:34.571 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:41:34.571 +05:30 [DBG] Authorization was successful.
2024-08-24 11:41:34.571 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:41:34.571 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:34.571 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000019": started reading request body.
2024-08-24 11:41:34.571 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:00000019": done reading request body.
2024-08-24 11:41:34.573 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:41:34.576 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(e => e.EmailAddress.Equals(__request_Email_0))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_1)'
2024-08-24 11:41:34.580 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 11:41:34.583 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_1) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE t0.EmailAddress == @__request_Email_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 11:41:34.583 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:41:34.584 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:41:34.584 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:41:34.584 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:41:34.584 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Email_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t0`.`EmailAddress` = @__request_Email_0
LIMIT @__p_1
2024-08-24 11:41:34.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Email_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `t0`.`EmailAddress` = @__request_Email_0
LIMIT @__p_1
2024-08-24 11:41:34.586 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:41:34.586 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:41:34.586 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:41:34.586 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:41:34.586 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:41:34.586 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:41:34.586 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:41:34.586 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:41:34.586 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 16.5349ms
2024-08-24 11:42:11.494 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:42:11.495 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:42:11.495 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:42:11.495 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:42:11.495 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:42:11.495 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:42:11.496 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:42:11.496 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.2597ms
2024-08-24 11:42:11.496 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-24 11:42:11.496 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:42:11.497 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:11.497 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:42:11.497 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:42:11.497 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:42:11.497 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:42:11.497 +05:30 [DBG] Authorization was successful.
2024-08-24 11:42:11.498 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:42:11.498 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:11.498 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000001A": started reading request body.
2024-08-24 11:42:11.498 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000001A": done reading request body.
2024-08-24 11:42:11.499 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:42:11.501 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:42:11.502 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:42:11.502 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:42:11.503 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:42:11.503 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:42:11.505 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 11:42:11.505 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:42:11.505 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:42:11.505 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:42:11.506 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:42:11.506 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:42:11.506 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:11.506 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:42:11.506 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:42:11.506 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.8066ms
2024-08-24 11:42:18.820 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 11:42:18.820 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:42:18.821 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 11:42:18.821 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:42:18.821 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:42:18.821 +05:30 [DBG] The request is a preflight request.
2024-08-24 11:42:18.821 +05:30 [DBG] Connection id "0HN63RUB2398N" completed keep alive response.
2024-08-24 11:42:18.821 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8031ms
2024-08-24 11:42:18.822 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 48
2024-08-24 11:42:18.822 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 11:42:18.822 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:18.822 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 11:42:18.822 +05:30 [INF] CORS policy execution successful.
2024-08-24 11:42:18.823 +05:30 [DBG] Successfully validated the token.
2024-08-24 11:42:18.823 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 11:42:18.823 +05:30 [DBG] Authorization was successful.
2024-08-24 11:42:18.823 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 11:42:18.824 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:18.824 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000001B": started reading request body.
2024-08-24 11:42:18.824 +05:30 [DBG] Connection id "0HN63RUB2398O", Request id "0HN63RUB2398O:0000001B": done reading request body.
2024-08-24 11:42:18.825 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 11:42:18.827 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(e => e.EmailAddress.Equals(__request_Email_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-24 11:42:18.831 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-24 11:42:18.834 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (t0.EmailAddress == @__request_Email_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-24 11:42:18.835 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 11:42:18.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 11:42:18.835 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 11:42:18.836 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 11:42:18.836 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__request_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`t0`.`EmailAddress` = @__request_Email_2)
LIMIT @__p_3
2024-08-24 11:42:18.838 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__request_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`t0`.`EmailAddress` = @__request_Email_2)
LIMIT @__p_3
2024-08-24 11:42:18.838 +05:30 [DBG] A data reader was disposed.
2024-08-24 11:42:18.838 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 11:42:18.838 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 11:42:18.838 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 11:42:18.838 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 11:42:18.839 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 11:42:18.839 +05:30 [DBG] Connection id "0HN63RUB2398O" completed keep alive response.
2024-08-24 11:42:18.839 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 11:42:18.839 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 17.2436ms
2024-08-24 11:44:29.072 +05:30 [DBG] Connection id "0HN63RUB2398N" disconnecting.
2024-08-24 11:44:29.072 +05:30 [DBG] Connection id "0HN63RUB2398O" disconnecting.
2024-08-24 11:44:29.074 +05:30 [DBG] Connection id "0HN63RUB2398N" stopped.
2024-08-24 11:44:29.074 +05:30 [DBG] Connection id "0HN63RUB2398O" stopped.
2024-08-24 11:44:29.074 +05:30 [DBG] Connection id "0HN63RUB2398O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 11:44:29.074 +05:30 [DBG] Connection id "0HN63RUB2398N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 13:56:59.570 +05:30 [DBG] Connection id "0HN63RUB2398P" accepted.
2024-08-24 13:56:59.571 +05:30 [DBG] Connection id "0HN63RUB2398P" started.
2024-08-24 13:56:59.573 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 13:56:59.573 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 13:56:59.573 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 13:56:59.574 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 13:56:59.574 +05:30 [INF] CORS policy execution successful.
2024-08-24 13:56:59.574 +05:30 [DBG] The request is a preflight request.
2024-08-24 13:56:59.574 +05:30 [DBG] Connection id "0HN63RUB2398P" completed keep alive response.
2024-08-24 13:56:59.574 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.6567ms
2024-08-24 13:56:59.575 +05:30 [DBG] Connection id "0HN63RUB2398Q" accepted.
2024-08-24 13:56:59.575 +05:30 [DBG] Connection id "0HN63RUB2398Q" started.
2024-08-24 13:56:59.575 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 13:56:59.576 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 13:56:59.576 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 13:56:59.576 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 13:56:59.576 +05:30 [INF] CORS policy execution successful.
2024-08-24 13:56:59.577 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:26:59 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 13:56:59.578 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:26:59 AM'.
2024-08-24 13:56:59.579 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 13:56:59.579 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 13:56:59.579 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 13:56:59.579 +05:30 [DBG] Connection id "0HN63RUB2398Q" completed keep alive response.
2024-08-24 13:56:59.579 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 4.1226ms
2024-08-24 13:56:59.580 +05:30 [DBG] Connection id "0HN63RUB2398Q", Request id "0HN63RUB2398Q:00000001": started reading request body.
2024-08-24 13:56:59.580 +05:30 [DBG] Connection id "0HN63RUB2398Q", Request id "0HN63RUB2398Q:00000001": done reading request body.
2024-08-24 13:56:59.583 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 13:56:59.583 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 13:56:59.583 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 13:56:59.583 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 13:56:59.583 +05:30 [INF] CORS policy execution successful.
2024-08-24 13:56:59.583 +05:30 [DBG] The request is a preflight request.
2024-08-24 13:56:59.583 +05:30 [DBG] Connection id "0HN63RUB2398P" completed keep alive response.
2024-08-24 13:56:59.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 0.871ms
2024-08-24 13:56:59.584 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 13:56:59.584 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 13:56:59.584 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 13:56:59.584 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 13:56:59.584 +05:30 [INF] CORS policy execution successful.
2024-08-24 13:56:59.585 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:26:59 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 13:56:59.585 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:26:59 AM'.
2024-08-24 13:56:59.585 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 13:56:59.585 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 13:56:59.585 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 13:56:59.585 +05:30 [DBG] Connection id "0HN63RUB2398Q" completed keep alive response.
2024-08-24 13:56:59.585 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 1.4068ms
2024-08-24 13:56:59.586 +05:30 [DBG] Connection id "0HN63RUB2398Q", Request id "0HN63RUB2398Q:00000002": started reading request body.
2024-08-24 13:56:59.586 +05:30 [DBG] Connection id "0HN63RUB2398Q", Request id "0HN63RUB2398Q:00000002": done reading request body.
2024-08-24 13:57:04.248 +05:30 [DBG] Connection id "0HN63RUB2398P" received FIN.
2024-08-24 13:57:04.248 +05:30 [DBG] Connection id "0HN63RUB2398Q" received FIN.
2024-08-24 13:57:04.249 +05:30 [DBG] Connection id "0HN63RUB2398P" disconnecting.
2024-08-24 13:57:04.249 +05:30 [DBG] Connection id "0HN63RUB2398Q" disconnecting.
2024-08-24 13:57:04.249 +05:30 [DBG] Connection id "0HN63RUB2398P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 13:57:04.250 +05:30 [DBG] Connection id "0HN63RUB2398Q" stopped.
2024-08-24 13:57:04.250 +05:30 [DBG] Connection id "0HN63RUB2398Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 13:57:04.250 +05:30 [DBG] Connection id "0HN63RUB2398P" stopped.
2024-08-24 14:00:38.832 +05:30 [DBG] Connection id "0HN63RUB2398R" accepted.
2024-08-24 14:00:38.834 +05:30 [DBG] Connection id "0HN63RUB2398R" started.
2024-08-24 14:00:38.834 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 14:00:38.835 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 14:00:38.835 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:00:38.835 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:00:38.835 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:00:38.835 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:00:38.835 +05:30 [DBG] Connection id "0HN63RUB2398R" completed keep alive response.
2024-08-24 14:00:38.835 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6565ms
2024-08-24 14:00:38.836 +05:30 [DBG] Connection id "0HN63RUB2398S" accepted.
2024-08-24 14:00:38.836 +05:30 [DBG] Connection id "0HN63RUB2398S" started.
2024-08-24 14:00:38.836 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 14:00:38.836 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 14:00:38.837 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 14:00:38.837 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:00:38.837 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:00:38.837 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:30:38 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 14:00:38.838 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:30:38 AM'.
2024-08-24 14:00:38.838 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 14:00:38.838 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 14:00:38.839 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 14:00:38.839 +05:30 [DBG] Connection id "0HN63RUB2398S" completed keep alive response.
2024-08-24 14:00:38.839 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 3.0695ms
2024-08-24 14:00:38.840 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000001": started reading request body.
2024-08-24 14:00:38.840 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000001": done reading request body.
2024-08-24 14:00:38.841 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - null null
2024-08-24 14:00:38.842 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 14:00:38.842 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:00:38.842 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:00:38.842 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:00:38.842 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:00:38.842 +05:30 [DBG] Connection id "0HN63RUB2398R" completed keep alive response.
2024-08-24 14:00:38.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refresh-token - 204 null null 1.1032ms
2024-08-24 14:00:38.844 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - application/json 2
2024-08-24 14:00:38.859 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refresh-token'
2024-08-24 14:00:38.859 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:00:38.859 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:00:38.859 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:00:38.860 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:30:38 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 14:00:38.860 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 6:26:19 AM', Current time: '8/24/2024 8:30:38 AM'.
2024-08-24 14:00:38.860 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:00:38.860 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-24 14:00:38.860 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-24 14:00:38.861 +05:30 [DBG] Connection id "0HN63RUB2398S" completed keep alive response.
2024-08-24 14:00:38.861 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/refresh-token - 405 0 null 16.3137ms
2024-08-24 14:00:38.861 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000002": started reading request body.
2024-08-24 14:00:38.861 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000002": done reading request body.
2024-08-24 14:01:32.671 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 14:01:32.672 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 14:01:32.672 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:01:32.672 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-24 14:01:32.672 +05:30 [INF] CORS policy execution failed.
2024-08-24 14:01:32.672 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-24 14:01:32.673 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 14:01:32.673 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:01:32.673 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:01:32.687 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:01:32.688 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => string.Equals(
        a: <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Token, 
        b: __refreshTokenId_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-24 14:01:32.694 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                AppUserId -> 0
                Username -> 1
                Firstname -> 2
                Lastname -> 3
                CustomerId -> 4
                CustomerCode -> 5
                CustomerShortName -> 6
                CustomerName -> 7
                LanguageCode -> 8
                RoleCode -> 9
            SELECT TOP(1) a.AppUserId, c.Username, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE (c.Token == @__refreshTokenId_0) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-24 14:01:32.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:01:32.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:01:32.695 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.718 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.718 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:01:32.720 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:01:32.720 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:01:32.720 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.720 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.721 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:01:32.721 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:01:32.721 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.721 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.721 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:01:32.721 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:01:32.722 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:01:32.722 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:01:32.722 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.722 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.722 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:01:32.722 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:01:32.722 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:01:32.722 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:01:32.722 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.723 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.723 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:01:32.723 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:01:32.723 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:01:32.724 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:01:32.724 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:01:32.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:01:32.724 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:01:32.724 +05:30 [DBG] Committing transaction.
2024-08-24 14:01:32.726 +05:30 [DBG] Committed transaction.
2024-08-24 14:01:32.726 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.726 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.726 +05:30 [DBG] Disposing transaction.
2024-08-24 14:01:32.726 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:01:32.726 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:01:32.726 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:01:32.726 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:01:32.726 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:01:32.726 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:01:32.726 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.727 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.727 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:01:32.727 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:01:32.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:01:32.727 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:01:32.727 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:01:32.729 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:01:32.729 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:01:32.729 +05:30 [DBG] Committing transaction.
2024-08-24 14:01:32.729 +05:30 [DBG] Committed transaction.
2024-08-24 14:01:32.729 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.729 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:01:32.730 +05:30 [DBG] Disposing transaction.
2024-08-24 14:01:32.730 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:01:32.730 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:01:32.730 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 14:01:32.730 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 14:01:32.730 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:01:32.730 +05:30 [DBG] Connection id "0HN63RUB2398S" completed keep alive response.
2024-08-24 14:01:32.730 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:01:32.730 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 59.3514ms
2024-08-24 14:02:50.713 +05:30 [DBG] Connection id "0HN63RUB2398R" disconnecting.
2024-08-24 14:02:50.713 +05:30 [DBG] Connection id "0HN63RUB2398R" stopped.
2024-08-24 14:02:50.714 +05:30 [DBG] Connection id "0HN63RUB2398R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:03:22.735 +05:30 [DBG] Connection id "0HN63RUB2398T" accepted.
2024-08-24 14:03:22.736 +05:30 [DBG] Connection id "0HN63RUB2398T" started.
2024-08-24 14:03:22.736 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 14:03:22.736 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:03:22.736 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:03:22.737 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:03:22.737 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:03:22.737 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:03:22.737 +05:30 [DBG] Connection id "0HN63RUB2398T" completed keep alive response.
2024-08-24 14:03:22.737 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.5657ms
2024-08-24 14:03:22.737 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 14:03:22.738 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:03:22.738 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:03:22.738 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:03:22.738 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:03:22.738 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 14:03:22.738 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:03:22.738 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:03:22.738 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000004": started reading request body.
2024-08-24 14:03:22.738 +05:30 [DBG] Connection id "0HN63RUB2398S", Request id "0HN63RUB2398S:00000004": done reading request body.
2024-08-24 14:03:22.739 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 14:03:22.876 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:03:22.876 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:03:22.876 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:03:22.876 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.877 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.877 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:03:22.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:03:22.878 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:03:22.878 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.878 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.998 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 14:03:22.999 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:03:22.999 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:03:22.999 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.999 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:03:22.999 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:03:23.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:03:23.000 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:03:23.000 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:03:23.000 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.000 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.000 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:03:23.000 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:03:23.000 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:03:23.000 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:03:23.000 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.001 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.001 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:03:23.001 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:03:23.001 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:03:23.001 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:03:23.001 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:03:23.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:03:23.003 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:03:23.003 +05:30 [DBG] Committing transaction.
2024-08-24 14:03:23.003 +05:30 [DBG] Committed transaction.
2024-08-24 14:03:23.003 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.003 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.003 +05:30 [DBG] Disposing transaction.
2024-08-24 14:03:23.004 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:03:23.004 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:03:23.004 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:03:23.004 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:03:23.004 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:03:23.004 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:03:23.004 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.004 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.004 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:03:23.005 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:03:23.005 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:03:23.005 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:03:23.005 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:03:23.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:03:23.006 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:03:23.006 +05:30 [DBG] Committing transaction.
2024-08-24 14:03:23.006 +05:30 [DBG] Committed transaction.
2024-08-24 14:03:23.006 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.006 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:03:23.006 +05:30 [DBG] Disposing transaction.
2024-08-24 14:03:23.007 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:03:23.007 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:03:23.007 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 14:03:23.007 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 14:03:23.007 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:03:23.007 +05:30 [DBG] Connection id "0HN63RUB2398S" completed keep alive response.
2024-08-24 14:03:23.007 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:03:23.007 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 269.5082ms
2024-08-24 14:04:58.889 +05:30 [DBG] Connection id "0HN63RUB2398S" received FIN.
2024-08-24 14:04:58.889 +05:30 [DBG] Connection id "0HN63RUB2398T" received FIN.
2024-08-24 14:04:58.891 +05:30 [DBG] Connection id "0HN63RUB2398T" disconnecting.
2024-08-24 14:04:58.891 +05:30 [DBG] Connection id "0HN63RUB2398S" disconnecting.
2024-08-24 14:04:58.892 +05:30 [DBG] Connection id "0HN63RUB2398S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:04:58.892 +05:30 [DBG] Connection id "0HN63RUB2398T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:04:58.893 +05:30 [DBG] Connection id "0HN63RUB2398T" stopped.
2024-08-24 14:04:58.893 +05:30 [DBG] Connection id "0HN63RUB2398S" stopped.
2024-08-24 14:06:26.655 +05:30 [DBG] Connection id "0HN63RUB2398U" accepted.
2024-08-24 14:06:26.657 +05:30 [DBG] Connection id "0HN63RUB2398U" started.
2024-08-24 14:06:26.658 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 14:06:26.658 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:26.658 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:06:26.658 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.659 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.659 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:06:26.659 +05:30 [DBG] Connection id "0HN63RUB2398U" completed keep alive response.
2024-08-24 14:06:26.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.3151ms
2024-08-24 14:06:26.660 +05:30 [DBG] Connection id "0HN63RUB2398V" accepted.
2024-08-24 14:06:26.660 +05:30 [DBG] Connection id "0HN63RUB2398V" started.
2024-08-24 14:06:26.660 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 14:06:26.660 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:26.661 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.661 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.661 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.661 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 14:06:26.662 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:06:26.662 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.662 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000001": started reading request body.
2024-08-24 14:06:26.662 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000001": done reading request body.
2024-08-24 14:06:26.665 +05:30 [INF] Login initiated for 20230113, admin@example.com
2024-08-24 14:06:26.817 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:06:26.818 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.818 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.818 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.819 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.820 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.822 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.822 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.822 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.822 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.822 +05:30 [INF] Login failed for 20230113, admin@example.com
2024-08-24 14:06:26.822 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 14:06:26.823 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.823 +05:30 [DBG] Connection id "0HN63RUB2398V" completed keep alive response.
2024-08-24 14:06:26.823 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:06:26.823 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 162.8043ms
2024-08-24 14:06:26.826 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 14:06:26.826 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 14:06:26.826 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:06:26.826 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.826 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.826 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:06:26.826 +05:30 [DBG] Connection id "0HN63RUB2398U" completed keep alive response.
2024-08-24 14:06:26.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.2863ms
2024-08-24 14:06:26.827 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 14:06:26.827 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 14:06:26.827 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:06:26.827 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.827 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.827 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 14:06:26.827 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:06:26.827 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:06:26.829 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:06:26.829 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.829 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.829 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.829 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.829 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.830 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.830 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.830 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.831 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.831 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.831 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.831 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.831 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.832 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.832 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:26.832 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.832 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.832 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.832 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:26.832 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:06:26.833 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:06:26.833 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:06:26.833 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.833 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.833 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:06:26.833 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:06:26.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.834 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:06:26.836 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:06:26.837 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.837 +05:30 [DBG] Committing transaction.
2024-08-24 14:06:26.838 +05:30 [DBG] Committed transaction.
2024-08-24 14:06:26.838 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.838 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.838 +05:30 [DBG] Disposing transaction.
2024-08-24 14:06:26.838 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:26.839 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:06:26.839 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:26.839 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:06:26.839 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:06:26.839 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:06:26.839 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.839 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.839 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:06:26.839 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:06:26.840 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.840 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.840 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:06:26.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:06:26.841 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.841 +05:30 [DBG] Committing transaction.
2024-08-24 14:06:26.841 +05:30 [DBG] Committed transaction.
2024-08-24 14:06:26.841 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.841 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.842 +05:30 [DBG] Disposing transaction.
2024-08-24 14:06:26.842 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:26.842 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:06:26.842 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 14:06:26.842 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 14:06:26.842 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 14:06:26.842 +05:30 [DBG] Connection id "0HN63RUB2398V" completed keep alive response.
2024-08-24 14:06:26.842 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:06:26.842 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 15.2589ms
2024-08-24 14:06:26.843 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000002": started reading request body.
2024-08-24 14:06:26.843 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000002": done reading request body.
2024-08-24 14:06:26.844 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 14:06:26.844 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:26.844 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:06:26.844 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.844 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.844 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:06:26.844 +05:30 [DBG] Connection id "0HN63RUB2398U" completed keep alive response.
2024-08-24 14:06:26.845 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.4474ms
2024-08-24 14:06:26.845 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 14:06:26.845 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:26.845 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.845 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:26.845 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:26.845 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 14:06:26.845 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:06:26.845 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.845 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000003": started reading request body.
2024-08-24 14:06:26.845 +05:30 [DBG] Connection id "0HN63RUB2398V", Request id "0HN63RUB2398V:00000003": done reading request body.
2024-08-24 14:06:26.846 +05:30 [INF] Login initiated for 20230113, admin@example.com
2024-08-24 14:06:26.969 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:06:26.969 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:26.969 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:26.969 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.970 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.970 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.970 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:26.971 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:26.971 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.971 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:26.971 +05:30 [INF] Login failed for 20230113, admin@example.com
2024-08-24 14:06:26.971 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 14:06:26.971 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:26.971 +05:30 [DBG] Connection id "0HN63RUB2398V" completed keep alive response.
2024-08-24 14:06:26.971 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:06:26.971 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 125.987ms
2024-08-24 14:06:28.877 +05:30 [DBG] Connection id "0HN63RUB2398V" received FIN.
2024-08-24 14:06:28.877 +05:30 [DBG] Connection id "0HN63RUB2398U" received FIN.
2024-08-24 14:06:28.878 +05:30 [DBG] Connection id "0HN63RUB2398V" disconnecting.
2024-08-24 14:06:28.878 +05:30 [DBG] Connection id "0HN63RUB2398U" disconnecting.
2024-08-24 14:06:28.878 +05:30 [DBG] Connection id "0HN63RUB2398V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:06:28.878 +05:30 [DBG] Connection id "0HN63RUB2398U" stopped.
2024-08-24 14:06:28.878 +05:30 [DBG] Connection id "0HN63RUB2398U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:06:28.879 +05:30 [DBG] Connection id "0HN63RUB2398V" stopped.
2024-08-24 14:06:55.165 +05:30 [DBG] Connection id "0HN63RUB23990" accepted.
2024-08-24 14:06:55.166 +05:30 [DBG] Connection id "0HN63RUB23990" started.
2024-08-24 14:06:55.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 14:06:55.167 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:55.167 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 14:06:55.167 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:55.168 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:55.168 +05:30 [DBG] The request is a preflight request.
2024-08-24 14:06:55.168 +05:30 [DBG] Connection id "0HN63RUB23990" completed keep alive response.
2024-08-24 14:06:55.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.1364ms
2024-08-24 14:06:55.169 +05:30 [DBG] Connection id "0HN63RUB23991" accepted.
2024-08-24 14:06:55.169 +05:30 [DBG] Connection id "0HN63RUB23991" started.
2024-08-24 14:06:55.169 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 14:06:55.169 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 14:06:55.169 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:55.169 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 14:06:55.169 +05:30 [INF] CORS policy execution successful.
2024-08-24 14:06:55.169 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 14:06:55.169 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 14:06:55.169 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:55.170 +05:30 [DBG] Connection id "0HN63RUB23991", Request id "0HN63RUB23991:00000001": started reading request body.
2024-08-24 14:06:55.170 +05:30 [DBG] Connection id "0HN63RUB23991", Request id "0HN63RUB23991:00000001": done reading request body.
2024-08-24 14:06:55.170 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 14:06:55.328 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 14:06:55.328 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:55.328 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:55.328 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.329 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.329 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:55.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:55.329 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:55.329 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.329 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.458 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 14:06:55.459 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:55.459 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:55.459 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.459 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.459 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:55.460 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 14:06:55.460 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:55.460 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:55.460 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.460 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.460 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:55.460 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:06:55.460 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:06:55.460 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:06:55.460 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.461 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.461 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:06:55.461 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:06:55.461 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:55.461 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:55.461 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:06:55.461 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 14:06:55.462 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:55.462 +05:30 [DBG] Committing transaction.
2024-08-24 14:06:55.463 +05:30 [DBG] Committed transaction.
2024-08-24 14:06:55.463 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.463 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.463 +05:30 [DBG] Disposing transaction.
2024-08-24 14:06:55.463 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:55.463 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:06:55.463 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:55.463 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 14:06:55.464 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 14:06:55.464 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 14:06:55.464 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.464 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.464 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 14:06:55.464 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 14:06:55.464 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 14:06:55.464 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 14:06:55.464 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:06:55.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 14:06:55.465 +05:30 [DBG] A data reader was disposed.
2024-08-24 14:06:55.465 +05:30 [DBG] Committing transaction.
2024-08-24 14:06:55.465 +05:30 [DBG] Committed transaction.
2024-08-24 14:06:55.465 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.465 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 14:06:55.465 +05:30 [DBG] Disposing transaction.
2024-08-24 14:06:55.466 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 14:06:55.466 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 14:06:55.466 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 14:06:55.466 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 14:06:55.466 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 14:06:55.466 +05:30 [DBG] Connection id "0HN63RUB23991" completed keep alive response.
2024-08-24 14:06:55.466 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 14:06:55.466 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 296.8103ms
2024-08-24 14:06:58.882 +05:30 [DBG] Connection id "0HN63RUB23991" received FIN.
2024-08-24 14:06:58.882 +05:30 [DBG] Connection id "0HN63RUB23991" disconnecting.
2024-08-24 14:06:58.882 +05:30 [DBG] Connection id "0HN63RUB23990" received FIN.
2024-08-24 14:06:58.882 +05:30 [DBG] Connection id "0HN63RUB23991" stopped.
2024-08-24 14:06:58.883 +05:30 [DBG] Connection id "0HN63RUB23990" disconnecting.
2024-08-24 14:06:58.883 +05:30 [DBG] Connection id "0HN63RUB23991" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:06:58.883 +05:30 [DBG] Connection id "0HN63RUB23990" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 14:06:58.883 +05:30 [DBG] Connection id "0HN63RUB23990" stopped.
2024-08-24 15:49:33.379 +05:30 [DBG] Connection id "0HN63RUB23992" accepted.
2024-08-24 15:49:33.381 +05:30 [DBG] Connection id "0HN63RUB23992" started.
2024-08-24 15:49:33.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 15:49:33.383 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 15:49:33.383 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 15:49:33.383 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 15:49:33.383 +05:30 [INF] CORS policy execution successful.
2024-08-24 15:49:33.384 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 15:49:33.385 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 15:49:33.385 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 15:49:33.393 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 15:49:33.394 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 15:49:33.394 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 15:49:33.395 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 15:49:33.419 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 15:49:33.419 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 15:49:33.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 15:49:33.421 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 15:49:33.421 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 15:49:33.421 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 15:49:33.421 +05:30 [DBG] A data reader was disposed.
2024-08-24 15:49:33.422 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 15:49:33.422 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 15:49:33.422 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 15:49:33.422 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 15:49:33.423 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 15:49:33.423 +05:30 [DBG] Connection id "0HN63RUB23992" completed keep alive response.
2024-08-24 15:49:33.423 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 15:49:33.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 41.3883ms
2024-08-24 15:49:37.543 +05:30 [DBG] Connection id "0HN63RUB23992" received FIN.
2024-08-24 15:49:37.543 +05:30 [DBG] Connection id "0HN63RUB23992" disconnecting.
2024-08-24 15:49:37.544 +05:30 [DBG] Connection id "0HN63RUB23992" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 15:49:37.545 +05:30 [DBG] Connection id "0HN63RUB23992" stopped.
2024-08-24 16:08:39.465 +05:30 [DBG] Connection id "0HN63RUB23993" accepted.
2024-08-24 16:08:39.466 +05:30 [DBG] Connection id "0HN63RUB23993" started.
2024-08-24 16:08:39.467 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 16:08:39.467 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 16:08:39.467 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:08:39.467 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:08:39.468 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:08:39.468 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:08:39.468 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:08:39.468 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:08:39.470 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:08:39.472 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:08:39.472 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:08:39.472 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:08:39.489 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:08:39.489 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 16:08:39.490 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 16:08:39.490 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:08:39.491 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:08:39.491 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:08:39.491 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:08:39.491 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:08:39.491 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:08:39.491 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:08:39.491 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:08:39.492 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:08:39.492 +05:30 [DBG] Connection id "0HN63RUB23993" completed keep alive response.
2024-08-24 16:08:39.492 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:08:39.492 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 24.9392ms
2024-08-24 16:10:26.466 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-24 16:10:26.467 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-24 16:10:26.467 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:10:26.467 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:10:26.467 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:10:26.467 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:10:26.467 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:10:26.467 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:10:26.468 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:10:26.468 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:10:26.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:10:26.469 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:10:26.469 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:10:26.469 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 16:10:26.470 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-24 16:10:26.470 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:10:26.470 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:10:26.470 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:10:26.470 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:10:26.470 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:10:26.471 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:10:26.471 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:10:26.471 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:10:26.471 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-24 16:10:26.471 +05:30 [DBG] Connection id "0HN63RUB23993" completed keep alive response.
2024-08-24 16:10:26.471 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:10:26.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 5.5237ms
2024-08-24 16:12:37.184 +05:30 [DBG] Connection id "0HN63RUB23993" disconnecting.
2024-08-24 16:12:37.186 +05:30 [DBG] Connection id "0HN63RUB23993" stopped.
2024-08-24 16:12:37.187 +05:30 [DBG] Connection id "0HN63RUB23993" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:12:38.258 +05:30 [DBG] Connection id "0HN63RUB23994" accepted.
2024-08-24 16:12:38.259 +05:30 [DBG] Connection id "0HN63RUB23994" started.
2024-08-24 16:12:38.259 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:12:38.259 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:12:38.259 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:12:38.260 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.260 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.260 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:12:38.260 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:12:38.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.8336ms
2024-08-24 16:12:38.260 +05:30 [DBG] Connection id "0HN63RUB23995" accepted.
2024-08-24 16:12:38.261 +05:30 [DBG] Connection id "0HN63RUB23995" started.
2024-08-24 16:12:38.261 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 16:12:38.261 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:12:38.261 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.261 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.261 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.261 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:12:38.262 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:12:38.262 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.262 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000001": started reading request body.
2024-08-24 16:12:38.262 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000001": done reading request body.
2024-08-24 16:12:38.263 +05:30 [INF] Login initiated for 20234555, admin@example.com
2024-08-24 16:12:38.398 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:12:38.398 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.399 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.399 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.400 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.400 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.403 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.403 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.403 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.403 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.403 +05:30 [INF] Login failed for 20234555, admin@example.com
2024-08-24 16:12:38.403 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:12:38.403 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.403 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:12:38.403 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:12:38.403 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 142.5114ms
2024-08-24 16:12:38.407 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:12:38.407 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:12:38.407 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:12:38.407 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.407 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.407 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:12:38.407 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:12:38.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.244ms
2024-08-24 16:12:38.407 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:12:38.407 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:12:38.407 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:12:38.408 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.408 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.408 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:12:38.408 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:12:38.408 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:12:38.409 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:12:38.409 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.409 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.409 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.409 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.409 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.410 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.410 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.410 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.410 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.410 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.410 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.411 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.411 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.411 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:12:38.412 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.412 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.412 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.412 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:12:38.412 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:12:38.412 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:12:38.412 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:12:38.412 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.413 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.414 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:12:38.414 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:12:38.414 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.415 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.415 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:12:38.417 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:12:38.417 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.417 +05:30 [DBG] Committing transaction.
2024-08-24 16:12:38.418 +05:30 [DBG] Committed transaction.
2024-08-24 16:12:38.418 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.418 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.418 +05:30 [DBG] Disposing transaction.
2024-08-24 16:12:38.418 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:12:38.418 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:12:38.419 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:12:38.419 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:12:38.419 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:12:38.419 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:12:38.419 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.419 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.419 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:12:38.419 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:12:38.420 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.420 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.420 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:12:38.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:12:38.421 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.421 +05:30 [DBG] Committing transaction.
2024-08-24 16:12:38.422 +05:30 [DBG] Committed transaction.
2024-08-24 16:12:38.422 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.422 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.422 +05:30 [DBG] Disposing transaction.
2024-08-24 16:12:38.422 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:12:38.422 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:12:38.422 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:12:38.423 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:12:38.423 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:12:38.423 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:12:38.423 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:12:38.423 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 15.4263ms
2024-08-24 16:12:38.423 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000002": started reading request body.
2024-08-24 16:12:38.423 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000002": done reading request body.
2024-08-24 16:12:38.425 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:12:38.425 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:12:38.425 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:12:38.425 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.425 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.425 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:12:38.425 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:12:38.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.5764ms
2024-08-24 16:12:38.426 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 16:12:38.426 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:12:38.427 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.427 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:12:38.427 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:12:38.427 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:12:38.427 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:12:38.427 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.427 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000003": started reading request body.
2024-08-24 16:12:38.427 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000003": done reading request body.
2024-08-24 16:12:38.428 +05:30 [INF] Login initiated for 20234555, admin@example.com
2024-08-24 16:12:38.554 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:12:38.555 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:12:38.555 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:12:38.555 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.555 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.555 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:12:38.556 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:12:38.556 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.556 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:12:38.556 +05:30 [INF] Login failed for 20234555, admin@example.com
2024-08-24 16:12:38.556 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:12:38.556 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:12:38.556 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:12:38.556 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:12:38.556 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 129.8993ms
2024-08-24 16:13:04.854 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:13:04.855 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:13:04.855 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:13:04.855 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:04.855 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:04.855 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:13:04.855 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:13:04.855 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.1639ms
2024-08-24 16:13:04.856 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 76
2024-08-24 16:13:04.856 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:13:04.856 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:04.856 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:04.856 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:04.856 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:13:04.856 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:13:04.856 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:04.856 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000004": started reading request body.
2024-08-24 16:13:04.856 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000004": done reading request body.
2024-08-24 16:13:04.857 +05:30 [INF] Login initiated for 2034454, admin@example.com
2024-08-24 16:13:04.991 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:13:04.991 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:04.991 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:04.991 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:04.992 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:04.992 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:04.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:04.993 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:04.993 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:04.993 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:04.993 +05:30 [INF] Login failed for 2034454, admin@example.com
2024-08-24 16:13:04.993 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:13:04.993 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:04.993 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:13:04.993 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:13:04.994 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 137.6953ms
2024-08-24 16:13:04.998 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:13:04.998 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:13:04.998 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:13:04.998 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:04.998 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:04.998 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:13:04.998 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:13:04.998 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.3035ms
2024-08-24 16:13:04.999 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:13:04.999 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:13:04.999 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:13:04.999 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:04.999 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:04.999 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:13:04.999 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:13:04.999 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:13:05.000 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:13:05.000 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:05.000 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:05.000 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.001 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.001 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.002 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:05.002 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.002 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.002 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:05.002 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:05.002 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.002 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.002 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.003 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.003 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:13:05.003 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:05.003 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.003 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.003 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:13:05.003 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:13:05.003 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:13:05.003 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:13:05.003 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.004 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.004 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:13:05.004 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:13:05.004 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:05.004 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:05.004 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:13:05.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:13:05.005 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:05.005 +05:30 [DBG] Committing transaction.
2024-08-24 16:13:05.006 +05:30 [DBG] Committed transaction.
2024-08-24 16:13:05.006 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.006 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.006 +05:30 [DBG] Disposing transaction.
2024-08-24 16:13:05.006 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:13:05.006 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:13:05.006 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:13:05.006 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:13:05.006 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:13:05.006 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:13:05.006 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.008 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.008 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:13:05.008 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:13:05.009 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:05.009 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:05.010 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:13:05.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:13:05.011 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:05.011 +05:30 [DBG] Committing transaction.
2024-08-24 16:13:05.011 +05:30 [DBG] Committed transaction.
2024-08-24 16:13:05.011 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.011 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.012 +05:30 [DBG] Disposing transaction.
2024-08-24 16:13:05.012 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:13:05.012 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:13:05.012 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:13:05.012 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:13:05.012 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:13:05.013 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:13:05.013 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:13:05.013 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 13.9321ms
2024-08-24 16:13:05.014 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000005": started reading request body.
2024-08-24 16:13:05.014 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000005": done reading request body.
2024-08-24 16:13:05.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:13:05.015 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:13:05.015 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:13:05.015 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:05.015 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:05.015 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:13:05.015 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:13:05.015 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.2959ms
2024-08-24 16:13:05.016 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 76
2024-08-24 16:13:05.016 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:13:05.016 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:05.016 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:13:05.016 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:13:05.016 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:13:05.016 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:13:05.016 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:05.016 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000006": started reading request body.
2024-08-24 16:13:05.016 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000006": done reading request body.
2024-08-24 16:13:05.016 +05:30 [INF] Login initiated for 2034454, admin@example.com
2024-08-24 16:13:05.146 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:13:05.146 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:13:05.146 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:13:05.146 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.147 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.147 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:13:05.148 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:13:05.148 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.148 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:13:05.148 +05:30 [INF] Login failed for 2034454, admin@example.com
2024-08-24 16:13:05.148 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:13:05.148 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:13:05.148 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:13:05.148 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:13:05.148 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 132.8798ms
2024-08-24 16:14:07.733 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:07.734 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:07.735 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:07.735 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.735 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.735 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:07.735 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:07.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 2.0197ms
2024-08-24 16:14:07.736 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:07.736 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:07.736 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:07.736 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.736 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.737 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:07.737 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:07.737 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:07.737 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000007": started reading request body.
2024-08-24 16:14:07.737 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000007": done reading request body.
2024-08-24 16:14:07.738 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:07.897 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:07.897 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:07.897 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:07.897 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.898 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.898 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.900 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:07.900 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.900 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.900 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:07.900 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:07.900 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:07.900 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:07.900 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:07.900 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 164.2892ms
2024-08-24 16:14:07.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:14:07.903 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:07.903 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:07.904 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.904 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.904 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:07.904 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:07.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.713ms
2024-08-24 16:14:07.906 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:14:07.906 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:07.906 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:07.906 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.907 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.907 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:07.907 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:07.907 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:07.908 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:07.908 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:07.909 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:07.909 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.910 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.910 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.911 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.912 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:07.912 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.912 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.912 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:07.912 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:07.914 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.915 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.916 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:07.916 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:07.917 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:07.917 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.917 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.917 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:07.917 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:07.917 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:07.917 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:07.917 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.918 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.918 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:07.918 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:07.919 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:07.921 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-24 16:14:07.923 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:07.935 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:07.935 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:07.936 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:07.937 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:07.937 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.937 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.937 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:07.937 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:07.938 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:07.938 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:07.939 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:07.939 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:07.940 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:07.940 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.941 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.941 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:07.941 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:07.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:07.942 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:07.942 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:07.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:07.943 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:07.943 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:07.944 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:07.944 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.944 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:07.944 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:07.944 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:07.944 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:07.944 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:14:07.944 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:14:07.944 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:07.944 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:07.944 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:07.944 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 38.7309ms
2024-08-24 16:14:07.945 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000008": started reading request body.
2024-08-24 16:14:07.945 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000008": done reading request body.
2024-08-24 16:14:07.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:07.948 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:07.948 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:07.948 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.948 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.948 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:07.948 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:07.948 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.257ms
2024-08-24 16:14:07.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:07.948 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:07.948 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:07.949 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:07.949 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:07.949 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:14:07.949 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:07.949 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:07.949 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000009": started reading request body.
2024-08-24 16:14:07.949 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000009": done reading request body.
2024-08-24 16:14:07.949 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:08.078 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:08.078 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:08.079 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:08.079 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:08.079 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:08.079 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:08.080 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:08.080 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:08.080 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:08.080 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:08.081 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:08.081 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:08.081 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:08.081 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:08.081 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:08.081 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 132.4378ms
2024-08-24 16:14:16.002 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:16.002 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:16.002 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:16.002 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.002 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.002 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:16.002 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:16.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6165ms
2024-08-24 16:14:16.003 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:16.003 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:16.003 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.003 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.003 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.003 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:16.003 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:16.003 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.004 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000A": started reading request body.
2024-08-24 16:14:16.004 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000A": done reading request body.
2024-08-24 16:14:16.004 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:16.162 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:16.162 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.162 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.162 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.163 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.163 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.165 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.165 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.165 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.165 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:16.165 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:16.165 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.165 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:16.165 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:16.165 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 162.3374ms
2024-08-24 16:14:16.168 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:14:16.168 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:16.168 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:16.168 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.168 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.168 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:16.168 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:16.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.3619ms
2024-08-24 16:14:16.169 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:14:16.169 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:16.169 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:16.169 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.169 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.169 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:16.169 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:16.169 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:16.169 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:16.170 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.170 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.170 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.170 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.170 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.173 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.173 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.173 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.173 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.173 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.173 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.173 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.174 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.174 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.175 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.175 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:16.175 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.175 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.175 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.175 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:16.175 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:16.176 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:16.176 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:16.176 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.176 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.176 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:16.176 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:16.176 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.176 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.176 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:16.177 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:16.177 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.177 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:16.178 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:16.178 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.178 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.178 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:16.178 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:16.178 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:16.178 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:16.179 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:16.179 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:16.179 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:16.179 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.180 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.180 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:16.180 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:16.180 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.180 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.180 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:16.181 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:16.181 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.181 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:16.181 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:16.181 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.181 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.181 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:16.181 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:16.181 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:16.181 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:14:16.181 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:14:16.182 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:16.182 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:16.182 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:16.182 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 12.8989ms
2024-08-24 16:14:16.182 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000B": started reading request body.
2024-08-24 16:14:16.182 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000B": done reading request body.
2024-08-24 16:14:16.183 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:16.184 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:16.184 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:16.184 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.184 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.184 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:16.184 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:16.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.587ms
2024-08-24 16:14:16.185 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:16.185 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:16.185 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.185 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:16.185 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:16.185 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:14:16.185 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:16.185 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.185 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000C": started reading request body.
2024-08-24 16:14:16.185 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000C": done reading request body.
2024-08-24 16:14:16.186 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:16.311 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:16.311 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:16.311 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:16.311 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.312 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.312 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:16.313 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:16.313 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.313 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:16.313 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:16.313 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:16.313 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:16.313 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:16.313 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:16.313 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 128.1415ms
2024-08-24 16:14:31.255 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:31.256 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:31.256 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:31.256 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.256 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.256 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:31.256 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:31.256 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.7195ms
2024-08-24 16:14:31.257 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:31.257 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:31.257 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.258 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.258 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.258 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:31.258 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:31.258 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.258 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000D": started reading request body.
2024-08-24 16:14:31.258 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000D": done reading request body.
2024-08-24 16:14:31.259 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:31.413 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:31.413 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.413 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.413 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.414 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.414 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.415 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.415 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.415 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.415 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.415 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:31.415 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:31.415 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.415 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:31.415 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:31.415 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 157.8288ms
2024-08-24 16:14:31.418 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:14:31.418 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:31.418 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:31.418 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.418 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.418 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:31.418 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:31.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.3649ms
2024-08-24 16:14:31.419 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:14:31.419 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:31.419 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:31.419 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.419 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.419 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:31.419 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:31.419 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:31.420 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:31.420 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.420 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.420 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.420 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.420 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.421 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.421 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.421 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.421 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.421 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.421 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.427 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.427 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.428 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:31.429 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.429 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.429 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.429 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:31.429 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:31.430 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:31.430 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:31.430 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.430 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.430 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:31.431 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:31.431 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.431 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.431 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:31.434 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:31.434 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.434 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:31.437 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:31.437 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.437 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.437 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:31.438 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:31.438 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:31.438 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:31.438 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:31.438 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:31.438 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:31.438 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.438 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.438 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:31.438 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:31.441 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.442 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:31.444 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:31.444 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.445 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:31.446 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:31.446 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.447 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.447 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:31.447 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:31.448 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:31.448 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:14:31.448 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:14:31.449 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:31.449 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:31.449 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:31.449 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 30.1609ms
2024-08-24 16:14:31.449 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000E": started reading request body.
2024-08-24 16:14:31.450 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000E": done reading request body.
2024-08-24 16:14:31.452 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:31.452 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:31.452 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:31.452 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.452 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.452 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:31.452 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:31.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6703ms
2024-08-24 16:14:31.453 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:31.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:31.453 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.453 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:31.453 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:31.453 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:14:31.453 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:31.453 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.453 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000F": started reading request body.
2024-08-24 16:14:31.453 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:0000000F": done reading request body.
2024-08-24 16:14:31.453 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:31.580 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:31.580 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:31.580 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:31.580 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.580 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.580 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.581 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:31.581 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:31.581 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.581 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:31.581 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:31.581 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:31.581 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:31.581 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:31.581 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:31.581 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 128.6977ms
2024-08-24 16:14:48.701 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:48.702 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:48.702 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:48.702 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.702 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.702 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:48.702 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:48.703 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 2.0223ms
2024-08-24 16:14:48.703 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:48.703 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:48.703 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:48.703 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.704 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.704 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:48.704 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:48.704 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:48.704 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000010": started reading request body.
2024-08-24 16:14:48.704 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000010": done reading request body.
2024-08-24 16:14:48.704 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:48.860 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:48.861 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:48.861 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:48.861 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.861 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.861 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.863 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:48.863 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.863 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.863 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:48.863 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:48.863 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:48.863 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:48.863 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:48.863 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 159.7214ms
2024-08-24 16:14:48.867 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:14:48.867 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:48.867 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:48.868 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.868 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.868 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:48.868 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:48.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.4034ms
2024-08-24 16:14:48.868 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:14:48.868 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:14:48.868 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:48.868 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.868 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.869 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:14:48.869 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:48.869 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:48.869 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:48.869 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:48.869 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:48.869 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.870 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.870 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.870 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:48.870 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.870 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.871 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:48.871 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:48.871 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.875 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.875 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:48.876 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:48.876 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:48.876 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.876 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.876 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:48.876 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:48.876 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:48.876 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:48.876 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.876 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.876 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:48.876 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:48.877 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:48.877 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:48.877 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:48.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:14:48.878 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:48.878 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:48.878 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:48.879 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.879 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.879 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:48.879 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:48.879 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:48.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:48.879 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:14:48.879 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:14:48.879 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:14:48.879 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.880 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.880 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:14:48.880 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:14:48.880 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:48.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:48.881 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:48.881 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:14:48.881 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:48.881 +05:30 [DBG] Committing transaction.
2024-08-24 16:14:48.882 +05:30 [DBG] Committed transaction.
2024-08-24 16:14:48.882 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.882 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:48.882 +05:30 [DBG] Disposing transaction.
2024-08-24 16:14:48.882 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:14:48.882 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:14:48.882 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:14:48.882 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:14:48.882 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:14:48.882 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:48.882 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:48.882 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 14.0669ms
2024-08-24 16:14:48.883 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000011": started reading request body.
2024-08-24 16:14:48.883 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000011": done reading request body.
2024-08-24 16:14:48.886 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:14:48.886 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:48.887 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:14:48.889 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.889 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.889 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:14:48.889 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:14:48.889 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 4.0803ms
2024-08-24 16:14:48.904 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:14:48.905 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:14:48.905 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:48.905 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:14:48.905 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:14:48.905 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:14:48.905 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:14:48.906 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:48.906 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000012": started reading request body.
2024-08-24 16:14:48.906 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000012": done reading request body.
2024-08-24 16:14:48.910 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:14:49.024 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:14:49.024 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:14:49.024 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:14:49.024 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:14:49.025 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:14:49.025 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:49.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:14:49.026 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:14:49.026 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:14:49.026 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:14:49.026 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:14:49.026 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:14:49.026 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:14:49.026 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:14:49.026 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:14:49.026 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 122.8371ms
2024-08-24 16:15:12.947 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:15:12.948 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:15:12.948 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:15:12.948 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:12.948 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:12.948 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:15:12.948 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:15:12.948 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6858ms
2024-08-24 16:15:12.949 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:15:12.949 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:15:12.949 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:12.949 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:12.949 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:12.949 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:15:12.949 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:15:12.949 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:12.949 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000013": started reading request body.
2024-08-24 16:15:12.949 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000013": done reading request body.
2024-08-24 16:15:12.950 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:15:13.088 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:15:13.088 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.088 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.088 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.089 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.089 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.089 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.089 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.089 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.090 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.090 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:15:13.090 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:15:13.090 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:13.090 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:15:13.090 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:15:13.090 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 141.0891ms
2024-08-24 16:15:13.092 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:15:13.093 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:15:13.093 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:15:13.093 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:13.093 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:13.093 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:15:13.093 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:15:13.093 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.3905ms
2024-08-24 16:15:13.094 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:15:13.094 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:15:13.094 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:15:13.094 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:13.094 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:13.094 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:15:13.094 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:15:13.094 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:15:13.094 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:15:13.094 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.094 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.094 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.095 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.095 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.096 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.096 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.096 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.096 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.096 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.096 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.096 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.096 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.097 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.097 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:15:13.097 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.097 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.097 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.097 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:15:13.097 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:15:13.097 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:15:13.097 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:15:13.097 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.097 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.097 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:15:13.098 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:15:13.098 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.098 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.098 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:15:13.098 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:15:13.098 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.099 +05:30 [DBG] Committing transaction.
2024-08-24 16:15:13.099 +05:30 [DBG] Committed transaction.
2024-08-24 16:15:13.099 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.099 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.099 +05:30 [DBG] Disposing transaction.
2024-08-24 16:15:13.099 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:15:13.100 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:15:13.100 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:15:13.100 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:15:13.100 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:15:13.100 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:15:13.100 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.100 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.100 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:15:13.100 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:15:13.100 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.100 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.100 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:15:13.101 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:15:13.101 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.101 +05:30 [DBG] Committing transaction.
2024-08-24 16:15:13.101 +05:30 [DBG] Committed transaction.
2024-08-24 16:15:13.101 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.101 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.101 +05:30 [DBG] Disposing transaction.
2024-08-24 16:15:13.101 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:15:13.101 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:15:13.101 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:15:13.101 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:15:13.101 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:15:13.101 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:15:13.101 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:15:13.102 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 7.9948ms
2024-08-24 16:15:13.102 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000014": started reading request body.
2024-08-24 16:15:13.102 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000014": done reading request body.
2024-08-24 16:15:13.103 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:15:13.103 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:15:13.103 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:15:13.103 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:13.103 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:13.104 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:15:13.104 +05:30 [DBG] Connection id "0HN63RUB23994" completed keep alive response.
2024-08-24 16:15:13.104 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.5162ms
2024-08-24 16:15:13.104 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:15:13.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:15:13.104 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:13.104 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:15:13.104 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:15:13.105 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:15:13.105 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:15:13.105 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:13.105 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000015": started reading request body.
2024-08-24 16:15:13.105 +05:30 [DBG] Connection id "0HN63RUB23995", Request id "0HN63RUB23995:00000015": done reading request body.
2024-08-24 16:15:13.105 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:15:13.228 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:15:13.228 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:15:13.229 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:15:13.229 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.229 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.229 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.230 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:15:13.230 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:15:13.230 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.230 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:15:13.230 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:15:13.230 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:15:13.230 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:15:13.230 +05:30 [DBG] Connection id "0HN63RUB23995" completed keep alive response.
2024-08-24 16:15:13.230 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:15:13.230 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 125.8423ms
2024-08-24 16:17:23.478 +05:30 [DBG] Connection id "0HN63RUB23994" disconnecting.
2024-08-24 16:17:23.479 +05:30 [DBG] Connection id "0HN63RUB23995" disconnecting.
2024-08-24 16:17:23.480 +05:30 [DBG] Connection id "0HN63RUB23994" stopped.
2024-08-24 16:17:23.480 +05:30 [DBG] Connection id "0HN63RUB23995" stopped.
2024-08-24 16:17:23.480 +05:30 [DBG] Connection id "0HN63RUB23995" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:17:23.480 +05:30 [DBG] Connection id "0HN63RUB23994" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:32:29.851 +05:30 [DBG] Connection id "0HN63RUB23996" accepted.
2024-08-24 16:32:29.854 +05:30 [DBG] Connection id "0HN63RUB23996" started.
2024-08-24 16:32:29.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:32:29.855 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:32:29.855 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:32:29.856 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:29.856 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:29.856 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:32:29.856 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:32:29.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.5797ms
2024-08-24 16:32:29.857 +05:30 [DBG] Connection id "0HN63RUB23997" accepted.
2024-08-24 16:32:29.857 +05:30 [DBG] Connection id "0HN63RUB23997" started.
2024-08-24 16:32:29.858 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:32:29.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:32:29.858 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:29.858 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:29.858 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:29.858 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:32:29.859 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:32:29.859 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:29.859 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000001": started reading request body.
2024-08-24 16:32:29.859 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000001": done reading request body.
2024-08-24 16:32:29.861 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:32:29.989 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:32:29.990 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:29.990 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:29.991 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.008 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.008 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.009 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.009 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.009 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.010 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.010 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:32:30.010 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:32:30.010 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:30.010 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:32:30.010 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:32:30.010 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 152.3965ms
2024-08-24 16:32:30.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:32:30.011 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:32:30.011 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:32:30.012 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:30.012 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:30.012 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:32:30.012 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:32:30.012 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.2929ms
2024-08-24 16:32:30.012 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:32:30.012 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:32:30.012 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:32:30.012 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:30.012 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:30.012 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:32:30.012 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:32:30.012 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:32:30.013 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:32:30.013 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:30.014 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:30.014 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.014 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.014 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.015 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.015 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.015 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.016 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:30.016 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:30.016 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.016 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.016 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.016 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.017 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:32:30.017 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.017 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.017 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.017 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:32:30.017 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:32:30.017 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:32:30.017 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:32:30.017 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.017 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.017 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:32:30.018 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:32:30.018 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:30.018 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:30.018 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:32:30.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:32:30.019 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.019 +05:30 [DBG] Committing transaction.
2024-08-24 16:32:30.021 +05:30 [DBG] Committed transaction.
2024-08-24 16:32:30.021 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.021 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.021 +05:30 [DBG] Disposing transaction.
2024-08-24 16:32:30.021 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:32:30.021 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:32:30.022 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:32:30.022 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:32:30.022 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:32:30.022 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:32:30.022 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.022 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.022 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:32:30.022 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:32:30.023 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:30.023 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:30.023 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:32:30.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:32:30.023 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.023 +05:30 [DBG] Committing transaction.
2024-08-24 16:32:30.024 +05:30 [DBG] Committed transaction.
2024-08-24 16:32:30.024 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.024 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.024 +05:30 [DBG] Disposing transaction.
2024-08-24 16:32:30.024 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:32:30.024 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:32:30.024 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:32:30.024 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:32:30.024 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:32:30.024 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:32:30.025 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:32:30.025 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 12.6645ms
2024-08-24 16:32:30.025 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000002": started reading request body.
2024-08-24 16:32:30.025 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000002": done reading request body.
2024-08-24 16:32:30.026 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:32:30.027 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:32:30.027 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:32:30.027 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:30.027 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:30.027 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:32:30.027 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:32:30.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.2697ms
2024-08-24 16:32:30.027 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:32:30.027 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:32:30.027 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:30.027 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:32:30.027 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:32:30.027 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:32:30.028 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:32:30.028 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:30.028 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000003": started reading request body.
2024-08-24 16:32:30.028 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000003": done reading request body.
2024-08-24 16:32:30.028 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:32:30.154 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:32:30.154 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:32:30.155 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:32:30.155 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.155 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.155 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:32:30.156 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:32:30.156 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.156 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:32:30.156 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:32:30.156 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:32:30.156 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:32:30.156 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:32:30.156 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:32:30.156 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 128.6892ms
2024-08-24 16:33:39.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:33:39.865 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:39.865 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:33:39.865 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:39.865 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:39.865 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:33:39.865 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:33:39.865 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.9169ms
2024-08-24 16:33:39.865 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:33:39.866 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:39.866 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:39.866 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:39.866 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:39.866 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:33:39.866 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:33:39.866 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:39.866 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000004": started reading request body.
2024-08-24 16:33:39.866 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000004": done reading request body.
2024-08-24 16:33:39.866 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:33:40.004 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:33:40.005 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.005 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.005 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.005 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.005 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.006 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.006 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.006 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.006 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:33:40.006 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:33:40.006 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:40.006 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:33:40.006 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:33:40.006 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 140.7375ms
2024-08-24 16:33:40.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 16:33:40.009 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:33:40.009 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:33:40.009 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:40.009 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:40.009 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:33:40.009 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:33:40.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.2437ms
2024-08-24 16:33:40.010 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 16:33:40.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 16:33:40.010 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:33:40.010 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:40.010 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:40.010 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:33:40.010 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:33:40.010 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:33:40.011 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:33:40.012 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.012 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.012 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.012 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.012 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.013 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.013 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.013 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.013 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.013 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.013 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.013 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.013 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.014 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.014 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:33:40.014 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.014 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.014 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.014 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:33:40.014 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:33:40.014 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:33:40.014 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:33:40.014 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.015 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.015 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:33:40.015 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:33:40.015 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.015 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.015 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:33:40.016 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:33:40.016 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.016 +05:30 [DBG] Committing transaction.
2024-08-24 16:33:40.017 +05:30 [DBG] Committed transaction.
2024-08-24 16:33:40.017 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.017 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.017 +05:30 [DBG] Disposing transaction.
2024-08-24 16:33:40.017 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:33:40.017 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:33:40.017 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:33:40.017 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:33:40.018 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:33:40.018 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:33:40.018 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.018 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.018 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:33:40.018 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:33:40.018 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.018 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.018 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:33:40.019 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:33:40.019 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.019 +05:30 [DBG] Committing transaction.
2024-08-24 16:33:40.019 +05:30 [DBG] Committed transaction.
2024-08-24 16:33:40.019 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.019 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.019 +05:30 [DBG] Disposing transaction.
2024-08-24 16:33:40.019 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:33:40.019 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:33:40.020 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:33:40.020 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:33:40.020 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 16:33:40.020 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:33:40.020 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:33:40.020 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 10.3431ms
2024-08-24 16:33:40.020 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000005": started reading request body.
2024-08-24 16:33:40.020 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000005": done reading request body.
2024-08-24 16:33:40.022 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:33:40.022 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:40.022 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:33:40.022 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:40.023 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:40.023 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:33:40.023 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:33:40.023 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.4299ms
2024-08-24 16:33:40.026 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 79
2024-08-24 16:33:40.029 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:40.029 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:40.029 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:40.029 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:40.029 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 16:33:40.031 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:33:40.031 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:40.034 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000006": started reading request body.
2024-08-24 16:33:40.035 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000006": done reading request body.
2024-08-24 16:33:40.038 +05:30 [INF] Login initiated for efdfdffgfg, admin@example.com
2024-08-24 16:33:40.154 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:33:40.155 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:40.155 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:40.155 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.155 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.155 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:40.156 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:40.156 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.156 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:40.156 +05:30 [INF] Login failed for efdfdffgfg, admin@example.com
2024-08-24 16:33:40.156 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:33:40.156 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:40.156 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:33:40.156 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:33:40.156 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 130.0712ms
2024-08-24 16:33:54.859 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:33:54.859 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:54.859 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:33:54.859 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:54.859 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:54.859 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:33:54.859 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:33:54.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6551ms
2024-08-24 16:33:54.860 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:33:54.860 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:33:54.860 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:54.860 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:33:54.861 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:33:54.861 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:33:54.861 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:33:54.861 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:54.861 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000007": started reading request body.
2024-08-24 16:33:54.861 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000007": done reading request body.
2024-08-24 16:33:54.861 +05:30 [INF] Login initiated for dffdgfgfg, admin@example.com
2024-08-24 16:33:55.005 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:33:55.005 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:33:55.005 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:33:55.005 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:33:55.006 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:33:55.006 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:55.007 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:33:55.007 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:33:55.007 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:33:55.007 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:33:55.007 +05:30 [INF] Login failed for dffdgfgfg, admin@example.com
2024-08-24 16:33:55.007 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:33:55.007 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:33:55.007 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:33:55.007 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:33:55.007 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 147.2734ms
2024-08-24 16:35:01.321 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:35:01.321 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:35:01.322 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:35:01.322 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:35:01.322 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:35:01.322 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:35:01.322 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:35:01.322 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2459ms
2024-08-24 16:35:01.323 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:35:01.324 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:35:01.324 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:01.324 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:35:01.324 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:35:01.324 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:35:01.324 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:35:01.324 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:01.324 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000008": started reading request body.
2024-08-24 16:35:01.324 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000008": done reading request body.
2024-08-24 16:35:01.325 +05:30 [INF] Login initiated for dffdgfgfg, admin@example.com
2024-08-24 16:35:01.469 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:35:01.469 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:35:01.469 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:35:01.469 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:35:01.470 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:35:01.470 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:35:01.471 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:35:01.471 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:35:01.471 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:35:01.471 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:35:01.471 +05:30 [INF] Login failed for dffdgfgfg, admin@example.com
2024-08-24 16:35:01.471 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:35:01.471 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:01.471 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:35:01.471 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:35:01.471 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 147.8373ms
2024-08-24 16:35:46.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:35:46.474 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:35:46.475 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:35:46.475 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:35:46.475 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:35:46.475 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:35:46.475 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:35:46.475 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 2.0345ms
2024-08-24 16:35:46.476 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:35:46.476 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:35:46.476 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:46.476 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:35:46.476 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:35:46.476 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:35:46.476 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:35:46.476 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:46.476 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000009": started reading request body.
2024-08-24 16:35:46.476 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000009": done reading request body.
2024-08-24 16:35:46.477 +05:30 [INF] Login initiated for dffdgfgfg, admin@example.com
2024-08-24 16:35:46.620 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:35:46.620 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:35:46.620 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:35:46.621 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:35:46.621 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:35:46.621 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:35:46.622 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:35:46.622 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:35:46.622 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:35:46.622 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:35:46.622 +05:30 [INF] Login failed for dffdgfgfg, admin@example.com
2024-08-24 16:35:46.622 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:35:46.622 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:35:46.622 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:35:46.622 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:35:46.622 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 146.0897ms
2024-08-24 16:36:23.475 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:36:23.476 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:36:23.476 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:36:23.476 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:36:23.476 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:36:23.476 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:36:23.477 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:36:23.477 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.622ms
2024-08-24 16:36:23.478 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:36:23.478 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:36:23.478 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:36:23.478 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:36:23.478 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:36:23.478 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:36:23.478 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:36:23.478 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:36:23.478 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000A": started reading request body.
2024-08-24 16:36:23.478 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000A": done reading request body.
2024-08-24 16:36:23.479 +05:30 [INF] Login initiated for dffdgfgfg, admin@example.com
2024-08-24 16:36:23.620 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:36:23.620 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:36:23.620 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:36:23.620 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:36:23.621 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:36:23.621 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:36:23.624 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:36:23.624 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:36:23.624 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:36:23.624 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:36:23.624 +05:30 [INF] Login failed for dffdgfgfg, admin@example.com
2024-08-24 16:36:23.624 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:36:23.624 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:36:23.624 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:36:23.624 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:36:23.624 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 146.2921ms
2024-08-24 16:37:22.210 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:37:22.211 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:37:22.211 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:37:22.211 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:37:22.211 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:37:22.211 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:37:22.211 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:37:22.211 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.7583ms
2024-08-24 16:37:22.212 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 76
2024-08-24 16:37:22.213 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:37:22.213 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:37:22.213 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:37:22.213 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:37:22.213 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:37:22.213 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:37:22.213 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:37:22.213 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000B": started reading request body.
2024-08-24 16:37:22.213 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000B": done reading request body.
2024-08-24 16:37:22.214 +05:30 [INF] Login initiated for 3434343, admin@example.com
2024-08-24 16:37:22.351 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:37:22.351 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:37:22.351 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:37:22.351 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:37:22.352 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:37:22.352 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:37:22.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:37:22.353 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:37:22.353 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:37:22.353 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:37:22.353 +05:30 [INF] Login failed for 3434343, admin@example.com
2024-08-24 16:37:22.354 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:37:22.354 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:37:22.354 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:37:22.354 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:37:22.354 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 141.2329ms
2024-08-24 16:38:02.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:38:02.735 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:38:02.735 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:38:02.735 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:38:02.735 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:38:02.735 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:38:02.736 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:38:02.736 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.7732ms
2024-08-24 16:38:02.736 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 16:38:02.736 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:38:02.736 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:02.736 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:38:02.737 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:38:02.737 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:38:02.737 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:38:02.737 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:02.737 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000C": started reading request body.
2024-08-24 16:38:02.737 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000C": done reading request body.
2024-08-24 16:38:02.737 +05:30 [INF] Login initiated for gfrgfrgf, admin@example.com
2024-08-24 16:38:02.872 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:38:02.873 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:38:02.873 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:38:02.873 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:38:02.873 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:38:02.874 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:38:02.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:38:02.874 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:38:02.874 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:38:02.874 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:38:02.874 +05:30 [INF] Login failed for gfrgfrgf, admin@example.com
2024-08-24 16:38:02.875 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:38:02.875 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:02.875 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:38:02.875 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:38:02.875 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 138.5842ms
2024-08-24 16:38:53.306 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:38:53.309 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:38:53.309 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:38:53.310 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:38:53.310 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:38:53.310 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:38:53.311 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:38:53.312 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 5.0878ms
2024-08-24 16:38:53.312 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 77
2024-08-24 16:38:53.313 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:38:53.313 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:53.313 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:38:53.313 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:38:53.314 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:38:53.314 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:38:53.314 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:53.314 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000D": started reading request body.
2024-08-24 16:38:53.315 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000D": done reading request body.
2024-08-24 16:38:53.316 +05:30 [INF] Login initiated for gfrgfrgf, admin@example.com
2024-08-24 16:38:53.450 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:38:53.451 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:38:53.452 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:38:53.452 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:38:53.452 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:38:53.452 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:38:53.455 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:38:53.455 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:38:53.455 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:38:53.455 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:38:53.455 +05:30 [INF] Login failed for gfrgfrgf, admin@example.com
2024-08-24 16:38:53.455 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:38:53.455 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:38:53.455 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:38:53.455 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:38:53.455 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 142.5976ms
2024-08-24 16:39:57.071 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:39:57.073 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:39:57.073 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:39:57.073 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:39:57.073 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:39:57.073 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:39:57.073 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:39:57.073 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.8638ms
2024-08-24 16:39:57.074 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 74
2024-08-24 16:39:57.074 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:39:57.074 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:39:57.074 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:39:57.074 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:39:57.074 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:39:57.074 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:39:57.074 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:39:57.074 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000E": started reading request body.
2024-08-24 16:39:57.075 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000E": done reading request body.
2024-08-24 16:39:57.075 +05:30 [INF] Login initiated for dfdfd, admin@example.com
2024-08-24 16:39:57.211 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:39:57.211 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:39:57.212 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:39:57.212 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:39:57.212 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:39:57.212 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:39:57.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:39:57.214 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:39:57.214 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:39:57.214 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:39:57.214 +05:30 [INF] Login failed for dfdfd, admin@example.com
2024-08-24 16:39:57.214 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:39:57.214 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:39:57.214 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:39:57.214 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:39:57.214 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 140.1937ms
2024-08-24 16:41:04.957 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:41:04.958 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:41:04.959 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:41:04.959 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:41:04.959 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:41:04.959 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:41:04.959 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:41:04.959 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.7996ms
2024-08-24 16:41:04.960 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 74
2024-08-24 16:41:04.960 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:41:04.960 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:04.960 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:41:04.960 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:41:04.960 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:41:04.960 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:41:04.960 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:04.960 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000F": started reading request body.
2024-08-24 16:41:04.960 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:0000000F": done reading request body.
2024-08-24 16:41:04.961 +05:30 [INF] Login initiated for dfdfd, admin@example.com
2024-08-24 16:41:05.105 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:41:05.106 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:41:05.106 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:41:05.106 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:41:05.107 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:41:05.107 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:41:05.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:41:05.108 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:41:05.108 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:41:05.108 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:41:05.108 +05:30 [INF] Login failed for dfdfd, admin@example.com
2024-08-24 16:41:05.108 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:41:05.108 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:05.108 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:41:05.108 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:41:05.108 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 148.5399ms
2024-08-24 16:41:14.257 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:41:14.257 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:41:14.257 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:41:14.257 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:41:14.257 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:41:14.257 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:41:14.257 +05:30 [DBG] Connection id "0HN63RUB23996" completed keep alive response.
2024-08-24 16:41:14.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6686ms
2024-08-24 16:41:14.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 74
2024-08-24 16:41:14.258 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:41:14.258 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:14.258 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:41:14.258 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:41:14.258 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:41:14.258 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:41:14.258 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:14.259 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000010": started reading request body.
2024-08-24 16:41:14.259 +05:30 [DBG] Connection id "0HN63RUB23997", Request id "0HN63RUB23997:00000010": done reading request body.
2024-08-24 16:41:14.259 +05:30 [INF] Login initiated for dfdfd, admin@example.com
2024-08-24 16:41:14.397 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:41:14.397 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:41:14.397 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:41:14.397 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:41:14.398 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:41:14.398 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:41:14.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:41:14.399 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:41:14.399 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:41:14.399 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:41:14.399 +05:30 [INF] Login failed for dfdfd, admin@example.com
2024-08-24 16:41:14.399 +05:30 [INF] Setting HTTP status code 401.
2024-08-24 16:41:14.399 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:41:14.399 +05:30 [DBG] Connection id "0HN63RUB23997" completed keep alive response.
2024-08-24 16:41:14.400 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:41:14.400 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 401 0 null 141.89ms
2024-08-24 16:43:24.813 +05:30 [DBG] Connection id "0HN63RUB23996" disconnecting.
2024-08-24 16:43:24.815 +05:30 [DBG] Connection id "0HN63RUB23996" stopped.
2024-08-24 16:43:24.814 +05:30 [DBG] Connection id "0HN63RUB23997" disconnecting.
2024-08-24 16:43:24.815 +05:30 [DBG] Connection id "0HN63RUB23996" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:43:24.815 +05:30 [DBG] Connection id "0HN63RUB23997" stopped.
2024-08-24 16:43:24.815 +05:30 [DBG] Connection id "0HN63RUB23997" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:45:40.475 +05:30 [DBG] Connection id "0HN63RUB23998" accepted.
2024-08-24 16:45:40.476 +05:30 [DBG] Connection id "0HN63RUB23998" started.
2024-08-24 16:45:40.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:45:40.477 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:45:40.477 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:45:40.478 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:40.478 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:40.478 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:45:40.478 +05:30 [DBG] Connection id "0HN63RUB23998" completed keep alive response.
2024-08-24 16:45:40.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2409ms
2024-08-24 16:45:40.479 +05:30 [DBG] Connection id "0HN63RUB23999" accepted.
2024-08-24 16:45:40.479 +05:30 [DBG] Connection id "0HN63RUB23999" started.
2024-08-24 16:45:40.479 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:45:40.480 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:45:40.480 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:45:40.480 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:40.480 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:40.480 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:45:40.481 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:45:40.481 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:45:40.481 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000001": started reading request body.
2024-08-24 16:45:40.481 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000001": done reading request body.
2024-08-24 16:45:40.483 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 16:45:40.616 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:45:40.617 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:40.617 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:40.617 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.618 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.619 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:45:40.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:45:40.620 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:40.620 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.620 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.724 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 16:45:40.724 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:40.724 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:40.724 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.725 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.725 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:45:40.725 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:45:40.726 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:45:40.726 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:40.726 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.726 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.726 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:45:40.726 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:45:40.726 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:45:40.726 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:45:40.726 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.726 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.727 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:45:40.727 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:45:40.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:40.727 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:40.727 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:45:40.728 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:45:40.728 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:40.728 +05:30 [DBG] Committing transaction.
2024-08-24 16:45:40.731 +05:30 [DBG] Committed transaction.
2024-08-24 16:45:40.731 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.731 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.731 +05:30 [DBG] Disposing transaction.
2024-08-24 16:45:40.731 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:45:40.731 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:45:40.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:45:40.731 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:45:40.731 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:45:40.732 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:45:40.732 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.732 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.732 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:45:40.732 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:45:40.732 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:40.732 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:40.732 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:45:40.733 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:45:40.733 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:40.733 +05:30 [DBG] Committing transaction.
2024-08-24 16:45:40.733 +05:30 [DBG] Committed transaction.
2024-08-24 16:45:40.733 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.733 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:40.733 +05:30 [DBG] Disposing transaction.
2024-08-24 16:45:40.734 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:45:40.734 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:45:40.734 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:45:40.734 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:45:40.734 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:45:40.734 +05:30 [DBG] Connection id "0HN63RUB23999" completed keep alive response.
2024-08-24 16:45:40.734 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:45:40.734 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 254.7544ms
2024-08-24 16:45:49.132 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:45:49.132 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:45:49.133 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:45:49.133 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:49.133 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:49.133 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:45:49.133 +05:30 [DBG] Connection id "0HN63RUB23998" completed keep alive response.
2024-08-24 16:45:49.133 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6758ms
2024-08-24 16:45:49.133 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 26
2024-08-24 16:45:49.134 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:45:49.134 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:49.134 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:49.134 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:49.134 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:45:49.135 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:45:49.135 +05:30 [DBG] Authorization was successful.
2024-08-24 16:45:49.135 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:45:49.135 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:49.135 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000002": started reading request body.
2024-08-24 16:45:49.135 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000002": done reading request body.
2024-08-24 16:45:49.136 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:45:49.138 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:49.139 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:49.139 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:49.140 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:49.140 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:45:49.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:45:49.142 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:49.143 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:49.143 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:49.143 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:45:49.143 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:45:49.143 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:49.143 +05:30 [DBG] Connection id "0HN63RUB23999" completed keep alive response.
2024-08-24 16:45:49.143 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:45:49.143 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.9905ms
2024-08-24 16:45:54.847 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:45:54.848 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:45:54.848 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:45:54.848 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:54.848 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:54.848 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:45:54.848 +05:30 [DBG] Connection id "0HN63RUB23998" completed keep alive response.
2024-08-24 16:45:54.848 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8465ms
2024-08-24 16:45:54.849 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 26
2024-08-24 16:45:54.849 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:45:54.849 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:54.849 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:45:54.849 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:45:54.850 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:45:54.850 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:45:54.850 +05:30 [DBG] Authorization was successful.
2024-08-24 16:45:54.850 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:45:54.850 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:54.850 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000003": started reading request body.
2024-08-24 16:45:54.850 +05:30 [DBG] Connection id "0HN63RUB23999", Request id "0HN63RUB23999:00000003": done reading request body.
2024-08-24 16:45:54.851 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:45:54.854 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:45:54.854 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:45:54.854 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:45:54.855 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:45:54.856 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:45:54.857 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:45:54.857 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:45:54.857 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:45:54.857 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:45:54.858 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:45:54.858 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:45:54.858 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:45:54.858 +05:30 [DBG] Connection id "0HN63RUB23999" completed keep alive response.
2024-08-24 16:45:54.858 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:45:54.858 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.0361ms
2024-08-24 16:48:05.103 +05:30 [DBG] Connection id "0HN63RUB23998" disconnecting.
2024-08-24 16:48:05.103 +05:30 [DBG] Connection id "0HN63RUB23999" disconnecting.
2024-08-24 16:48:05.104 +05:30 [DBG] Connection id "0HN63RUB23998" stopped.
2024-08-24 16:48:05.104 +05:30 [DBG] Connection id "0HN63RUB23999" stopped.
2024-08-24 16:48:05.104 +05:30 [DBG] Connection id "0HN63RUB23999" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:48:05.104 +05:30 [DBG] Connection id "0HN63RUB23998" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:48:30.706 +05:30 [DBG] Connection id "0HN63RUB2399A" accepted.
2024-08-24 16:48:30.707 +05:30 [DBG] Connection id "0HN63RUB2399A" started.
2024-08-24 16:48:30.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:48:30.708 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:48:30.708 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:48:30.708 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:48:30.708 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:48:30.708 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:48:30.708 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:48:30.708 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2426ms
2024-08-24 16:48:30.709 +05:30 [DBG] Connection id "0HN63RUB2399B" accepted.
2024-08-24 16:48:30.709 +05:30 [DBG] Connection id "0HN63RUB2399B" started.
2024-08-24 16:48:30.709 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:48:30.709 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:48:30.710 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:48:30.710 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:48:30.710 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:48:30.710 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:48:30.710 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:48:30.710 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:48:30.710 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000001": started reading request body.
2024-08-24 16:48:30.710 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000001": done reading request body.
2024-08-24 16:48:30.711 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 16:48:30.848 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:48:30.848 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:48:30.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:48:30.849 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.849 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.849 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:48:30.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:48:30.851 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:48:30.851 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.851 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.955 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 16:48:30.955 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:48:30.955 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:48:30.955 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.956 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.956 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:48:30.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:48:30.956 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:48:30.956 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:48:30.956 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.957 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.957 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:48:30.957 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:48:30.957 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:48:30.957 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:48:30.957 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.957 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.957 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:48:30.958 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:48:30.958 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:48:30.958 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:48:30.958 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:48:30.958 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:48:30.958 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:48:30.958 +05:30 [DBG] Committing transaction.
2024-08-24 16:48:30.961 +05:30 [DBG] Committed transaction.
2024-08-24 16:48:30.961 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.961 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.961 +05:30 [DBG] Disposing transaction.
2024-08-24 16:48:30.961 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:48:30.961 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:48:30.961 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:48:30.962 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:48:30.962 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:48:30.962 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:48:30.962 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.962 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.962 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:48:30.962 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:48:30.962 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:48:30.962 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:48:30.962 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:48:30.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:48:30.964 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:48:30.964 +05:30 [DBG] Committing transaction.
2024-08-24 16:48:30.964 +05:30 [DBG] Committed transaction.
2024-08-24 16:48:30.964 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.964 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:48:30.964 +05:30 [DBG] Disposing transaction.
2024-08-24 16:48:30.964 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:48:30.965 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:48:30.965 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:48:30.965 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:48:30.965 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:48:30.965 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:48:30.965 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:48:30.965 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 255.545ms
2024-08-24 16:48:35.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:48:35.911 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:48:35.911 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:48:35.912 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:48:35.912 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:48:35.912 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:48:35.912 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:48:35.912 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.9554ms
2024-08-24 16:48:35.913 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 23
2024-08-24 16:48:35.913 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:48:35.913 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:48:35.913 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:48:35.913 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:48:35.913 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:48:35.914 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:48:35.914 +05:30 [DBG] Authorization was successful.
2024-08-24 16:48:35.915 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:48:35.915 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:48:35.915 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000002": started reading request body.
2024-08-24 16:48:35.915 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000002": done reading request body.
2024-08-24 16:48:35.916 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:48:35.918 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:48:35.918 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:48:35.918 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:48:35.919 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:48:35.919 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:48:35.921 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:48:35.922 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:48:35.922 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:48:35.922 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:48:35.923 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:48:35.923 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:48:35.923 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:48:35.923 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:48:35.923 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:48:35.924 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 10.9289ms
2024-08-24 16:49:11.326 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:49:11.326 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:49:11.326 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:49:11.326 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:11.326 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:11.326 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:49:11.326 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:49:11.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.5872ms
2024-08-24 16:49:11.327 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:49:11.327 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:49:11.327 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:49:11.327 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:11.327 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:11.327 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:49:11.328 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:49:11.328 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:49:11.328 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000003": started reading request body.
2024-08-24 16:49:11.328 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000003": done reading request body.
2024-08-24 16:49:11.328 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 16:49:11.466 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:49:11.466 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:11.466 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:11.466 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.467 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.467 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:49:11.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:49:11.468 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:11.468 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.468 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.571 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 16:49:11.571 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:11.571 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:11.571 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.572 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.572 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:49:11.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:49:11.573 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:49:11.573 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:11.573 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.573 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.573 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:49:11.573 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:49:11.573 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:49:11.573 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:49:11.573 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.573 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.573 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:49:11.573 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:49:11.574 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:11.574 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:11.574 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:49:11.574 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:49:11.574 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:11.574 +05:30 [DBG] Committing transaction.
2024-08-24 16:49:11.575 +05:30 [DBG] Committed transaction.
2024-08-24 16:49:11.575 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.575 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.575 +05:30 [DBG] Disposing transaction.
2024-08-24 16:49:11.576 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:49:11.576 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:49:11.576 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:49:11.576 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:49:11.576 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:49:11.576 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:49:11.576 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.576 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.576 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:49:11.576 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:49:11.576 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:11.576 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:11.577 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:49:11.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:49:11.577 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:11.577 +05:30 [DBG] Committing transaction.
2024-08-24 16:49:11.578 +05:30 [DBG] Committed transaction.
2024-08-24 16:49:11.578 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.578 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:11.578 +05:30 [DBG] Disposing transaction.
2024-08-24 16:49:11.578 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:49:11.578 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:49:11.578 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:49:11.578 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:49:11.578 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:49:11.578 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:49:11.578 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:49:11.578 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 250.8542ms
2024-08-24 16:49:18.502 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:49:18.503 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:49:18.503 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:49:18.503 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:18.503 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:18.503 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:49:18.503 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:49:18.503 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0352ms
2024-08-24 16:49:18.504 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 25
2024-08-24 16:49:18.504 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:49:18.504 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:18.504 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:18.505 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:18.505 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:49:18.505 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:49:18.506 +05:30 [DBG] Authorization was successful.
2024-08-24 16:49:18.506 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:49:18.506 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:18.506 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000004": started reading request body.
2024-08-24 16:49:18.506 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000004": done reading request body.
2024-08-24 16:49:18.507 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:49:18.510 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:18.510 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:18.510 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:18.511 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:18.511 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:49:18.512 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:49:18.513 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:18.513 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:18.513 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:18.513 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:49:18.513 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:49:18.513 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:18.513 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:49:18.513 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:49:18.514 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.4928ms
2024-08-24 16:49:32.362 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:49:32.362 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:49:32.362 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:49:32.362 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:32.363 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:32.363 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:49:32.363 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:49:32.363 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.2455ms
2024-08-24 16:49:32.364 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 16:49:32.364 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:49:32.364 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:32.364 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:49:32.364 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:49:32.365 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:49:32.365 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:49:32.365 +05:30 [DBG] Authorization was successful.
2024-08-24 16:49:32.365 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:49:32.366 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:32.366 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000005": started reading request body.
2024-08-24 16:49:32.366 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000005": done reading request body.
2024-08-24 16:49:32.367 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:49:32.370 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:49:32.371 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:49:32.371 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:49:32.372 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:49:32.372 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:49:32.374 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:49:32.374 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:49:32.374 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:49:32.374 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:49:32.374 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:49:32.375 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:49:32.375 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:49:32.375 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:49:32.375 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:49:32.375 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.073ms
2024-08-24 16:50:43.688 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:50:43.689 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:50:43.689 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:50:43.689 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:50:43.689 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:50:43.689 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:50:43.689 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:50:43.689 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.7507ms
2024-08-24 16:50:43.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 39
2024-08-24 16:50:43.690 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:50:43.690 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:50:43.690 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:50:43.691 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:50:43.691 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:50:43.691 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:50:43.691 +05:30 [DBG] Authorization was successful.
2024-08-24 16:50:43.691 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:50:43.691 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:50:43.691 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000006": started reading request body.
2024-08-24 16:50:43.692 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000006": done reading request body.
2024-08-24 16:50:43.693 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:50:43.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:50:43.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:50:43.696 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:50:43.696 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:50:43.697 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:50:43.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 16:50:43.698 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:50:43.698 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:50:43.699 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:50:43.699 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:50:43.699 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:50:43.699 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:50:43.699 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:50:43.699 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:50:43.699 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.9325ms
2024-08-24 16:50:59.692 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 16:50:59.692 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:50:59.692 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:50:59.692 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:50:59.692 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:50:59.692 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:50:59.692 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:50:59.692 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6398ms
2024-08-24 16:50:59.693 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 16:50:59.693 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 16:50:59.693 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:50:59.693 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:50:59.693 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:50:59.694 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 16:50:59.694 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:50:59.694 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:50:59.694 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000007": started reading request body.
2024-08-24 16:50:59.694 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000007": done reading request body.
2024-08-24 16:50:59.694 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 16:50:59.834 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:50:59.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:50:59.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:50:59.834 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.835 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.835 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:50:59.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:50:59.836 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:50:59.836 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.836 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.939 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 16:50:59.939 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:50:59.939 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:50:59.939 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.940 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.940 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:50:59.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 16:50:59.941 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:50:59.941 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:50:59.941 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.941 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.941 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:50:59.941 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:50:59.941 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:50:59.941 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:50:59.941 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.941 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.941 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:50:59.942 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:50:59.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:50:59.942 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:50:59.942 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:50:59.942 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 16:50:59.942 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:50:59.942 +05:30 [DBG] Committing transaction.
2024-08-24 16:50:59.944 +05:30 [DBG] Committed transaction.
2024-08-24 16:50:59.944 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.944 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.944 +05:30 [DBG] Disposing transaction.
2024-08-24 16:50:59.944 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:50:59.944 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:50:59.944 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:50:59.944 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 16:50:59.944 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 16:50:59.944 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 16:50:59.944 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.945 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.945 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 16:50:59.945 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 16:50:59.945 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:50:59.945 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:50:59.945 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:50:59.946 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 16:50:59.946 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:50:59.946 +05:30 [DBG] Committing transaction.
2024-08-24 16:50:59.946 +05:30 [DBG] Committed transaction.
2024-08-24 16:50:59.946 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.946 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:50:59.946 +05:30 [DBG] Disposing transaction.
2024-08-24 16:50:59.946 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 16:50:59.946 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 16:50:59.946 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:50:59.946 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 16:50:59.947 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 16:50:59.947 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:50:59.947 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:50:59.947 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 253.438ms
2024-08-24 16:51:09.389 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 16:51:09.389 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:51:09.389 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 16:51:09.390 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:51:09.390 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:51:09.390 +05:30 [DBG] The request is a preflight request.
2024-08-24 16:51:09.390 +05:30 [DBG] Connection id "0HN63RUB2399A" completed keep alive response.
2024-08-24 16:51:09.390 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.5705ms
2024-08-24 16:51:09.391 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 16:51:09.391 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 16:51:09.391 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:51:09.391 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 16:51:09.391 +05:30 [INF] CORS policy execution successful.
2024-08-24 16:51:09.392 +05:30 [DBG] Successfully validated the token.
2024-08-24 16:51:09.392 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 16:51:09.392 +05:30 [DBG] Authorization was successful.
2024-08-24 16:51:09.392 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 16:51:09.392 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:51:09.393 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000008": started reading request body.
2024-08-24 16:51:09.393 +05:30 [DBG] Connection id "0HN63RUB2399B", Request id "0HN63RUB2399B:00000008": done reading request body.
2024-08-24 16:51:09.394 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 16:51:09.396 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 16:51:09.397 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 16:51:09.397 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 16:51:09.398 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 16:51:09.398 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 16:51:09.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 16:51:09.400 +05:30 [DBG] A data reader was disposed.
2024-08-24 16:51:09.400 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 16:51:09.400 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 16:51:09.400 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 16:51:09.400 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 16:51:09.400 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 16:51:09.400 +05:30 [DBG] Connection id "0HN63RUB2399B" completed keep alive response.
2024-08-24 16:51:09.400 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 16:51:09.401 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.635ms
2024-08-24 16:53:20.424 +05:30 [DBG] Connection id "0HN63RUB2399A" disconnecting.
2024-08-24 16:53:20.424 +05:30 [DBG] Connection id "0HN63RUB2399B" disconnecting.
2024-08-24 16:53:20.424 +05:30 [DBG] Connection id "0HN63RUB2399A" stopped.
2024-08-24 16:53:20.424 +05:30 [DBG] Connection id "0HN63RUB2399B" stopped.
2024-08-24 16:53:20.425 +05:30 [DBG] Connection id "0HN63RUB2399B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 16:53:20.425 +05:30 [DBG] Connection id "0HN63RUB2399A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 21:48:02.508 +05:30 [DBG] Connection id "0HN63RUB2399C" accepted.
2024-08-24 21:48:02.509 +05:30 [DBG] Connection id "0HN63RUB2399C" started.
2024-08-24 21:48:02.510 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 21:48:02.511 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:02.511 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:02.511 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:02.511 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:02.511 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:02.511 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:02.511 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.7319ms
2024-08-24 21:48:02.512 +05:30 [DBG] Connection id "0HN63RUB2399D" accepted.
2024-08-24 21:48:02.512 +05:30 [DBG] Connection id "0HN63RUB2399D" started.
2024-08-24 21:48:02.513 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:02.513 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:02.513 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:02.513 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:02.513 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:02.515 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 11:35:59 AM', Current time: '8/24/2024 4:18:02 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 21:48:02.517 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 11:35:59 AM', Current time: '8/24/2024 4:18:02 PM'.
2024-08-24 21:48:02.518 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:02.518 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:02.518 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:02.519 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:02.519 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 6.1143ms
2024-08-24 21:48:02.519 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000001": started reading request body.
2024-08-24 21:48:02.519 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000001": done reading request body.
2024-08-24 21:48:02.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 21:48:02.521 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:02.521 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:02.521 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:02.521 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:02.522 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:02.522 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:02.522 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.7097ms
2024-08-24 21:48:02.523 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 21:48:02.523 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:02.523 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:02.523 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:02.523 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:02.523 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 11:35:59 AM', Current time: '8/24/2024 4:18:02 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-24 21:48:02.524 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 11:35:59 AM', Current time: '8/24/2024 4:18:02 PM'.
2024-08-24 21:48:02.524 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 21:48:02.524 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:02.528 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 21:48:02.532 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:02.532 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:02.533 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.575 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.575 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:02.577 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:02.577 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:02.577 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.577 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.578 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:02.578 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:02.578 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.578 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.578 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:02.579 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:02.579 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:02.579 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:02.579 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.579 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.579 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:02.580 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:02.580 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:02.580 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:02.580 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.580 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.580 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:02.581 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:02.581 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:02.581 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:02.581 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:02.582 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:02.583 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:02.583 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:02.584 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:02.584 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.584 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.584 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:02.584 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:02.584 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:02.585 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:02.585 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:02.585 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:02.585 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:02.585 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.585 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.585 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:02.585 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:02.586 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:02.586 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:02.586 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:02.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:02.587 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:02.587 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:02.587 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:02.587 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.587 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:02.587 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:02.587 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:02.587 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:02.587 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 21:48:02.587 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 21:48:02.588 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:02.588 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:02.588 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 21:48:02.588 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 65.1903ms
2024-08-24 21:48:02.588 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000002": started reading request body.
2024-08-24 21:48:02.588 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000002": done reading request body.
2024-08-24 21:48:02.590 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:02.590 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:02.590 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:02.590 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:02.590 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:02.590 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 21:48:02.590 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:02.590 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:02.590 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:02.590 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:02.590 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.4957ms
2024-08-24 21:48:02.590 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000003": started reading request body.
2024-08-24 21:48:02.590 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000003": done reading request body.
2024-08-24 21:48:12.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 21:48:12.975 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:12.975 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:12.976 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:12.976 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:12.976 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:12.976 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:12.976 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.5523ms
2024-08-24 21:48:12.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:12.981 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:12.981 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:12.981 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:12.981 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:12.981 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 21:48:12.982 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:12.982 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:12.982 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:12.982 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:12.982 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 1.5973ms
2024-08-24 21:48:12.982 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000004": started reading request body.
2024-08-24 21:48:12.982 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000004": done reading request body.
2024-08-24 21:48:12.984 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 21:48:12.984 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:12.984 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:12.984 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:12.984 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:12.984 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:12.984 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:12.984 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.5089ms
2024-08-24 21:48:12.985 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 21:48:12.985 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:12.985 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:12.985 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:12.985 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:12.985 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 21:48:12.985 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 21:48:12.985 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:12.986 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 21:48:12.987 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:12.987 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:12.987 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.988 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.988 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:12.989 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:12.989 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:12.989 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.989 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.989 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:12.989 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:12.989 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.990 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.990 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:12.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:12.991 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:12.991 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:12.991 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.991 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.991 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:12.991 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:12.991 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:12.991 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:12.991 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.992 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.992 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:12.992 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:12.992 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:12.992 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:12.993 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:12.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:12.993 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:12.994 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:12.994 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:12.995 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.995 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.995 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:12.995 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:12.995 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:12.995 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:12.995 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:12.995 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:12.995 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:12.996 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.996 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.996 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:12.996 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:12.996 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:12.997 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:12.997 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:12.997 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:12.997 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:12.997 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:12.998 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:12.998 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.998 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:12.998 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:12.998 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:12.998 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:12.999 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 21:48:12.999 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 21:48:13.000 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:13.000 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:13.000 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 21:48:13.001 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 16.7417ms
2024-08-24 21:48:13.001 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000005": started reading request body.
2024-08-24 21:48:13.002 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000005": done reading request body.
2024-08-24 21:48:13.003 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 21:48:13.003 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:13.003 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:13.003 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:13.003 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:13.003 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:13.003 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:13.003 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7298ms
2024-08-24 21:48:13.004 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:13.004 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:13.004 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:13.004 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:13.004 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:13.004 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 21:48:13.004 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:13.004 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:13.004 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:13.004 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:13.004 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.4922ms
2024-08-24 21:48:13.005 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000006": started reading request body.
2024-08-24 21:48:13.005 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000006": done reading request body.
2024-08-24 21:48:29.088 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 21:48:29.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:29.089 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:29.089 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.089 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.089 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:29.089 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:29.089 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4602ms
2024-08-24 21:48:29.090 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:29.091 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:29.091 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:29.091 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.091 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.091 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 21:48:29.091 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:29.091 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:29.091 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:29.091 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:29.091 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.9504ms
2024-08-24 21:48:29.092 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000007": started reading request body.
2024-08-24 21:48:29.092 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000007": done reading request body.
2024-08-24 21:48:29.094 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 21:48:29.094 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:29.094 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:29.094 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.094 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.094 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:29.094 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:29.094 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.571ms
2024-08-24 21:48:29.095 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 21:48:29.095 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 21:48:29.096 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:29.096 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.096 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.096 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 21:48:29.096 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 21:48:29.096 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:29.097 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 21:48:29.098 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:29.098 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:29.098 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.099 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.099 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:29.100 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:29.101 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:29.101 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.101 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.101 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:29.101 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:29.101 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.102 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.102 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:29.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 21:48:29.103 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:29.103 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:29.103 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.103 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.103 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:29.103 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:29.104 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:29.104 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:29.104 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.105 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.105 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:29.105 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:29.105 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:29.105 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:29.105 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:29.106 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 21:48:29.106 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:29.106 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:29.107 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:29.107 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.108 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.108 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:29.108 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:29.108 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:29.108 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:29.108 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 21:48:29.108 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 21:48:29.108 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 21:48:29.108 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.109 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.109 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 21:48:29.109 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 21:48:29.109 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 21:48:29.110 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 21:48:29.110 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:29.110 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 21:48:29.110 +05:30 [DBG] A data reader was disposed.
2024-08-24 21:48:29.110 +05:30 [DBG] Committing transaction.
2024-08-24 21:48:29.111 +05:30 [DBG] Committed transaction.
2024-08-24 21:48:29.111 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.111 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 21:48:29.111 +05:30 [DBG] Disposing transaction.
2024-08-24 21:48:29.111 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 21:48:29.111 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 21:48:29.111 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 21:48:29.111 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 21:48:29.111 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 21:48:29.112 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:29.112 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 21:48:29.112 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 16.5165ms
2024-08-24 21:48:29.112 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000008": started reading request body.
2024-08-24 21:48:29.112 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000008": done reading request body.
2024-08-24 21:48:29.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 21:48:29.114 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:29.114 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 21:48:29.114 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.114 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.114 +05:30 [DBG] The request is a preflight request.
2024-08-24 21:48:29.114 +05:30 [DBG] Connection id "0HN63RUB2399C" completed keep alive response.
2024-08-24 21:48:29.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6607ms
2024-08-24 21:48:29.115 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 21:48:29.115 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 21:48:29.115 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 21:48:29.115 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 21:48:29.115 +05:30 [INF] CORS policy execution successful.
2024-08-24 21:48:29.115 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 21:48:29.115 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 21:48:29.115 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 21:48:29.116 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 21:48:29.116 +05:30 [DBG] Connection id "0HN63RUB2399D" completed keep alive response.
2024-08-24 21:48:29.116 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.5603ms
2024-08-24 21:48:29.116 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000009": started reading request body.
2024-08-24 21:48:29.116 +05:30 [DBG] Connection id "0HN63RUB2399D", Request id "0HN63RUB2399D:00000009": done reading request body.
2024-08-24 21:49:47.733 +05:30 [DBG] Connection id "0HN63RUB2399D" received FIN.
2024-08-24 21:49:47.733 +05:30 [DBG] Connection id "0HN63RUB2399C" received FIN.
2024-08-24 21:49:47.735 +05:30 [DBG] Connection id "0HN63RUB2399C" disconnecting.
2024-08-24 21:49:47.735 +05:30 [DBG] Connection id "0HN63RUB2399D" disconnecting.
2024-08-24 21:49:47.735 +05:30 [DBG] Connection id "0HN63RUB2399C" stopped.
2024-08-24 21:49:47.735 +05:30 [DBG] Connection id "0HN63RUB2399D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 21:49:47.735 +05:30 [DBG] Connection id "0HN63RUB2399C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 21:49:47.736 +05:30 [DBG] Connection id "0HN63RUB2399D" stopped.
2024-08-24 22:00:15.976 +05:30 [DBG] Connection id "0HN63RUB2399E" accepted.
2024-08-24 22:00:15.976 +05:30 [DBG] Connection id "0HN63RUB2399E" started.
2024-08-24 22:00:15.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:00:15.978 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:15.978 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:15.978 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:15.978 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:15.978 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:15.979 +05:30 [DBG] Connection id "0HN63RUB2399E" completed keep alive response.
2024-08-24 22:00:15.979 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4437ms
2024-08-24 22:00:15.980 +05:30 [DBG] Connection id "0HN63RUB2399F" accepted.
2024-08-24 22:00:15.980 +05:30 [DBG] Connection id "0HN63RUB2399F" started.
2024-08-24 22:00:15.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 22:00:15.980 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:15.980 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:00:15.981 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:15.981 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:15.981 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:00:15.982 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 22:00:15.982 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 22:00:15.982 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 22:00:15.983 +05:30 [DBG] Connection id "0HN63RUB2399F" completed keep alive response.
2024-08-24 22:00:15.983 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 2.4725ms
2024-08-24 22:00:15.983 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000001": started reading request body.
2024-08-24 22:00:15.983 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000001": done reading request body.
2024-08-24 22:00:15.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 22:00:15.987 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 22:00:15.987 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:15.987 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:15.987 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:15.987 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:15.987 +05:30 [DBG] Connection id "0HN63RUB2399E" completed keep alive response.
2024-08-24 22:00:15.987 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.9414ms
2024-08-24 22:00:15.988 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 22:00:15.988 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 22:00:15.988 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:15.988 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:15.988 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:15.988 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:00:15.989 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:00:15.989 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:15.992 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:00:15.994 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:15.994 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:15.994 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.027 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.027 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:16.028 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:16.028 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:16.029 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.029 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.029 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:16.029 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:16.029 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.030 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.030 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:16.030 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:16.031 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:16.031 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:16.031 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.031 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.031 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:16.031 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:00:16.031 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:00:16.031 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:00:16.031 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.032 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.032 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:00:16.032 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:00:16.032 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:16.032 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:16.033 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:00:16.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:00:16.034 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:16.034 +05:30 [DBG] Committing transaction.
2024-08-24 22:00:16.036 +05:30 [DBG] Committed transaction.
2024-08-24 22:00:16.036 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.036 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.036 +05:30 [DBG] Disposing transaction.
2024-08-24 22:00:16.036 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:16.036 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:00:16.036 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:16.036 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:00:16.037 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:00:16.037 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:00:16.037 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.037 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.037 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:00:16.037 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:00:16.037 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:16.037 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:16.038 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:00:16.038 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:00:16.038 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:16.038 +05:30 [DBG] Committing transaction.
2024-08-24 22:00:16.039 +05:30 [DBG] Committed transaction.
2024-08-24 22:00:16.039 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.039 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:16.039 +05:30 [DBG] Disposing transaction.
2024-08-24 22:00:16.039 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:16.039 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:00:16.039 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:00:16.039 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 22:00:16.039 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:16.039 +05:30 [DBG] Connection id "0HN63RUB2399F" completed keep alive response.
2024-08-24 22:00:16.039 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:00:16.040 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 51.5957ms
2024-08-24 22:00:16.040 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000002": started reading request body.
2024-08-24 22:00:16.040 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000002": done reading request body.
2024-08-24 22:00:16.042 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:00:16.042 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:16.042 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:16.042 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:16.042 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:16.042 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:16.042 +05:30 [DBG] Connection id "0HN63RUB2399E" completed keep alive response.
2024-08-24 22:00:16.042 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.4738ms
2024-08-24 22:00:16.042 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-24 22:00:16.043 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:16.043 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:00:16.043 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:16.043 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:16.043 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 22:00:16.043 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 22:00:16.043 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 22:00:16.043 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 22:00:16.043 +05:30 [DBG] Connection id "0HN63RUB2399F" completed keep alive response.
2024-08-24 22:00:16.043 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.5667ms
2024-08-24 22:00:16.043 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000003": started reading request body.
2024-08-24 22:00:16.043 +05:30 [DBG] Connection id "0HN63RUB2399F", Request id "0HN63RUB2399F:00000003": done reading request body.
2024-08-24 22:00:17.874 +05:30 [DBG] Connection id "0HN63RUB2399F" received FIN.
2024-08-24 22:00:17.874 +05:30 [DBG] Connection id "0HN63RUB2399E" received FIN.
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399E" disconnecting.
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399F" disconnecting.
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399E" stopped.
2024-08-24 22:00:17.875 +05:30 [DBG] Connection id "0HN63RUB2399F" stopped.
2024-08-24 22:00:44.825 +05:30 [DBG] Connection id "0HN63RUB2399G" accepted.
2024-08-24 22:00:44.825 +05:30 [DBG] Connection id "0HN63RUB2399G" started.
2024-08-24 22:00:44.826 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:00:44.826 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:44.826 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:44.826 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.826 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.826 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:44.826 +05:30 [DBG] Connection id "0HN63RUB2399G" completed keep alive response.
2024-08-24 22:00:44.826 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.5425ms
2024-08-24 22:00:44.827 +05:30 [DBG] Connection id "0HN63RUB2399H" accepted.
2024-08-24 22:00:44.827 +05:30 [DBG] Connection id "0HN63RUB2399H" started.
2024-08-24 22:00:44.827 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 22:00:44.828 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:44.828 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:00:44.828 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.828 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.828 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:00:44.828 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 22:00:44.829 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 22:00:44.829 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 22:00:44.829 +05:30 [DBG] Connection id "0HN63RUB2399H" completed keep alive response.
2024-08-24 22:00:44.829 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 1.7792ms
2024-08-24 22:00:44.829 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000001": started reading request body.
2024-08-24 22:00:44.829 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000001": done reading request body.
2024-08-24 22:00:44.831 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-24 22:00:44.832 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 22:00:44.832 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:44.832 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.832 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.832 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:44.832 +05:30 [DBG] Connection id "0HN63RUB2399G" completed keep alive response.
2024-08-24 22:00:44.832 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.456ms
2024-08-24 22:00:44.832 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-24 22:00:44.832 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-24 22:00:44.833 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:44.833 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.833 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.833 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:00:44.833 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:00:44.833 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:44.836 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:00:44.840 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:44.840 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-08-24 22:00:44.841 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.841 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.842 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:44.844 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:44.844 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:44.844 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.844 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.845 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:44.846 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:44.846 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.846 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.846 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:44.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:00:44.847 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:44.847 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:44.847 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.847 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.848 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:44.848 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:00:44.848 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:00:44.848 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:00:44.848 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.849 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.849 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:00:44.849 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:00:44.850 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:44.850 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:44.850 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:00:44.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:00:44.850 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:44.850 +05:30 [DBG] Committing transaction.
2024-08-24 22:00:44.851 +05:30 [DBG] Committed transaction.
2024-08-24 22:00:44.851 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.851 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.851 +05:30 [DBG] Disposing transaction.
2024-08-24 22:00:44.852 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:44.852 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:00:44.852 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:44.852 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:00:44.852 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:00:44.852 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:00:44.852 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.852 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.853 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:00:44.853 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:00:44.853 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:00:44.853 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:00:44.853 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:00:44.854 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:00:44.854 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:00:44.854 +05:30 [DBG] Committing transaction.
2024-08-24 22:00:44.854 +05:30 [DBG] Committed transaction.
2024-08-24 22:00:44.854 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.854 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:00:44.854 +05:30 [DBG] Disposing transaction.
2024-08-24 22:00:44.854 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:00:44.854 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:00:44.855 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:00:44.855 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 22:00:44.855 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-24 22:00:44.855 +05:30 [DBG] Connection id "0HN63RUB2399H" completed keep alive response.
2024-08-24 22:00:44.855 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:00:44.855 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 22.5221ms
2024-08-24 22:00:44.855 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000002": started reading request body.
2024-08-24 22:00:44.855 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000002": done reading request body.
2024-08-24 22:00:44.857 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:00:44.857 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:44.857 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:00:44.857 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.857 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.857 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:00:44.857 +05:30 [DBG] Connection id "0HN63RUB2399G" completed keep alive response.
2024-08-24 22:00:44.857 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.467ms
2024-08-24 22:00:44.858 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-24 22:00:44.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:00:44.858 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:00:44.858 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:00:44.858 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:00:44.858 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-24 22:00:44.858 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-24 22:00:44.858 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-24 22:00:44.858 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-24 22:00:44.858 +05:30 [DBG] Connection id "0HN63RUB2399H" completed keep alive response.
2024-08-24 22:00:44.858 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.6292ms
2024-08-24 22:00:44.859 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000003": started reading request body.
2024-08-24 22:00:44.859 +05:30 [DBG] Connection id "0HN63RUB2399H", Request id "0HN63RUB2399H:00000003": done reading request body.
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399G" received FIN.
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399H" received FIN.
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399H" disconnecting.
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399G" disconnecting.
2024-08-24 22:00:47.878 +05:30 [DBG] Connection id "0HN63RUB2399H" stopped.
2024-08-24 22:00:47.879 +05:30 [DBG] Connection id "0HN63RUB2399G" stopped.
2024-08-24 22:00:47.879 +05:30 [DBG] Connection id "0HN63RUB2399H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:01:22.016 +05:30 [DBG] Connection id "0HN63RUB2399I" accepted.
2024-08-24 22:01:22.017 +05:30 [DBG] Connection id "0HN63RUB2399I" started.
2024-08-24 22:01:22.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 22:01:22.017 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:01:22.017 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:01:22.017 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:01:22.017 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:01:22.018 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:01:22.018 +05:30 [DBG] Connection id "0HN63RUB2399I" completed keep alive response.
2024-08-24 22:01:22.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.4827ms
2024-08-24 22:01:22.019 +05:30 [DBG] Connection id "0HN63RUB2399J" accepted.
2024-08-24 22:01:22.019 +05:30 [DBG] Connection id "0HN63RUB2399J" started.
2024-08-24 22:01:22.019 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 22:01:22.019 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:01:22.019 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:01:22.019 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:01:22.019 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:01:22.019 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:01:22.019 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:01:22.019 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:01:22.019 +05:30 [DBG] Connection id "0HN63RUB2399J", Request id "0HN63RUB2399J:00000001": started reading request body.
2024-08-24 22:01:22.020 +05:30 [DBG] Connection id "0HN63RUB2399J", Request id "0HN63RUB2399J:00000001": done reading request body.
2024-08-24 22:01:22.020 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 22:01:22.159 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:01:22.160 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:01:22.160 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:01:22.161 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.161 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.161 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:01:22.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:01:22.163 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:01:22.163 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.163 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.266 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 22:01:22.267 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:01:22.267 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:01:22.267 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.267 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.267 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:01:22.268 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:01:22.268 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:01:22.268 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:01:22.268 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.268 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.268 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:01:22.268 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:01:22.268 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:01:22.268 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:01:22.268 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.268 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.269 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:01:22.269 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:01:22.269 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:01:22.269 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:01:22.269 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:01:22.269 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:01:22.270 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:01:22.270 +05:30 [DBG] Committing transaction.
2024-08-24 22:01:22.272 +05:30 [DBG] Committed transaction.
2024-08-24 22:01:22.272 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.272 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.272 +05:30 [DBG] Disposing transaction.
2024-08-24 22:01:22.272 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:01:22.272 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:01:22.272 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:01:22.272 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:01:22.272 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:01:22.272 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:01:22.272 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.272 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.273 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:01:22.273 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:01:22.273 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:01:22.273 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:01:22.273 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:01:22.273 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:01:22.274 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:01:22.274 +05:30 [DBG] Committing transaction.
2024-08-24 22:01:22.274 +05:30 [DBG] Committed transaction.
2024-08-24 22:01:22.274 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.274 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:01:22.274 +05:30 [DBG] Disposing transaction.
2024-08-24 22:01:22.274 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:01:22.274 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:01:22.274 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:01:22.274 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 22:01:22.274 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:01:22.274 +05:30 [DBG] Connection id "0HN63RUB2399J" completed keep alive response.
2024-08-24 22:01:22.275 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:01:22.275 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 255.6642ms
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399I" received FIN.
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399J" received FIN.
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399J" disconnecting.
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399I" disconnecting.
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399J" stopped.
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:01:22.884 +05:30 [DBG] Connection id "0HN63RUB2399J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:01:22.885 +05:30 [DBG] Connection id "0HN63RUB2399I" stopped.
2024-08-24 22:01:31.547 +05:30 [DBG] Connection id "0HN63RUB2399K" accepted.
2024-08-24 22:01:31.547 +05:30 [DBG] Connection id "0HN63RUB2399K" started.
2024-08-24 22:01:31.548 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:01:31.548 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:01:31.548 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:01:31.548 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:01:31.548 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:01:31.548 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:01:31.548 +05:30 [DBG] Connection id "0HN63RUB2399K" completed keep alive response.
2024-08-24 22:01:31.548 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6467ms
2024-08-24 22:01:31.549 +05:30 [DBG] Connection id "0HN63RUB2399L" accepted.
2024-08-24 22:01:31.549 +05:30 [DBG] Connection id "0HN63RUB2399L" started.
2024-08-24 22:01:31.549 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-24 22:01:31.550 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:01:31.550 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:01:31.550 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:01:31.550 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:01:31.550 +05:30 [DBG] Successfully validated the token.
2024-08-24 22:01:31.550 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 22:01:31.550 +05:30 [DBG] Authorization was successful.
2024-08-24 22:01:31.551 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:01:31.551 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:01:31.551 +05:30 [DBG] Connection id "0HN63RUB2399L", Request id "0HN63RUB2399L:00000001": started reading request body.
2024-08-24 22:01:31.551 +05:30 [DBG] Connection id "0HN63RUB2399L", Request id "0HN63RUB2399L:00000001": done reading request body.
2024-08-24 22:01:31.552 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:01:31.557 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:01:31.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:01:31.558 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:01:31.559 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:01:31.559 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:01:31.564 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:01:31.565 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:01:31.565 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:01:31.565 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:01:31.565 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:01:31.565 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 22:01:31.566 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:01:31.566 +05:30 [DBG] Connection id "0HN63RUB2399L" completed keep alive response.
2024-08-24 22:01:31.566 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:01:31.566 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 16.5404ms
2024-08-24 22:01:32.886 +05:30 [DBG] Connection id "0HN63RUB2399K" received FIN.
2024-08-24 22:01:32.886 +05:30 [DBG] Connection id "0HN63RUB2399L" received FIN.
2024-08-24 22:01:32.887 +05:30 [DBG] Connection id "0HN63RUB2399K" disconnecting.
2024-08-24 22:01:32.887 +05:30 [DBG] Connection id "0HN63RUB2399L" disconnecting.
2024-08-24 22:01:32.887 +05:30 [DBG] Connection id "0HN63RUB2399K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:01:32.887 +05:30 [DBG] Connection id "0HN63RUB2399L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:01:32.887 +05:30 [DBG] Connection id "0HN63RUB2399K" stopped.
2024-08-24 22:01:32.888 +05:30 [DBG] Connection id "0HN63RUB2399L" stopped.
2024-08-24 22:22:22.976 +05:30 [DBG] Connection id "0HN63RUB2399M" accepted.
2024-08-24 22:22:22.977 +05:30 [DBG] Connection id "0HN63RUB2399M" started.
2024-08-24 22:22:22.978 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 22:22:22.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:22:22.979 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:22:22.979 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:22:22.979 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:22:22.979 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:22:22.979 +05:30 [DBG] Connection id "0HN63RUB2399M" completed keep alive response.
2024-08-24 22:22:22.979 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2814ms
2024-08-24 22:22:22.980 +05:30 [DBG] Connection id "0HN63RUB2399N" accepted.
2024-08-24 22:22:22.980 +05:30 [DBG] Connection id "0HN63RUB2399N" started.
2024-08-24 22:22:22.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 22:22:22.980 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:22:22.980 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:22:22.980 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:22:22.981 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:22:22.981 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:22:22.981 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:22:22.981 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:22:22.981 +05:30 [DBG] Connection id "0HN63RUB2399N", Request id "0HN63RUB2399N:00000001": started reading request body.
2024-08-24 22:22:22.981 +05:30 [DBG] Connection id "0HN63RUB2399N", Request id "0HN63RUB2399N:00000001": done reading request body.
2024-08-24 22:22:22.983 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 22:22:23.117 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:22:23.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:22:23.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:22:23.118 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.140 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.140 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:22:23.141 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:22:23.142 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:22:23.142 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.142 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.246 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 22:22:23.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:22:23.247 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:22:23.247 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.247 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.247 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:22:23.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:22:23.248 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:22:23.248 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:22:23.248 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.248 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.248 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:22:23.248 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:22:23.248 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:22:23.248 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:22:23.249 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.249 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.249 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:22:23.249 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:22:23.249 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:22:23.249 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:22:23.249 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:22:23.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:22:23.251 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:22:23.251 +05:30 [DBG] Committing transaction.
2024-08-24 22:22:23.253 +05:30 [DBG] Committed transaction.
2024-08-24 22:22:23.253 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.253 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.253 +05:30 [DBG] Disposing transaction.
2024-08-24 22:22:23.253 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:22:23.253 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:22:23.253 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:22:23.253 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:22:23.253 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:22:23.253 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:22:23.254 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.254 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.254 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:22:23.254 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:22:23.254 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:22:23.254 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:22:23.254 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:22:23.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:22:23.256 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:22:23.256 +05:30 [DBG] Committing transaction.
2024-08-24 22:22:23.257 +05:30 [DBG] Committed transaction.
2024-08-24 22:22:23.257 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.257 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:22:23.257 +05:30 [DBG] Disposing transaction.
2024-08-24 22:22:23.257 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:22:23.257 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:22:23.257 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:22:23.257 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 22:22:23.257 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:22:23.257 +05:30 [DBG] Connection id "0HN63RUB2399N" completed keep alive response.
2024-08-24 22:22:23.257 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:22:23.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 276.9777ms
2024-08-24 22:24:34.771 +05:30 [DBG] Connection id "0HN63RUB2399M" disconnecting.
2024-08-24 22:24:34.771 +05:30 [DBG] Connection id "0HN63RUB2399N" disconnecting.
2024-08-24 22:24:34.773 +05:30 [DBG] Connection id "0HN63RUB2399N" stopped.
2024-08-24 22:24:34.773 +05:30 [DBG] Connection id "0HN63RUB2399M" stopped.
2024-08-24 22:24:34.774 +05:30 [DBG] Connection id "0HN63RUB2399M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:24:34.774 +05:30 [DBG] Connection id "0HN63RUB2399N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:45:19.245 +05:30 [DBG] Connection id "0HN63RUB2399O" accepted.
2024-08-24 22:45:19.246 +05:30 [DBG] Connection id "0HN63RUB2399O" started.
2024-08-24 22:45:19.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-24 22:45:19.248 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:45:19.248 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:45:19.249 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:45:19.249 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:45:19.249 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:45:19.249 +05:30 [DBG] Connection id "0HN63RUB2399O" completed keep alive response.
2024-08-24 22:45:19.249 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.7965ms
2024-08-24 22:45:19.250 +05:30 [DBG] Connection id "0HN63RUB2399P" accepted.
2024-08-24 22:45:19.250 +05:30 [DBG] Connection id "0HN63RUB2399P" started.
2024-08-24 22:45:19.250 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-24 22:45:19.250 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 22:45:19.251 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:45:19.251 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:45:19.251 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:45:19.251 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 22:45:19.251 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:45:19.252 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:45:19.252 +05:30 [DBG] Connection id "0HN63RUB2399P", Request id "0HN63RUB2399P:00000001": started reading request body.
2024-08-24 22:45:19.252 +05:30 [DBG] Connection id "0HN63RUB2399P", Request id "0HN63RUB2399P:00000001": done reading request body.
2024-08-24 22:45:19.254 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 22:45:19.384 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:45:19.384 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:45:19.385 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:45:19.385 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.406 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.406 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:45:19.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:45:19.407 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:45:19.408 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.408 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.511 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 22:45:19.512 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:45:19.512 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:45:19.512 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.512 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:45:19.513 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 22:45:19.513 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:45:19.513 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:45:19.513 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.513 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.513 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:45:19.513 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:45:19.514 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:45:19.514 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:45:19.514 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.514 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.514 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:45:19.514 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:45:19.515 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:45:19.515 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:45:19.515 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:45:19.516 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 22:45:19.516 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:45:19.516 +05:30 [DBG] Committing transaction.
2024-08-24 22:45:19.519 +05:30 [DBG] Committed transaction.
2024-08-24 22:45:19.519 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.519 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.519 +05:30 [DBG] Disposing transaction.
2024-08-24 22:45:19.519 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:45:19.519 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:45:19.520 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:45:19.520 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 22:45:19.520 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 22:45:19.520 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 22:45:19.520 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.520 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.520 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 22:45:19.520 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 22:45:19.520 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:45:19.520 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:45:19.520 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:45:19.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 22:45:19.521 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:45:19.521 +05:30 [DBG] Committing transaction.
2024-08-24 22:45:19.522 +05:30 [DBG] Committed transaction.
2024-08-24 22:45:19.522 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.522 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:45:19.522 +05:30 [DBG] Disposing transaction.
2024-08-24 22:45:19.522 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 22:45:19.522 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 22:45:19.522 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:45:19.522 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 22:45:19.522 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 22:45:19.522 +05:30 [DBG] Connection id "0HN63RUB2399P" completed keep alive response.
2024-08-24 22:45:19.522 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:45:19.522 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 272.0129ms
2024-08-24 22:47:09.032 +05:30 [DBG] Connection id "0HN63RUB2399P" received FIN.
2024-08-24 22:47:09.033 +05:30 [DBG] Connection id "0HN63RUB2399O" received FIN.
2024-08-24 22:47:09.034 +05:30 [DBG] Connection id "0HN63RUB2399P" disconnecting.
2024-08-24 22:47:09.035 +05:30 [DBG] Connection id "0HN63RUB2399O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:47:09.035 +05:30 [DBG] Connection id "0HN63RUB2399P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:47:09.035 +05:30 [DBG] Connection id "0HN63RUB2399O" disconnecting.
2024-08-24 22:47:09.035 +05:30 [DBG] Connection id "0HN63RUB2399P" stopped.
2024-08-24 22:47:09.035 +05:30 [DBG] Connection id "0HN63RUB2399O" stopped.
2024-08-24 22:55:59.309 +05:30 [DBG] Connection id "0HN63RUB2399Q" accepted.
2024-08-24 22:55:59.311 +05:30 [DBG] Connection id "0HN63RUB2399Q" started.
2024-08-24 22:55:59.312 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:55:59.312 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:55:59.312 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:55:59.312 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:55:59.312 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:55:59.313 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:55:59.313 +05:30 [DBG] Connection id "0HN63RUB2399Q" completed keep alive response.
2024-08-24 22:55:59.313 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4851ms
2024-08-24 22:55:59.314 +05:30 [DBG] Connection id "0HN63RUB2399R" accepted.
2024-08-24 22:55:59.314 +05:30 [DBG] Connection id "0HN63RUB2399R" started.
2024-08-24 22:55:59.314 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-24 22:55:59.314 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:55:59.314 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:55:59.314 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:55:59.314 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:55:59.315 +05:30 [DBG] Successfully validated the token.
2024-08-24 22:55:59.316 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 22:55:59.316 +05:30 [DBG] Authorization was successful.
2024-08-24 22:55:59.316 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:55:59.316 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:55:59.317 +05:30 [DBG] Connection id "0HN63RUB2399R", Request id "0HN63RUB2399R:00000001": started reading request body.
2024-08-24 22:55:59.317 +05:30 [DBG] Connection id "0HN63RUB2399R", Request id "0HN63RUB2399R:00000001": done reading request body.
2024-08-24 22:55:59.319 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:55:59.324 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:55:59.324 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:55:59.324 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:55:59.385 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:55:59.385 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:55:59.388 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:55:59.389 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:55:59.389 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:55:59.389 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:55:59.389 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:55:59.389 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 22:55:59.390 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:55:59.390 +05:30 [DBG] Connection id "0HN63RUB2399R" completed keep alive response.
2024-08-24 22:55:59.390 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:55:59.390 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 75.746ms
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399R" received FIN.
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399Q" received FIN.
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399R" disconnecting.
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399Q" disconnecting.
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:04.143 +05:30 [DBG] Connection id "0HN63RUB2399Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:04.144 +05:30 [DBG] Connection id "0HN63RUB2399R" stopped.
2024-08-24 22:56:04.144 +05:30 [DBG] Connection id "0HN63RUB2399Q" stopped.
2024-08-24 22:56:07.437 +05:30 [DBG] Connection id "0HN63RUB2399S" accepted.
2024-08-24 22:56:07.437 +05:30 [DBG] Connection id "0HN63RUB2399S" started.
2024-08-24 22:56:07.437 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:56:07.437 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:56:07.437 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:56:07.438 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:56:07.438 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:56:07.438 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:56:07.438 +05:30 [DBG] Connection id "0HN63RUB2399S" completed keep alive response.
2024-08-24 22:56:07.438 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.9279ms
2024-08-24 22:56:07.439 +05:30 [DBG] Connection id "0HN63RUB2399T" accepted.
2024-08-24 22:56:07.439 +05:30 [DBG] Connection id "0HN63RUB2399T" started.
2024-08-24 22:56:07.439 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-24 22:56:07.439 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:56:07.439 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:07.439 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:56:07.439 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:56:07.439 +05:30 [DBG] Successfully validated the token.
2024-08-24 22:56:07.439 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 22:56:07.440 +05:30 [DBG] Authorization was successful.
2024-08-24 22:56:07.440 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:56:07.440 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:07.440 +05:30 [DBG] Connection id "0HN63RUB2399T", Request id "0HN63RUB2399T:00000001": started reading request body.
2024-08-24 22:56:07.440 +05:30 [DBG] Connection id "0HN63RUB2399T", Request id "0HN63RUB2399T:00000001": done reading request body.
2024-08-24 22:56:07.441 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:56:07.442 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:56:07.442 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:56:07.442 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:56:07.443 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:56:07.443 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 22:56:07.445 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-24 22:56:07.445 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:56:07.445 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:56:07.445 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:56:07.446 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:56:07.446 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 22:56:07.446 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:07.446 +05:30 [DBG] Connection id "0HN63RUB2399T" completed keep alive response.
2024-08-24 22:56:07.446 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:56:07.446 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.5245ms
2024-08-24 22:56:09.144 +05:30 [DBG] Connection id "0HN63RUB2399T" received FIN.
2024-08-24 22:56:09.144 +05:30 [DBG] Connection id "0HN63RUB2399S" received FIN.
2024-08-24 22:56:09.144 +05:30 [DBG] Connection id "0HN63RUB2399S" disconnecting.
2024-08-24 22:56:09.144 +05:30 [DBG] Connection id "0HN63RUB2399T" disconnecting.
2024-08-24 22:56:09.145 +05:30 [DBG] Connection id "0HN63RUB2399T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:09.145 +05:30 [DBG] Connection id "0HN63RUB2399S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:09.146 +05:30 [DBG] Connection id "0HN63RUB2399T" stopped.
2024-08-24 22:56:09.146 +05:30 [DBG] Connection id "0HN63RUB2399S" stopped.
2024-08-24 22:56:20.675 +05:30 [DBG] Connection id "0HN63RUB2399U" accepted.
2024-08-24 22:56:20.675 +05:30 [DBG] Connection id "0HN63RUB2399U" started.
2024-08-24 22:56:20.675 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-24 22:56:20.676 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:56:20.676 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-24 22:56:20.676 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:56:20.676 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:56:20.676 +05:30 [DBG] The request is a preflight request.
2024-08-24 22:56:20.676 +05:30 [DBG] Connection id "0HN63RUB2399U" completed keep alive response.
2024-08-24 22:56:20.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.564ms
2024-08-24 22:56:20.677 +05:30 [DBG] Connection id "0HN63RUB2399V" accepted.
2024-08-24 22:56:20.677 +05:30 [DBG] Connection id "0HN63RUB2399V" started.
2024-08-24 22:56:20.677 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 35
2024-08-24 22:56:20.677 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-24 22:56:20.677 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:20.677 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-24 22:56:20.677 +05:30 [INF] CORS policy execution successful.
2024-08-24 22:56:20.678 +05:30 [DBG] Successfully validated the token.
2024-08-24 22:56:20.678 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 22:56:20.678 +05:30 [DBG] Authorization was successful.
2024-08-24 22:56:20.678 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 22:56:20.678 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:20.678 +05:30 [DBG] Connection id "0HN63RUB2399V", Request id "0HN63RUB2399V:00000001": started reading request body.
2024-08-24 22:56:20.678 +05:30 [DBG] Connection id "0HN63RUB2399V", Request id "0HN63RUB2399V:00000001": done reading request body.
2024-08-24 22:56:20.679 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 22:56:20.682 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 22:56:20.682 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 22:56:20.682 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 22:56:20.683 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 22:56:20.683 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:56:20.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-24 22:56:20.685 +05:30 [DBG] A data reader was disposed.
2024-08-24 22:56:20.685 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 22:56:20.685 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 22:56:20.685 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 22:56:20.686 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-24 22:56:20.686 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-24 22:56:20.686 +05:30 [DBG] Connection id "0HN63RUB2399V" completed keep alive response.
2024-08-24 22:56:20.686 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 22:56:20.686 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.8704ms
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399U" received FIN.
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399V" received FIN.
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399U" disconnecting.
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399V" disconnecting.
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399V" stopped.
2024-08-24 22:56:24.146 +05:30 [DBG] Connection id "0HN63RUB2399V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 22:56:24.147 +05:30 [DBG] Connection id "0HN63RUB2399U" stopped.
2024-08-24 23:50:14.101 +05:30 [DBG] Connection id "0HN63RUB239A0" accepted.
2024-08-24 23:50:14.103 +05:30 [DBG] Connection id "0HN63RUB239A0" started.
2024-08-24 23:50:14.103 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-24 23:50:14.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-24 23:50:14.104 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 23:50:14.104 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-24 23:50:14.105 +05:30 [INF] CORS policy execution failed.
2024-08-24 23:50:14.105 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-24 23:50:14.106 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-24 23:50:14.106 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 23:50:14.106 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 23:50:14.107 +05:30 [DBG] Connection id "0HN63RUB239A0", Request id "0HN63RUB239A0:00000001": started reading request body.
2024-08-24 23:50:14.107 +05:30 [DBG] Connection id "0HN63RUB239A0", Request id "0HN63RUB239A0:00000001": done reading request body.
2024-08-24 23:50:14.110 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-24 23:50:14.241 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 23:50:14.244 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 23:50:14.244 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-24 23:50:14.244 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.265 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.265 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 23:50:14.267 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 23:50:14.267 +05:30 [DBG] A data reader was disposed.
2024-08-24 23:50:14.267 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.267 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.372 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-24 23:50:14.374 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 23:50:14.374 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 23:50:14.374 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.375 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.375 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 23:50:14.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-24 23:50:14.376 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 23:50:14.376 +05:30 [DBG] A data reader was disposed.
2024-08-24 23:50:14.376 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.376 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.376 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 23:50:14.377 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 23:50:14.377 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 23:50:14.377 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 23:50:14.377 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.377 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.377 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 23:50:14.377 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 23:50:14.378 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 23:50:14.378 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 23:50:14.378 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 23:50:14.378 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-24 23:50:14.379 +05:30 [DBG] A data reader was disposed.
2024-08-24 23:50:14.379 +05:30 [DBG] Committing transaction.
2024-08-24 23:50:14.381 +05:30 [DBG] Committed transaction.
2024-08-24 23:50:14.381 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.381 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.381 +05:30 [DBG] Disposing transaction.
2024-08-24 23:50:14.381 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 23:50:14.381 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 23:50:14.381 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 23:50:14.381 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-24 23:50:14.381 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-24 23:50:14.381 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-24 23:50:14.381 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.382 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.382 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-24 23:50:14.382 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-24 23:50:14.382 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 23:50:14.382 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 23:50:14.382 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 23:50:14.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-24 23:50:14.383 +05:30 [DBG] A data reader was disposed.
2024-08-24 23:50:14.383 +05:30 [DBG] Committing transaction.
2024-08-24 23:50:14.383 +05:30 [DBG] Committed transaction.
2024-08-24 23:50:14.384 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.384 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 23:50:14.384 +05:30 [DBG] Disposing transaction.
2024-08-24 23:50:14.384 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-24 23:50:14.384 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-24 23:50:14.384 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 23:50:14.384 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-24 23:50:14.384 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-24 23:50:14.384 +05:30 [DBG] Connection id "0HN63RUB239A0" completed keep alive response.
2024-08-24 23:50:14.384 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 23:50:14.384 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 280.5897ms
2024-08-24 23:50:15.115 +05:30 [DBG] Connection id "0HN63RUB239A0" received FIN.
2024-08-24 23:50:15.115 +05:30 [DBG] Connection id "0HN63RUB239A0" disconnecting.
2024-08-24 23:50:15.115 +05:30 [DBG] Connection id "0HN63RUB239A0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 23:50:15.116 +05:30 [DBG] Connection id "0HN63RUB239A0" stopped.
2024-08-24 23:51:51.017 +05:30 [DBG] Connection id "0HN63RUB239A1" accepted.
2024-08-24 23:51:51.018 +05:30 [DBG] Connection id "0HN63RUB239A1" started.
2024-08-24 23:51:51.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/2 - null null
2024-08-24 23:51:51.018 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-24 23:51:51.026 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/2'
2024-08-24 23:51:51.027 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-24 23:51:51.028 +05:30 [DBG] Successfully validated the token.
2024-08-24 23:51:51.028 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-24 23:51:51.028 +05:30 [DBG] Authorization was successful.
2024-08-24 23:51:51.029 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-24 23:51:51.029 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-24 23:51:51.036 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-24 23:51:51.038 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: p => p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (p, g) => new { 
            p = p, 
            g = g
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.p.PatientId.Equals(__patientId_0))
    .Select(<>h__TransparentIdentifier0 => new PatientProfile{ 
        PatientId = <>h__TransparentIdentifier0.p.PatientId, 
        PatientCode = <>h__TransparentIdentifier0.p.PatientCode, 
        Firstname = <>h__TransparentIdentifier0.p.Firstname, 
        Middlename = <>h__TransparentIdentifier0.p.Middlename, 
        Lastname = <>h__TransparentIdentifier0.p.Lastname, 
        DateOfBirth = <>h__TransparentIdentifier0.p.DateOfBirth, 
        GenderCode = <>h__TransparentIdentifier0.g.GenderCode, 
        GenderName = <>h__TransparentIdentifier0.g.GenderName 
    }
    )
    .FirstOrDefault()'
2024-08-24 23:51:51.044 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientProfile>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientProfile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                PatientId -> 0
                PatientCode -> 1
                Firstname -> 2
                Middlename -> 3
                Lastname -> 4
                DateOfBirth -> 5
                GenderCode -> 6
                GenderName -> 7
            SELECT TOP(1) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderCode, g.GenderName
            FROM Patient AS p
            INNER JOIN Gender AS g ON p.GenderId == g.GenderId
            WHERE p.PatientId == @__patientId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientProfile>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-24 23:51:51.045 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-24 23:51:51.045 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-24 23:51:51.045 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-24 23:51:51.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-24 23:51:51.045 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-24 23:51:51.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-24 23:51:51.047 +05:30 [DBG] A data reader was disposed.
2024-08-24 23:51:51.047 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-24 23:51:51.047 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-24 23:51:51.047 +05:30 [INF] Setting HTTP status code 200.
2024-08-24 23:51:51.048 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-24 23:51:51.049 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-24 23:51:51.049 +05:30 [DBG] Connection id "0HN63RUB239A1" completed keep alive response.
2024-08-24 23:51:51.049 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-24 23:51:51.049 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/2 - 200 null application/json; charset=utf-8 31.2607ms
2024-08-24 23:51:55.134 +05:30 [DBG] Connection id "0HN63RUB239A1" received FIN.
2024-08-24 23:51:55.134 +05:30 [DBG] Connection id "0HN63RUB239A1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-24 23:51:55.135 +05:30 [DBG] Connection id "0HN63RUB239A1" disconnecting.
2024-08-24 23:51:55.135 +05:30 [DBG] Connection id "0HN63RUB239A1" stopped.
2024-08-25 00:03:32.843 +05:30 [DBG] Connection id "0HN63RUB239A2" accepted.
2024-08-25 00:03:32.844 +05:30 [DBG] Connection id "0HN63RUB239A2" started.
2024-08-25 00:03:32.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 00:03:32.845 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 00:03:32.845 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 00:03:32.847 +05:30 [DBG] Successfully validated the token.
2024-08-25 00:03:32.847 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 00:03:32.848 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:03:32.848 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 00:03:32.855 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:03:32.857 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .OrderBy(o => o.GenderId)'
2024-08-25 00:03:32.863 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Gender>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Gender.GenderId (byte) Required PK AfterSave:Throw, 0], [Property: Gender.GenderCode (string) Required, 1], [Property: Gender.GenderName (string) Required, 2] }
        SELECT g.GenderId, g.GenderCode, g.GenderName
        FROM Gender AS g
        ORDER BY g.GenderId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Gender>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 00:03:32.863 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:03:32.864 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:03:32.864 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:03:32.883 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:03:32.883 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 00:03:32.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 00:03:32.886 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:03:32.890 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:03:32.890 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:03:32.890 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:03:32.890 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:03:32.890 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:03:32.892 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 00:03:32.893 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 00:03:32.893 +05:30 [DBG] Connection id "0HN63RUB239A2" completed keep alive response.
2024-08-25 00:03:32.893 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:03:32.893 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 48.1972ms
2024-08-25 00:03:35.406 +05:30 [DBG] Connection id "0HN63RUB239A2" received FIN.
2024-08-25 00:03:35.406 +05:30 [DBG] Connection id "0HN63RUB239A2" disconnecting.
2024-08-25 00:03:35.406 +05:30 [DBG] Connection id "0HN63RUB239A2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 00:03:35.408 +05:30 [DBG] Connection id "0HN63RUB239A2" stopped.
2024-08-25 00:20:04.300 +05:30 [DBG] Connection id "0HN63RUB239A3" accepted.
2024-08-25 00:20:04.301 +05:30 [DBG] Connection id "0HN63RUB239A3" started.
2024-08-25 00:20:04.302 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-25 00:20:04.302 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 00:20:04.303 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:20:04.303 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:04.303 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:04.303 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:20:04.303 +05:30 [DBG] Connection id "0HN63RUB239A3" completed keep alive response.
2024-08-25 00:20:04.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.3386ms
2024-08-25 00:20:04.304 +05:30 [DBG] Connection id "0HN63RUB239A4" accepted.
2024-08-25 00:20:04.304 +05:30 [DBG] Connection id "0HN63RUB239A4" started.
2024-08-25 00:20:04.304 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 00:20:04.304 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 00:20:04.305 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 00:20:04.305 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:04.305 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:04.307 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 5:30:19 PM', Current time: '8/24/2024 6:50:04 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 00:20:04.310 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 5:30:19 PM', Current time: '8/24/2024 6:50:04 PM'.
2024-08-25 00:20:04.310 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 00:20:04.311 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 00:20:04.311 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 00:20:04.311 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:20:04.311 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 7.0261ms
2024-08-25 00:20:04.312 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000001": started reading request body.
2024-08-25 00:20:04.312 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000001": done reading request body.
2024-08-25 00:20:04.313 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-25 00:20:04.313 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 00:20:04.313 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:20:04.313 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:04.313 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:04.313 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:20:04.313 +05:30 [DBG] Connection id "0HN63RUB239A3" completed keep alive response.
2024-08-25 00:20:04.313 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.362ms
2024-08-25 00:20:04.313 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-25 00:20:04.314 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 00:20:04.314 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 00:20:04.314 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:04.314 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:04.314 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 5:30:19 PM', Current time: '8/24/2024 6:50:04 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 00:20:04.314 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/24/2024 5:30:19 PM', Current time: '8/24/2024 6:50:04 PM'.
2024-08-25 00:20:04.314 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:20:04.314 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 00:20:04.318 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:20:04.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:04.320 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:04.320 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.345 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.345 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:04.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:04.348 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:04.348 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.348 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.349 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:04.349 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:04.349 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.349 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.349 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:04.350 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:04.351 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:04.352 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:04.352 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.352 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.352 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:04.352 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:20:04.352 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:20:04.352 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:20:04.353 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.353 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.353 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:20:04.353 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:20:04.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:04.354 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:04.354 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:20:04.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:20:04.355 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:04.355 +05:30 [DBG] Committing transaction.
2024-08-25 00:20:04.358 +05:30 [DBG] Committed transaction.
2024-08-25 00:20:04.358 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.358 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.358 +05:30 [DBG] Disposing transaction.
2024-08-25 00:20:04.358 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:04.358 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:20:04.358 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:04.358 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:20:04.359 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:20:04.359 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:20:04.359 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.359 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.359 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:20:04.359 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:20:04.359 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:04.359 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:04.360 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:20:04.363 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:20:04.363 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:04.363 +05:30 [DBG] Committing transaction.
2024-08-25 00:20:04.364 +05:30 [DBG] Committed transaction.
2024-08-25 00:20:04.364 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.364 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:04.364 +05:30 [DBG] Disposing transaction.
2024-08-25 00:20:04.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:04.364 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:20:04.364 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:20:04.364 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 00:20:04.364 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 00:20:04.364 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:20:04.364 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:20:04.364 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 50.9282ms
2024-08-25 00:20:04.364 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000002": started reading request body.
2024-08-25 00:20:04.365 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000002": done reading request body.
2024-08-25 00:20:04.366 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 00:20:04.366 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 00:20:04.366 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 00:20:04.366 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:04.367 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:04.367 +05:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-08-25 00:20:04.367 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 00:20:04.367 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 00:20:04.367 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 00:20:04.367 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:20:04.367 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 401 0 null 0.5772ms
2024-08-25 00:20:04.367 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000003": started reading request body.
2024-08-25 00:20:04.367 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000003": done reading request body.
2024-08-25 00:20:52.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-25 00:20:52.002 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 00:20:52.002 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:20:52.002 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:52.002 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:52.002 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:20:52.002 +05:30 [DBG] Connection id "0HN63RUB239A3" completed keep alive response.
2024-08-25 00:20:52.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.6043ms
2024-08-25 00:20:52.003 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 00:20:52.003 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 00:20:52.004 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:20:52.004 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:52.004 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:52.004 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 00:20:52.004 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:20:52.004 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:20:52.004 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000004": started reading request body.
2024-08-25 00:20:52.004 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000004": done reading request body.
2024-08-25 00:20:52.005 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 00:20:52.139 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:20:52.140 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:52.140 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:52.140 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.140 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.140 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:52.141 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:52.141 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:52.141 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.141 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.244 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 00:20:52.245 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:52.245 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:52.245 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.247 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.247 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:52.250 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:20:52.250 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:52.250 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:52.250 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.250 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.250 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:52.250 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:20:52.250 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:20:52.250 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:20:52.250 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.251 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.251 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:20:52.251 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:20:52.251 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:52.251 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:52.251 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:20:52.253 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:20:52.253 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:52.253 +05:30 [DBG] Committing transaction.
2024-08-25 00:20:52.254 +05:30 [DBG] Committed transaction.
2024-08-25 00:20:52.254 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.254 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.254 +05:30 [DBG] Disposing transaction.
2024-08-25 00:20:52.254 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:52.254 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:20:52.254 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:52.254 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:20:52.254 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:20:52.255 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:20:52.255 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.255 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.255 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:20:52.255 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:20:52.255 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:52.255 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:52.255 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:20:52.256 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:20:52.256 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:52.256 +05:30 [DBG] Committing transaction.
2024-08-25 00:20:52.256 +05:30 [DBG] Committed transaction.
2024-08-25 00:20:52.256 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.256 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:52.256 +05:30 [DBG] Disposing transaction.
2024-08-25 00:20:52.256 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:20:52.256 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:20:52.256 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:20:52.256 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 00:20:52.257 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:20:52.257 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:20:52.257 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:20:52.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 253.2988ms
2024-08-25 00:20:59.841 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-25 00:20:59.842 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 00:20:59.842 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:20:59.842 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:59.842 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:59.842 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:20:59.842 +05:30 [DBG] Connection id "0HN63RUB239A3" completed keep alive response.
2024-08-25 00:20:59.842 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.9466ms
2024-08-25 00:20:59.843 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 00:20:59.843 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 00:20:59.843 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 00:20:59.844 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:20:59.844 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:20:59.844 +05:30 [DBG] Successfully validated the token.
2024-08-25 00:20:59.844 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 00:20:59.844 +05:30 [DBG] Authorization was successful.
2024-08-25 00:20:59.844 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:20:59.844 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 00:20:59.845 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000005": started reading request body.
2024-08-25 00:20:59.845 +05:30 [DBG] Connection id "0HN63RUB239A4", Request id "0HN63RUB239A4:00000005": done reading request body.
2024-08-25 00:20:59.845 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:20:59.848 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:20:59.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:20:59.848 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:20:59.849 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:20:59.849 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 00:20:59.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 00:20:59.851 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:20:59.851 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:20:59.851 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:20:59.852 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:20:59.852 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 00:20:59.852 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 00:20:59.852 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:20:59.852 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:20:59.852 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.1966ms
2024-08-25 00:21:02.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - null null
2024-08-25 00:21:02.040 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 00:21:02.040 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:21:02.040 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:21:02.040 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:21:02.040 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:21:02.040 +05:30 [DBG] Connection id "0HN63RUB239A3" completed keep alive response.
2024-08-25 00:21:02.040 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - 204 null null 0.7706ms
2024-08-25 00:21:02.041 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/2 - null null
2024-08-25 00:21:02.041 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 00:21:02.041 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/2'
2024-08-25 00:21:02.042 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 00:21:02.042 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:21:02.042 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:21:02.042 +05:30 [DBG] Successfully validated the token.
2024-08-25 00:21:02.042 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 00:21:02.042 +05:30 [DBG] Authorization was successful.
2024-08-25 00:21:02.043 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:21:02.043 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 00:21:02.043 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:21:02.044 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:21:02.044 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:21:02.044 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:21:02.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:21:02.045 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 00:21:02.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 00:21:02.047 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:21:02.047 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:21:02.047 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:21:02.047 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:21:02.048 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 00:21:02.048 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 00:21:02.048 +05:30 [DBG] Connection id "0HN63RUB239A4" completed keep alive response.
2024-08-25 00:21:02.048 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:21:02.049 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/2 - 200 null application/json; charset=utf-8 8.0012ms
2024-08-25 00:22:37.436 +05:30 [DBG] Connection id "0HN63RUB239A4" received FIN.
2024-08-25 00:22:37.437 +05:30 [DBG] Connection id "0HN63RUB239A3" received FIN.
2024-08-25 00:22:37.438 +05:30 [DBG] Connection id "0HN63RUB239A3" disconnecting.
2024-08-25 00:22:37.438 +05:30 [DBG] Connection id "0HN63RUB239A4" disconnecting.
2024-08-25 00:22:37.438 +05:30 [DBG] Connection id "0HN63RUB239A4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 00:22:37.438 +05:30 [DBG] Connection id "0HN63RUB239A3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 00:22:37.440 +05:30 [DBG] Connection id "0HN63RUB239A4" stopped.
2024-08-25 00:22:37.440 +05:30 [DBG] Connection id "0HN63RUB239A3" stopped.
2024-08-25 00:45:40.198 +05:30 [DBG] Connection id "0HN63RUB239A5" accepted.
2024-08-25 00:45:40.201 +05:30 [DBG] Connection id "0HN63RUB239A5" started.
2024-08-25 00:45:40.201 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-25 00:45:40.202 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 00:45:40.202 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 00:45:40.202 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:45:40.202 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:45:40.202 +05:30 [DBG] The request is a preflight request.
2024-08-25 00:45:40.202 +05:30 [DBG] Connection id "0HN63RUB239A5" completed keep alive response.
2024-08-25 00:45:40.203 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2497ms
2024-08-25 00:45:40.203 +05:30 [DBG] Connection id "0HN63RUB239A6" accepted.
2024-08-25 00:45:40.203 +05:30 [DBG] Connection id "0HN63RUB239A6" started.
2024-08-25 00:45:40.203 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 00:45:40.204 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 00:45:40.204 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:45:40.204 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 00:45:40.204 +05:30 [INF] CORS policy execution successful.
2024-08-25 00:45:40.204 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 00:45:40.204 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 00:45:40.204 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:45:40.205 +05:30 [DBG] Connection id "0HN63RUB239A6", Request id "0HN63RUB239A6:00000001": started reading request body.
2024-08-25 00:45:40.205 +05:30 [DBG] Connection id "0HN63RUB239A6", Request id "0HN63RUB239A6:00000001": done reading request body.
2024-08-25 00:45:40.207 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 00:45:40.343 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 00:45:40.344 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:45:40.344 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:45:40.344 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.365 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.366 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:45:40.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:45:40.367 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:45:40.367 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.367 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.471 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 00:45:40.471 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:45:40.471 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:45:40.471 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.472 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.472 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:45:40.472 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 00:45:40.473 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:45:40.473 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:45:40.473 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.473 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.473 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:45:40.473 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:45:40.473 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:45:40.473 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:45:40.473 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.473 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.474 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:45:40.474 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:45:40.474 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:45:40.474 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:45:40.474 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:45:40.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 00:45:40.475 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:45:40.475 +05:30 [DBG] Committing transaction.
2024-08-25 00:45:40.478 +05:30 [DBG] Committed transaction.
2024-08-25 00:45:40.478 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.478 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.479 +05:30 [DBG] Disposing transaction.
2024-08-25 00:45:40.479 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:45:40.479 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:45:40.479 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:45:40.479 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 00:45:40.479 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 00:45:40.479 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 00:45:40.479 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.479 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.479 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 00:45:40.480 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 00:45:40.480 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 00:45:40.480 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 00:45:40.480 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:45:40.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 00:45:40.481 +05:30 [DBG] A data reader was disposed.
2024-08-25 00:45:40.481 +05:30 [DBG] Committing transaction.
2024-08-25 00:45:40.481 +05:30 [DBG] Committed transaction.
2024-08-25 00:45:40.481 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.481 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 00:45:40.481 +05:30 [DBG] Disposing transaction.
2024-08-25 00:45:40.481 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 00:45:40.482 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 00:45:40.482 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 00:45:40.482 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 00:45:40.482 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 00:45:40.482 +05:30 [DBG] Connection id "0HN63RUB239A6" completed keep alive response.
2024-08-25 00:45:40.482 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 00:45:40.482 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 278.5599ms
2024-08-25 00:47:52.084 +05:30 [DBG] Connection id "0HN63RUB239A5" disconnecting.
2024-08-25 00:47:52.084 +05:30 [DBG] Connection id "0HN63RUB239A6" disconnecting.
2024-08-25 00:47:52.086 +05:30 [DBG] Connection id "0HN63RUB239A5" stopped.
2024-08-25 00:47:52.086 +05:30 [DBG] Connection id "0HN63RUB239A6" stopped.
2024-08-25 00:47:52.086 +05:30 [DBG] Connection id "0HN63RUB239A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 00:47:52.086 +05:30 [DBG] Connection id "0HN63RUB239A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 08:33:30.446 +05:30 [DBG] Hosting starting
2024-08-25 08:33:30.477 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-25 08:33:30.479 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-25 08:33:30.481 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-25 08:33:30.483 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-25 08:33:30.485 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-25 08:33:30.487 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-25 08:33:30.487 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-25 08:33:30.488 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-25 08:33:30.488 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-25 08:33:30.490 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-25 08:33:30.490 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-25 08:33:30.631 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-25 08:33:30.631 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-25 08:33:30.632 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-25 08:33:30.632 +05:30 [INF] Hosting environment: Development
2024-08-25 08:33:30.632 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-25 08:33:30.632 +05:30 [DBG] Hosting started
2024-08-25 08:33:43.319 +05:30 [DBG] Connection id "0HN64MA3L11T9" accepted.
2024-08-25 08:33:43.321 +05:30 [DBG] Connection id "0HN64MA3L11T9" started.
2024-08-25 08:33:43.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 08:33:43.337 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-25 08:33:43.403 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 08:33:43.403 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 08:33:43.404 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:33:43.404 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:33:43.417 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 08:33:43.422 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 08:33:43.423 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 08:33:43.470 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-25 08:33:43.641 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 08:33:43.655 +05:30 [DBG] Compiling query expression: 
'DbSet<Language>()
    .OrderBy(o => o.LanguageId)'
2024-08-25 08:33:43.717 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Language>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Language.LanguageId (byte) Required PK AfterSave:Throw, 0], [Property: Language.LanguageCode (string) Required, 1], [Property: Language.LanguageName (string) Required, 2] }
        SELECT l.LanguageId, l.LanguageCode, l.LanguageName
        FROM Language AS l
        ORDER BY l.LanguageId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Language>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 08:33:43.731 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:33:43.736 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-25 08:33:43.738 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:33:43.847 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:33:43.850 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 08:33:43.863 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 08:33:43.875 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:33:43.882 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:33:43.882 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:33:43.883 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:33:43.884 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:33:43.885 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:33:43.890 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 08:33:43.894 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 08:33:43.899 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 08:33:43.899 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:33:43.900 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 08:33:43.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 566.086ms
2024-08-25 08:34:05.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 08:34:05.680 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 08:34:05.681 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 08:34:05.681 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:05.682 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:05.682 +05:30 [DBG] The request is a preflight request.
2024-08-25 08:34:05.683 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:05.683 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 5.5103ms
2024-08-25 08:34:05.685 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 08:34:05.689 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 08:34:05.689 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 08:34:05.691 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:05.691 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:05.693 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 08:34:05.694 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 08:34:05.694 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 08:34:05.698 +05:30 [DBG] Connection id "0HN64MA3L11T9", Request id "0HN64MA3L11T9:00000003": started reading request body.
2024-08-25 08:34:05.698 +05:30 [DBG] Connection id "0HN64MA3L11T9", Request id "0HN64MA3L11T9:00000003": done reading request body.
2024-08-25 08:34:05.717 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 08:34:05.869 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 08:34:05.873 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-25 08:34:05.893 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 08:34:05.896 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:05.897 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:05.898 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:05.898 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:05.899 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 08:34:05.917 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 08:34:05.918 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:05.918 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:05.918 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.040 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 08:34:06.069 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-25 08:34:06.072 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 08:34:06.073 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:06.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:06.073 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.073 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.073 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 08:34:06.076 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 08:34:06.079 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:34:06.083 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:06.083 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.083 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.087 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:34:06.088 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 08:34:06.089 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 08:34:06.091 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 08:34:06.095 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.096 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.096 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 08:34:06.100 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 08:34:06.112 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:06.112 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:06.112 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 08:34:06.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 08:34:06.115 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:06.116 +05:30 [DBG] Committing transaction.
2024-08-25 08:34:06.117 +05:30 [DBG] Committed transaction.
2024-08-25 08:34:06.118 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.118 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.118 +05:30 [DBG] Disposing transaction.
2024-08-25 08:34:06.119 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:34:06.119 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 08:34:06.128 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:34:06.129 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 08:34:06.129 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 08:34:06.131 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 08:34:06.131 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.132 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.132 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 08:34:06.132 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 08:34:06.134 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:06.134 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:06.135 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 08:34:06.138 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 08:34:06.138 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:06.138 +05:30 [DBG] Committing transaction.
2024-08-25 08:34:06.139 +05:30 [DBG] Committed transaction.
2024-08-25 08:34:06.139 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.139 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:06.139 +05:30 [DBG] Disposing transaction.
2024-08-25 08:34:06.139 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 08:34:06.139 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 08:34:06.140 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 08:34:06.140 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 08:34:06.140 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 08:34:06.140 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:06.140 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 08:34:06.140 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 454.8043ms
2024-08-25 08:34:19.330 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 08:34:19.331 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 08:34:19.331 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 08:34:19.332 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:19.332 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:19.332 +05:30 [DBG] The request is a preflight request.
2024-08-25 08:34:19.332 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:19.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.669ms
2024-08-25 08:34:19.334 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 08:34:19.335 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 08:34:19.335 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 08:34:19.335 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:19.335 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:19.365 +05:30 [DBG] Successfully validated the token.
2024-08-25 08:34:19.365 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 08:34:19.367 +05:30 [DBG] Authorization was successful.
2024-08-25 08:34:19.368 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 08:34:19.368 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 08:34:19.368 +05:30 [DBG] Connection id "0HN64MA3L11T9", Request id "0HN64MA3L11T9:00000005": started reading request body.
2024-08-25 08:34:19.368 +05:30 [DBG] Connection id "0HN64MA3L11T9", Request id "0HN64MA3L11T9:00000005": done reading request body.
2024-08-25 08:34:19.379 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 08:34:19.383 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Lastname, 
            pattern: __Format_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-25 08:34:19.394 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-25 08:34:19.395 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (p.Lastname LIKE @__Format_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 08:34:19.396 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:19.396 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:19.396 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:19.397 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:19.397 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 08:34:19.411 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 08:34:19.412 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:19.412 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:19.412 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:19.415 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 08:34:19.415 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 08:34:19.416 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 08:34:19.416 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:19.416 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 08:34:19.417 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 82.9376ms
2024-08-25 08:34:24.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - null 0
2024-08-25 08:34:24.265 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 08:34:24.265 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 08:34:24.265 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:24.265 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:24.265 +05:30 [DBG] The request is a preflight request.
2024-08-25 08:34:24.266 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:24.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - 204 null null 1.3227ms
2024-08-25 08:34:24.267 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/2 - null null
2024-08-25 08:34:24.267 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 08:34:24.271 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/2'
2024-08-25 08:34:24.271 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 08:34:24.271 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 08:34:24.271 +05:30 [INF] CORS policy execution successful.
2024-08-25 08:34:24.273 +05:30 [DBG] Successfully validated the token.
2024-08-25 08:34:24.273 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 08:34:24.275 +05:30 [DBG] Authorization was successful.
2024-08-25 08:34:24.276 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 08:34:24.276 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 08:34:24.281 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 08:34:24.283 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: p => p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (p, g) => new { 
            p = p, 
            g = g
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.p.PatientId.Equals(__patientId_0))
    .Select(<>h__TransparentIdentifier0 => new PatientProfile{ 
        PatientId = <>h__TransparentIdentifier0.p.PatientId, 
        PatientCode = <>h__TransparentIdentifier0.p.PatientCode, 
        Firstname = <>h__TransparentIdentifier0.p.Firstname, 
        Middlename = <>h__TransparentIdentifier0.p.Middlename, 
        Lastname = <>h__TransparentIdentifier0.p.Lastname, 
        DateOfBirth = <>h__TransparentIdentifier0.p.DateOfBirth, 
        GenderCode = <>h__TransparentIdentifier0.g.GenderCode, 
        GenderName = <>h__TransparentIdentifier0.g.GenderName 
    }
    )
    .FirstOrDefault()'
2024-08-25 08:34:24.287 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientProfile>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientProfile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                PatientId -> 0
                PatientCode -> 1
                Firstname -> 2
                Middlename -> 3
                Lastname -> 4
                DateOfBirth -> 5
                GenderCode -> 6
                GenderName -> 7
            SELECT TOP(1) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderCode, g.GenderName
            FROM Patient AS p
            INNER JOIN Gender AS g ON p.GenderId == g.GenderId
            WHERE p.PatientId == @__patientId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientProfile>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 08:34:24.288 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 08:34:24.288 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 08:34:24.288 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 08:34:24.289 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 08:34:24.289 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 08:34:24.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 08:34:24.291 +05:30 [DBG] A data reader was disposed.
2024-08-25 08:34:24.291 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 08:34:24.291 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 08:34:24.291 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 08:34:24.292 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 08:34:24.293 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 08:34:24.293 +05:30 [DBG] Connection id "0HN64MA3L11T9" completed keep alive response.
2024-08-25 08:34:24.293 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 08:34:24.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/2 - 200 null application/json; charset=utf-8 26.7022ms
2024-08-25 08:35:12.761 +05:30 [DBG] Connection id "0HN64MA3L11T9" received FIN.
2024-08-25 08:35:12.763 +05:30 [DBG] Connection id "0HN64MA3L11T9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 08:35:12.768 +05:30 [DBG] Connection id "0HN64MA3L11T9" disconnecting.
2024-08-25 08:35:12.770 +05:30 [DBG] Connection id "0HN64MA3L11T9" stopped.
2024-08-25 09:00:10.783 +05:30 [DBG] Connection id "0HN64MA3L11TA" accepted.
2024-08-25 09:00:10.784 +05:30 [DBG] Connection id "0HN64MA3L11TA" started.
2024-08-25 09:00:10.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger - null null
2024-08-25 09:00:10.809 +05:30 [DBG] No candidates found for the request path '/swagger'
2024-08-25 09:00:10.809 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.810 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.810 +05:30 [DBG] Connection id "0HN64MA3L11TA" completed keep alive response.
2024-08-25 09:00:10.810 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger - 301 0 null 2.1723ms
2024-08-25 09:00:10.815 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-25 09:00:10.816 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-25 09:00:10.816 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.816 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.837 +05:30 [DBG] Connection id "0HN64MA3L11TA" completed keep alive response.
2024-08-25 09:00:10.838 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 22.077ms
2024-08-25 09:00:10.843 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - null null
2024-08-25 09:00:10.843 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-08-25 09:00:10.843 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.843 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.844 +05:30 [DBG] Connection id "0HN64MA3L11TB" accepted.
2024-08-25 09:00:10.844 +05:30 [DBG] Connection id "0HN64MA3L11TB" started.
2024-08-25 09:00:10.844 +05:30 [DBG] Connection id "0HN64MA3L11TC" accepted.
2024-08-25 09:00:10.845 +05:30 [DBG] Connection id "0HN64MA3L11TC" started.
2024-08-25 09:00:10.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - null null
2024-08-25 09:00:10.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - null null
2024-08-25 09:00:10.845 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-08-25 09:00:10.845 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-08-25 09:00:10.845 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.845 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.845 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.845 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.851 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-25 09:00:10.851 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-25 09:00:10.852 +05:30 [DBG] Connection id "0HN64MA3L11TC" completed keep alive response.
2024-08-25 09:00:10.852 +05:30 [DBG] Connection id "0HN64MA3L11TA" completed keep alive response.
2024-08-25 09:00:10.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 6.9336ms
2024-08-25 09:00:10.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - 200 143943 text/css 9.1595ms
2024-08-25 09:00:10.853 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-25 09:00:10.853 +05:30 [DBG] Connection id "0HN64MA3L11TB" completed keep alive response.
2024-08-25 09:00:10.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 8.0941ms
2024-08-25 09:00:10.939 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-25 09:00:10.939 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-25 09:00:10.939 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.939 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.941 +05:30 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-08-25 09:00:10.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/favicon-16x16.png - null null
2024-08-25 09:00:10.942 +05:30 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-08-25 09:00:10.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/favicon-32x32.png - null null
2024-08-25 09:00:10.942 +05:30 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-08-25 09:00:10.942 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.942 +05:30 [DBG] Request did not match any endpoints
2024-08-25 09:00:10.942 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.942 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:00:10.943 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-08-25 09:00:10.943 +05:30 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-08-25 09:00:10.943 +05:30 [DBG] Connection id "0HN64MA3L11TC" completed keep alive response.
2024-08-25 09:00:10.943 +05:30 [DBG] Connection id "0HN64MA3L11TB" completed keep alive response.
2024-08-25 09:00:10.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/favicon-16x16.png - 200 665 image/png 0.9265ms
2024-08-25 09:00:10.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/favicon-32x32.png - 200 628 image/png 0.8809ms
2024-08-25 09:00:11.000 +05:30 [DBG] Connection id "0HN64MA3L11TA" completed keep alive response.
2024-08-25 09:00:11.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.8692ms
2024-08-25 09:00:41.781 +05:30 [DBG] Connection id "0HN64MA3L11TA" received FIN.
2024-08-25 09:00:41.781 +05:30 [DBG] Connection id "0HN64MA3L11TB" received FIN.
2024-08-25 09:00:41.782 +05:30 [DBG] Connection id "0HN64MA3L11TC" received FIN.
2024-08-25 09:00:41.782 +05:30 [DBG] Connection id "0HN64MA3L11TA" disconnecting.
2024-08-25 09:00:41.782 +05:30 [DBG] Connection id "0HN64MA3L11TB" disconnecting.
2024-08-25 09:00:41.782 +05:30 [DBG] Connection id "0HN64MA3L11TA" stopped.
2024-08-25 09:00:41.783 +05:30 [DBG] Connection id "0HN64MA3L11TC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:00:41.783 +05:30 [DBG] Connection id "0HN64MA3L11TB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:00:41.783 +05:30 [DBG] Connection id "0HN64MA3L11TC" disconnecting.
2024-08-25 09:00:41.783 +05:30 [DBG] Connection id "0HN64MA3L11TA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:00:41.783 +05:30 [DBG] Connection id "0HN64MA3L11TB" stopped.
2024-08-25 09:00:41.784 +05:30 [DBG] Connection id "0HN64MA3L11TC" stopped.
2024-08-25 09:01:06.692 +05:30 [DBG] Connection id "0HN64MA3L11TD" accepted.
2024-08-25 09:01:06.693 +05:30 [DBG] Connection id "0HN64MA3L11TD" started.
2024-08-25 09:01:06.693 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-25 09:01:06.694 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 09:01:06.694 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:01:06.694 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-25 09:01:06.694 +05:30 [INF] CORS policy execution failed.
2024-08-25 09:01:06.694 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-25 09:01:06.694 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:01:06.694 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:01:06.695 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:01:06.695 +05:30 [DBG] Connection id "0HN64MA3L11TD", Request id "0HN64MA3L11TD:00000001": started reading request body.
2024-08-25 09:01:06.695 +05:30 [DBG] Connection id "0HN64MA3L11TD", Request id "0HN64MA3L11TD:00000001": done reading request body.
2024-08-25 09:01:06.697 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 09:01:06.842 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:01:06.844 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:01:06.844 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:01:06.844 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.862 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.862 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:01:06.864 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:01:06.864 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:01:06.864 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.864 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.975 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 09:01:06.976 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:01:06.976 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:01:06.976 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.976 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.976 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:01:06.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:01:06.977 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:01:06.977 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:01:06.977 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.977 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.977 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:01:06.978 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 09:01:06.978 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 09:01:06.978 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 09:01:06.978 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.978 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.978 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 09:01:06.978 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 09:01:06.979 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:01:06.979 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:01:06.979 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 09:01:06.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 09:01:06.980 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:01:06.980 +05:30 [DBG] Committing transaction.
2024-08-25 09:01:06.981 +05:30 [DBG] Committed transaction.
2024-08-25 09:01:06.981 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.981 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.981 +05:30 [DBG] Disposing transaction.
2024-08-25 09:01:06.981 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:01:06.981 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 09:01:06.981 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:01:06.981 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 09:01:06.981 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 09:01:06.981 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 09:01:06.981 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.982 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.982 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 09:01:06.982 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 09:01:06.982 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:01:06.982 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:01:06.982 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 09:01:06.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 09:01:06.983 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:01:06.983 +05:30 [DBG] Committing transaction.
2024-08-25 09:01:06.984 +05:30 [DBG] Committed transaction.
2024-08-25 09:01:06.984 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.984 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:01:06.984 +05:30 [DBG] Disposing transaction.
2024-08-25 09:01:06.984 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:01:06.984 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 09:01:06.984 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:01:06.984 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 09:01:06.984 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:01:06.984 +05:30 [DBG] Connection id "0HN64MA3L11TD" completed keep alive response.
2024-08-25 09:01:06.984 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:01:06.984 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 290.7646ms
2024-08-25 09:01:37.687 +05:30 [DBG] Connection id "0HN64MA3L11TD" received FIN.
2024-08-25 09:01:37.689 +05:30 [DBG] Connection id "0HN64MA3L11TD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:01:37.689 +05:30 [DBG] Connection id "0HN64MA3L11TD" disconnecting.
2024-08-25 09:01:37.689 +05:30 [DBG] Connection id "0HN64MA3L11TD" stopped.
2024-08-25 09:01:39.023 +05:30 [DBG] Connection id "0HN64MA3L11TE" accepted.
2024-08-25 09:01:39.024 +05:30 [DBG] Connection id "0HN64MA3L11TE" started.
2024-08-25 09:01:39.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - null null
2024-08-25 09:01:39.025 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/2'
2024-08-25 09:01:39.025 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync' with route pattern '/api/patients/identities/patient/{id}' is valid for the request path '/api/patients/identities/patient/2'
2024-08-25 09:01:39.025 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 09:01:39.026 +05:30 [DBG] Successfully validated the token.
2024-08-25 09:01:39.026 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 09:01:39.028 +05:30 [DBG] Authorization was successful.
2024-08-25 09:01:39.028 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:01:39.028 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 09:01:39.039 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:01:39.041 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Join(
        inner: DbSet<IdentityType>(), 
        outerKeySelector: pi => pi.IdentityTypeId, 
        innerKeySelector: it => it.IdentityTypeId, 
        resultSelector: (pi, it) => new { 
            pi = pi, 
            it = it
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.pi.PatientId.Equals(__patientId_0) && <>h__TransparentIdentifier0.pi.IsActive)
    .Select(<>h__TransparentIdentifier0 => new PatientIdentityModel{ 
        PatientIdentityId = <>h__TransparentIdentifier0.pi.PatientIdentityId, 
        PatientId = <>h__TransparentIdentifier0.pi.PatientId, 
        IdentityNumber = <>h__TransparentIdentifier0.pi.IdentityNumber, 
        IssuedBy = <>h__TransparentIdentifier0.pi.IssuedBy, 
        PlaceIssued = <>h__TransparentIdentifier0.pi.PlaceIssued, 
        Expiry = <>h__TransparentIdentifier0.pi.Expiry, 
        IdentityTypeCode = <>h__TransparentIdentifier0.it.IdentityTypeCode, 
        IdentityTypeName = <>h__TransparentIdentifier0.it.IdentityTypeName 
    }
    )'
2024-08-25 09:01:39.043 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientIdentityModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientIdentityId -> 0
            PatientId -> 1
            IdentityNumber -> 2
            IssuedBy -> 3
            PlaceIssued -> 4
            Expiry -> 5
            IdentityTypeCode -> 6
            IdentityTypeName -> 7
        SELECT p.PatientIdentityId, p.PatientId, p.IdentityNumber, p.IssuedBy, p.PlaceIssued, p.Expiry, i.IdentityTypeCode, i.IdentityTypeName
        FROM PatientIdentity AS p
        INNER JOIN IdentityType AS i ON p.IdentityTypeId == i.IdentityTypeId
        WHERE (p.PatientId == @__patientId_0) && p.IsActive), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentityModel>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 09:01:39.044 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:01:39.044 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:01:39.044 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:01:39.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:01:39.045 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 09:01:39.051 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 09:01:39.052 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:01:39.052 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:01:39.052 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:01:39.052 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:01:39.053 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 09:01:39.056 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 09:01:39.056 +05:30 [DBG] Connection id "0HN64MA3L11TE" completed keep alive response.
2024-08-25 09:01:39.056 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:01:39.056 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - 200 null application/json; charset=utf-8 31.8074ms
2024-08-25 09:02:09.996 +05:30 [DBG] Connection id "0HN64MA3L11TE" received FIN.
2024-08-25 09:02:09.997 +05:30 [DBG] Connection id "0HN64MA3L11TE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:02:09.997 +05:30 [DBG] Connection id "0HN64MA3L11TE" disconnecting.
2024-08-25 09:02:09.997 +05:30 [DBG] Connection id "0HN64MA3L11TE" stopped.
2024-08-25 09:11:42.623 +05:30 [DBG] Connection id "0HN64MA3L11TF" accepted.
2024-08-25 09:11:42.624 +05:30 [DBG] Connection id "0HN64MA3L11TF" started.
2024-08-25 09:11:42.625 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 09:11:42.627 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 09:11:42.627 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:11:42.628 +05:30 [DBG] Successfully validated the token.
2024-08-25 09:11:42.628 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 09:11:42.628 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:11:42.628 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:11:42.633 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:11:42.634 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .OrderBy(o => o.IdentityTypeId)'
2024-08-25 09:11:42.637 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<IdentityType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityType.IdentityTypeId (byte) Required PK AfterSave:Throw, 0], [Property: IdentityType.IdentityTypeCode (string) Required, 1], [Property: IdentityType.IdentityTypeName (string) Required, 2] }
        SELECT i.IdentityTypeId, i.IdentityTypeCode, i.IdentityTypeName
        FROM IdentityType AS i
        ORDER BY i.IdentityTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 09:11:42.638 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:11:42.638 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:11:42.639 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:11:42.654 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:11:42.654 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 09:11:42.655 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 09:11:42.656 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:11:42.658 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:11:42.658 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:11:42.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:11:42.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:11:42.659 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:11:42.659 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:11:42.659 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:11:42.659 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:11:42.659 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 09:11:42.660 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:11:42.660 +05:30 [DBG] Connection id "0HN64MA3L11TF" completed keep alive response.
2024-08-25 09:11:42.660 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:11:42.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 35.7597ms
2024-08-25 09:12:13.616 +05:30 [DBG] Connection id "0HN64MA3L11TF" received FIN.
2024-08-25 09:12:13.618 +05:30 [DBG] Connection id "0HN64MA3L11TF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:12:13.618 +05:30 [DBG] Connection id "0HN64MA3L11TF" disconnecting.
2024-08-25 09:12:13.618 +05:30 [DBG] Connection id "0HN64MA3L11TF" stopped.
2024-08-25 09:13:00.374 +05:30 [DBG] Connection id "0HN64MA3L11TG" accepted.
2024-08-25 09:13:00.375 +05:30 [DBG] Connection id "0HN64MA3L11TG" started.
2024-08-25 09:13:00.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 09:13:00.376 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 09:13:00.376 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 09:13:00.376 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:00.376 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:00.376 +05:30 [DBG] The request is a preflight request.
2024-08-25 09:13:00.376 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:00.377 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.9719ms
2024-08-25 09:13:00.377 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 09:13:00.377 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 09:13:00.377 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:13:00.378 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:00.378 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:00.378 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 09:13:00.378 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:13:00.378 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:13:00.378 +05:30 [DBG] Connection id "0HN64MA3L11TG", Request id "0HN64MA3L11TG:00000002": started reading request body.
2024-08-25 09:13:00.378 +05:30 [DBG] Connection id "0HN64MA3L11TG", Request id "0HN64MA3L11TG:00000002": done reading request body.
2024-08-25 09:13:00.382 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 09:13:00.516 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:13:00.516 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:00.516 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:00.517 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.517 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.517 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:13:00.518 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:13:00.519 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:00.519 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.519 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.630 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 09:13:00.630 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:00.630 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:00.630 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.631 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.631 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:13:00.632 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 09:13:00.632 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:00.632 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:00.632 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.632 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.632 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:00.632 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 09:13:00.632 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 09:13:00.632 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 09:13:00.632 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.633 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.633 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 09:13:00.633 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 09:13:00.633 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:00.633 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:00.633 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 09:13:00.634 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 09:13:00.634 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:00.634 +05:30 [DBG] Committing transaction.
2024-08-25 09:13:00.636 +05:30 [DBG] Committed transaction.
2024-08-25 09:13:00.636 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.637 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.637 +05:30 [DBG] Disposing transaction.
2024-08-25 09:13:00.637 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:00.637 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 09:13:00.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:00.637 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 09:13:00.637 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 09:13:00.637 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 09:13:00.637 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.637 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.637 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 09:13:00.638 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 09:13:00.638 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:00.638 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:00.638 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 09:13:00.638 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 09:13:00.638 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:00.638 +05:30 [DBG] Committing transaction.
2024-08-25 09:13:00.639 +05:30 [DBG] Committed transaction.
2024-08-25 09:13:00.639 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.639 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:00.639 +05:30 [DBG] Disposing transaction.
2024-08-25 09:13:00.639 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:00.639 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 09:13:00.639 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:13:00.639 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 09:13:00.639 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 09:13:00.639 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:00.639 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:13:00.639 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 261.8035ms
2024-08-25 09:13:07.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 09:13:07.859 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 09:13:07.859 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 09:13:07.859 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:07.859 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:07.859 +05:30 [DBG] The request is a preflight request.
2024-08-25 09:13:07.859 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:07.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.769ms
2024-08-25 09:13:07.861 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 09:13:07.861 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 09:13:07.861 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 09:13:07.861 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:07.861 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:07.861 +05:30 [DBG] Successfully validated the token.
2024-08-25 09:13:07.861 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 09:13:07.862 +05:30 [DBG] Authorization was successful.
2024-08-25 09:13:07.862 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:13:07.862 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 09:13:07.862 +05:30 [DBG] Connection id "0HN64MA3L11TG", Request id "0HN64MA3L11TG:00000004": started reading request body.
2024-08-25 09:13:07.862 +05:30 [DBG] Connection id "0HN64MA3L11TG", Request id "0HN64MA3L11TG:00000004": done reading request body.
2024-08-25 09:13:07.864 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:13:07.867 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:07.867 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:07.867 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:07.867 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:07.868 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 09:13:07.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 09:13:07.871 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:07.871 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:07.871 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:07.871 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:13:07.871 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 09:13:07.872 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 09:13:07.872 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:07.872 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:13:07.872 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.407ms
2024-08-25 09:13:09.902 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 09:13:09.902 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 09:13:09.902 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 09:13:09.903 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:09.903 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:09.903 +05:30 [DBG] The request is a preflight request.
2024-08-25 09:13:09.903 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:09.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2499ms
2024-08-25 09:13:09.904 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 09:13:09.904 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 09:13:09.905 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 09:13:09.905 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:09.905 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:09.905 +05:30 [DBG] Successfully validated the token.
2024-08-25 09:13:09.905 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 09:13:09.905 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:13:09.905 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 09:13:09.909 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:13:09.911 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .OrderBy(o => o.GenderId)'
2024-08-25 09:13:09.913 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Gender>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Gender.GenderId (byte) Required PK AfterSave:Throw, 0], [Property: Gender.GenderCode (string) Required, 1], [Property: Gender.GenderName (string) Required, 2] }
        SELECT g.GenderId, g.GenderCode, g.GenderName
        FROM Gender AS g
        ORDER BY g.GenderId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Gender>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 09:13:09.914 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:09.914 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:09.914 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:09.915 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:09.915 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 09:13:09.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 09:13:09.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:09.920 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:09.920 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:09.920 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:09.920 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:09.920 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:13:09.921 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 09:13:09.922 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 09:13:09.922 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:09.922 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:13:09.922 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 17.8595ms
2024-08-25 09:13:34.651 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 09:13:34.652 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 09:13:34.652 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 09:13:34.652 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:34.653 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:34.653 +05:30 [DBG] The request is a preflight request.
2024-08-25 09:13:34.653 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:34.653 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.6368ms
2024-08-25 09:13:34.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 09:13:34.654 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 09:13:34.654 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:13:34.654 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 09:13:34.654 +05:30 [INF] CORS policy execution successful.
2024-08-25 09:13:34.655 +05:30 [DBG] Successfully validated the token.
2024-08-25 09:13:34.655 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 09:13:34.655 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 09:13:34.655 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:13:34.656 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 09:13:34.656 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 09:13:34.656 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 09:13:34.656 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 09:13:34.657 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 09:13:34.657 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 09:13:34.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 09:13:34.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:34.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:34.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:34.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:34.659 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 09:13:34.659 +05:30 [DBG] A data reader was disposed.
2024-08-25 09:13:34.659 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 09:13:34.660 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 09:13:34.660 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 09:13:34.660 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 09:13:34.660 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 09:13:34.660 +05:30 [DBG] Connection id "0HN64MA3L11TG" completed keep alive response.
2024-08-25 09:13:34.660 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 09:13:34.661 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 6.6182ms
2024-08-25 09:14:11.889 +05:30 [DBG] Connection id "0HN64MA3L11TG" received FIN.
2024-08-25 09:14:11.890 +05:30 [DBG] Connection id "0HN64MA3L11TG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 09:14:11.890 +05:30 [DBG] Connection id "0HN64MA3L11TG" disconnecting.
2024-08-25 09:14:11.890 +05:30 [DBG] Connection id "0HN64MA3L11TG" stopped.
2024-08-25 10:03:22.836 +05:30 [DBG] Connection id "0HN64MA3L11TH" accepted.
2024-08-25 10:03:22.837 +05:30 [DBG] Connection id "0HN64MA3L11TH" started.
2024-08-25 10:03:22.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 10:03:22.837 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 10:03:22.837 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:22.837 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:03:22.837 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:03:22.837 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:22.838 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:03:22.838 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:22.839 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:03:22.839 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:03:22.839 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:03:22.839 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:03:22.857 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:03:22.857 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:03:22.857 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:03:22.857 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:22.858 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:22.858 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:22.858 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:03:22.858 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:03:22.858 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:03:22.858 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:03:22.858 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:03:22.858 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:22.858 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:22.858 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:03:22.858 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 21.4959ms
2024-08-25 10:03:29.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 10:03:29.531 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 10:03:29.531 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:29.531 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:03:29.531 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:03:29.531 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:29.531 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:03:29.531 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:29.532 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:03:29.532 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:03:29.533 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:03:29.533 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:03:29.534 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:03:29.534 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:03:29.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:03:29.535 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:29.535 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:29.535 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:03:29.535 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:03:29.535 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:03:29.535 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:03:29.535 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:03:29.536 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:03:29.536 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:03:29.536 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:29.536 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:03:29.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 5.7073ms
2024-08-25 10:03:36.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/ - null null
2024-08-25 10:03:36.572 +05:30 [DBG] 1 candidate(s) found for the request path '/'
2024-08-25 10:03:36.572 +05:30 [DBG] Request matched endpoint 'HTTP: GET /'
2024-08-25 10:03:36.572 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:36.572 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:03:36.572 +05:30 [INF] Executing endpoint 'HTTP: GET /'
2024-08-25 10:03:36.573 +05:30 [INF] Executed endpoint 'HTTP: GET /'
2024-08-25 10:03:36.573 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:36.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/ - 200 null text/plain; charset=utf-8 1.3864ms
2024-08-25 10:03:36.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/favicon.ico - null null
2024-08-25 10:03:36.581 +05:30 [DBG] No candidates found for the request path '/favicon.ico'
2024-08-25 10:03:36.581 +05:30 [DBG] Request did not match any endpoints
2024-08-25 10:03:36.581 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:36.581 +05:30 [DBG] The request path  does not match the path filter
2024-08-25 10:03:36.582 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:36.582 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/favicon.ico - 404 0 null 1.027ms
2024-08-25 10:03:36.582 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5242/favicon.ico, Response status code: 404
2024-08-25 10:03:43.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-25 10:03:43.590 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-25 10:03:43.590 +05:30 [DBG] Request did not match any endpoints
2024-08-25 10:03:43.591 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:43.591 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:43.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 1.3195ms
2024-08-25 10:03:43.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-25 10:03:43.691 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-25 10:03:43.691 +05:30 [DBG] Request did not match any endpoints
2024-08-25 10:03:43.691 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:03:43.721 +05:30 [DBG] Connection id "0HN64MA3L11TH" completed keep alive response.
2024-08-25 10:03:43.721 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.9531ms
2024-08-25 10:04:24.697 +05:30 [DBG] Connection id "0HN64MA3L11TH" received FIN.
2024-08-25 10:04:24.698 +05:30 [DBG] Connection id "0HN64MA3L11TH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:04:24.699 +05:30 [DBG] Connection id "0HN64MA3L11TH" disconnecting.
2024-08-25 10:04:24.699 +05:30 [DBG] Connection id "0HN64MA3L11TH" stopped.
2024-08-25 10:25:52.229 +05:30 [DBG] Connection id "0HN64MA3L11TI" accepted.
2024-08-25 10:25:52.229 +05:30 [DBG] Connection id "0HN64MA3L11TI" started.
2024-08-25 10:25:52.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 10:25:52.230 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 10:25:52.230 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:25:52.230 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:25:52.231 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:25:52.231 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:25:52.231 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:25:52.231 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:25:52.232 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:25:52.232 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:25:52.232 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:25:52.232 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:25:52.253 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:25:52.253 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:25:52.254 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 10:25:52.254 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:25:52.254 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:25:52.254 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:25:52.254 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:25:52.254 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:25:52.254 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:25:52.254 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:25:52.254 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:25:52.255 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 10:25:52.255 +05:30 [DBG] Connection id "0HN64MA3L11TI" completed keep alive response.
2024-08-25 10:25:52.255 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:25:52.255 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 25.2573ms
2024-08-25 10:26:17.645 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 10:26:17.645 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 10:26:17.646 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:26:17.646 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:26:17.646 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:26:17.646 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:26:17.646 +05:30 [DBG] Connection id "0HN64MA3L11TI" completed keep alive response.
2024-08-25 10:26:17.647 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.8285ms
2024-08-25 10:26:17.648 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 10:26:17.648 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 10:26:17.648 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 10:26:17.648 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:26:17.648 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:26:17.648 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 10:26:17.648 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:26:17.648 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 10:26:17.648 +05:30 [DBG] Connection id "0HN64MA3L11TI", Request id "0HN64MA3L11TI:00000003": started reading request body.
2024-08-25 10:26:17.649 +05:30 [DBG] Connection id "0HN64MA3L11TI", Request id "0HN64MA3L11TI:00000003": done reading request body.
2024-08-25 10:26:17.649 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 10:26:17.786 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:26:17.787 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:26:17.787 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:26:17.787 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.788 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.788 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:26:17.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:26:17.789 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:26:17.789 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.789 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.893 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 10:26:17.893 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:26:17.893 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:26:17.893 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.894 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.894 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:26:17.894 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:26:17.895 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:26:17.895 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:26:17.895 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.895 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.895 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:26:17.895 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:26:17.895 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:26:17.895 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:26:17.895 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.895 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.895 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:26:17.895 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:26:17.896 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:26:17.896 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:26:17.896 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 10:26:17.896 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 10:26:17.896 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:26:17.896 +05:30 [DBG] Committing transaction.
2024-08-25 10:26:17.899 +05:30 [DBG] Committed transaction.
2024-08-25 10:26:17.899 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.899 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.899 +05:30 [DBG] Disposing transaction.
2024-08-25 10:26:17.899 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:26:17.899 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:26:17.899 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:26:17.899 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:26:17.899 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:26:17.899 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:26:17.899 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.899 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.899 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:26:17.900 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:26:17.900 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:26:17.900 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:26:17.900 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 10:26:17.903 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 10:26:17.903 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:26:17.903 +05:30 [DBG] Committing transaction.
2024-08-25 10:26:17.904 +05:30 [DBG] Committed transaction.
2024-08-25 10:26:17.904 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.904 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:26:17.904 +05:30 [DBG] Disposing transaction.
2024-08-25 10:26:17.904 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:26:17.904 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:26:17.904 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:26:17.904 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 10:26:17.904 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 10:26:17.904 +05:30 [DBG] Connection id "0HN64MA3L11TI" completed keep alive response.
2024-08-25 10:26:17.904 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:26:17.904 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 256.6763ms
2024-08-25 10:26:24.559 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:26:24.560 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:26:24.560 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:26:24.560 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:26:24.560 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:26:24.560 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:26:24.560 +05:30 [DBG] Connection id "0HN64MA3L11TI" completed keep alive response.
2024-08-25 10:26:24.560 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8826ms
2024-08-25 10:26:24.561 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 10:26:24.561 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:26:24.561 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:26:24.562 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:26:24.562 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:26:24.562 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:26:24.562 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:26:24.562 +05:30 [DBG] Authorization was successful.
2024-08-25 10:26:24.562 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:26:24.562 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:26:24.562 +05:30 [DBG] Connection id "0HN64MA3L11TI", Request id "0HN64MA3L11TI:00000005": started reading request body.
2024-08-25 10:26:24.563 +05:30 [DBG] Connection id "0HN64MA3L11TI", Request id "0HN64MA3L11TI:00000005": done reading request body.
2024-08-25 10:26:24.563 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:26:24.565 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:26:24.565 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:26:24.565 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:26:24.568 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:26:24.568 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:26:24.569 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:26:24.569 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:26:24.569 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:26:24.569 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:26:24.570 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:26:24.570 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:26:24.570 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:26:24.570 +05:30 [DBG] Connection id "0HN64MA3L11TI" completed keep alive response.
2024-08-25 10:26:24.570 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:26:24.570 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.9652ms
2024-08-25 10:27:24.653 +05:30 [DBG] Connection id "0HN64MA3L11TI" received FIN.
2024-08-25 10:27:24.655 +05:30 [DBG] Connection id "0HN64MA3L11TI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:27:24.655 +05:30 [DBG] Connection id "0HN64MA3L11TI" disconnecting.
2024-08-25 10:27:24.656 +05:30 [DBG] Connection id "0HN64MA3L11TI" stopped.
2024-08-25 10:35:51.278 +05:30 [DBG] Connection id "0HN64MA3L11TJ" accepted.
2024-08-25 10:35:51.279 +05:30 [DBG] Connection id "0HN64MA3L11TJ" started.
2024-08-25 10:35:51.279 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:35:51.279 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:35:51.279 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:35:51.279 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:35:51.279 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:35:51.280 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:35:51.280 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:35:51.280 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.5328ms
2024-08-25 10:35:51.280 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 18
2024-08-25 10:35:51.281 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:35:51.281 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:35:51.281 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:35:51.281 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:35:51.281 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:35:51.281 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:35:51.281 +05:30 [DBG] Authorization was successful.
2024-08-25 10:35:51.281 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:35:51.281 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:35:51.281 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000002": started reading request body.
2024-08-25 10:35:51.281 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000002": done reading request body.
2024-08-25 10:35:51.282 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:35:51.282 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_2)'
2024-08-25 10:35:51.284 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-25 10:35:51.285 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_2) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE p.Firstname LIKE @__Format_1), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 10:35:51.285 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:35:51.285 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:35:51.285 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:35:51.298 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:35:51.298 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:35:51.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:35:51.298 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:35:51.298 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:35:51.298 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:35:51.298 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:35:51.299 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:35:51.299 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:35:51.299 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:35:51.299 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:35:51.299 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 18.2359ms
2024-08-25 10:36:02.025 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:36:02.025 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:36:02.026 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:36:02.026 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:36:02.026 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:36:02.026 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:36:02.026 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:36:02.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.5963ms
2024-08-25 10:36:02.028 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 10:36:02.028 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:36:02.028 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:02.028 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:36:02.028 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:36:02.028 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:36:02.029 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:36:02.029 +05:30 [DBG] Authorization was successful.
2024-08-25 10:36:02.029 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:36:02.029 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:02.029 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000004": started reading request body.
2024-08-25 10:36:02.029 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000004": done reading request body.
2024-08-25 10:36:02.030 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:36:02.034 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:36:02.034 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:36:02.034 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:36:02.035 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:36:02.035 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:36:02.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:36:02.038 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:36:02.038 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:36:02.038 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:36:02.038 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:36:02.038 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:36:02.039 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:02.039 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:36:02.039 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:36:02.039 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.2875ms
2024-08-25 10:36:11.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:36:11.492 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:36:11.492 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:36:11.493 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:36:11.493 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:36:11.493 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:36:11.493 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:36:11.493 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.3001ms
2024-08-25 10:36:11.494 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 10:36:11.494 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:36:11.494 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:11.495 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:36:11.495 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:36:11.495 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:36:11.495 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:36:11.495 +05:30 [DBG] Authorization was successful.
2024-08-25 10:36:11.496 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:36:11.496 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:11.496 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000006": started reading request body.
2024-08-25 10:36:11.496 +05:30 [DBG] Connection id "0HN64MA3L11TJ", Request id "0HN64MA3L11TJ:00000006": done reading request body.
2024-08-25 10:36:11.497 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:36:11.499 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:36:11.499 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:36:11.499 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:36:11.500 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:36:11.500 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:36:11.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:36:11.502 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:36:11.503 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:36:11.503 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:36:11.503 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:36:11.503 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:36:11.503 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:36:11.503 +05:30 [DBG] Connection id "0HN64MA3L11TJ" completed keep alive response.
2024-08-25 10:36:11.503 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:36:11.504 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.4936ms
2024-08-25 10:37:05.503 +05:30 [DBG] Connection id "0HN64MA3L11TJ" received FIN.
2024-08-25 10:37:05.504 +05:30 [DBG] Connection id "0HN64MA3L11TJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:37:05.504 +05:30 [DBG] Connection id "0HN64MA3L11TJ" disconnecting.
2024-08-25 10:37:05.504 +05:30 [DBG] Connection id "0HN64MA3L11TJ" stopped.
2024-08-25 10:38:30.685 +05:30 [DBG] Connection id "0HN64MA3L11TK" accepted.
2024-08-25 10:38:30.686 +05:30 [DBG] Connection id "0HN64MA3L11TK" started.
2024-08-25 10:38:30.686 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:38:30.687 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:38:30.687 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:38:30.687 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:38:30.687 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:38:30.687 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:38:30.687 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:38:30.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.2833ms
2024-08-25 10:38:30.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 10:38:30.689 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:38:30.689 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:38:30.689 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:38:30.689 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:38:30.690 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:38:30.690 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:38:30.690 +05:30 [DBG] Authorization was successful.
2024-08-25 10:38:30.690 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:38:30.690 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:38:30.690 +05:30 [DBG] Connection id "0HN64MA3L11TK", Request id "0HN64MA3L11TK:00000002": started reading request body.
2024-08-25 10:38:30.691 +05:30 [DBG] Connection id "0HN64MA3L11TK", Request id "0HN64MA3L11TK:00000002": done reading request body.
2024-08-25 10:38:30.692 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:38:30.694 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:38:30.694 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:38:30.695 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:38:30.696 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:38:30.696 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:38:30.698 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:38:30.698 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:38:30.698 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:38:30.699 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:38:30.699 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:38:30.699 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:38:30.699 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:38:30.699 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:38:30.699 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:38:30.700 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 10.7483ms
2024-08-25 10:39:03.744 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 10:39:03.745 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:39:03.745 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:39:03.745 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:39:03.745 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:39:03.745 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:39:03.745 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:39:03.745 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2217ms
2024-08-25 10:39:03.747 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 10:39:03.747 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:39:03.747 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:39:03.747 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:39:03.747 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:39:03.747 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:39:03.748 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:39:03.748 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:39:03.748 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:39:03.749 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:39:03.750 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:39:03.750 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:39:03.750 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:39:03.751 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:39:03.751 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:39:03.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:39:03.752 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:39:03.752 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:39:03.753 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:39:03.753 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:39:03.753 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:39:03.753 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:39:03.753 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:39:03.753 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:39:03.753 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:39:03.753 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:39:03.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 6.6513ms
2024-08-25 10:39:38.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 10:39:38.662 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:39:38.662 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:39:38.663 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:39:38.663 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:39:38.663 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:39:38.663 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:39:38.663 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 2.2992ms
2024-08-25 10:39:38.664 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 146
2024-08-25 10:39:38.664 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:39:38.665 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:39:38.665 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:39:38.665 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:39:38.665 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:39:38.665 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:39:38.665 +05:30 [DBG] Authorization was successful.
2024-08-25 10:39:38.665 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:39:38.665 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:39:38.666 +05:30 [DBG] Connection id "0HN64MA3L11TK", Request id "0HN64MA3L11TK:00000006": started reading request body.
2024-08-25 10:39:38.666 +05:30 [DBG] Connection id "0HN64MA3L11TK", Request id "0HN64MA3L11TK:00000006": done reading request body.
2024-08-25 10:39:38.697 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 10:39:38.700 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 10:39:38.702 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:39:38.702 +05:30 [DBG] Connection id "0HN64MA3L11TK" completed keep alive response.
2024-08-25 10:39:38.702 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 400 null application/problem+json 37.4046ms
2024-08-25 10:40:10.807 +05:30 [DBG] Connection id "0HN64MA3L11TK" received FIN.
2024-08-25 10:40:10.808 +05:30 [DBG] Connection id "0HN64MA3L11TK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:40:10.808 +05:30 [DBG] Connection id "0HN64MA3L11TK" disconnecting.
2024-08-25 10:40:10.808 +05:30 [DBG] Connection id "0HN64MA3L11TK" stopped.
2024-08-25 10:43:07.685 +05:30 [DBG] Connection id "0HN64MA3L11TL" accepted.
2024-08-25 10:43:07.686 +05:30 [DBG] Connection id "0HN64MA3L11TL" started.
2024-08-25 10:43:07.687 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 10:43:07.688 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:43:07.688 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:43:07.688 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:07.688 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:07.688 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:43:07.688 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:07.689 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.2995ms
2024-08-25 10:43:07.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 146
2024-08-25 10:43:07.690 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:43:07.690 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:07.690 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:07.690 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:07.694 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:11:17 AM', Current time: '8/25/2024 5:13:07 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 10:43:07.710 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:11:17 AM', Current time: '8/25/2024 5:13:07 AM'.
2024-08-25 10:43:07.711 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 10:43:07.712 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 10:43:07.717 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 10:43:07.718 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:07.718 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 401 0 null 28.1657ms
2024-08-25 10:43:07.718 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000002": started reading request body.
2024-08-25 10:43:07.718 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000002": done reading request body.
2024-08-25 10:43:07.723 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null 0
2024-08-25 10:43:07.723 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 10:43:07.723 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:43:07.723 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:07.723 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:07.723 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:43:07.723 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:07.723 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.7571ms
2024-08-25 10:43:07.724 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-25 10:43:07.724 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 10:43:07.724 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 10:43:07.724 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:07.724 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:07.725 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:11:17 AM', Current time: '8/25/2024 5:13:07 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 10:43:07.725 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:11:17 AM', Current time: '8/25/2024 5:13:07 AM'.
2024-08-25 10:43:07.725 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:43:07.725 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 10:43:07.732 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:43:07.733 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => string.Equals(
        a: <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Token, 
        b: __refreshTokenId_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-25 10:43:07.736 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                AppUserId -> 0
                Username -> 1
                Firstname -> 2
                Lastname -> 3
                CustomerId -> 4
                CustomerCode -> 5
                CustomerShortName -> 6
                CustomerName -> 7
                LanguageCode -> 8
                RoleCode -> 9
            SELECT TOP(1) a.AppUserId, c.Username, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE (c.Token == @__refreshTokenId_0) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 10:43:07.739 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:43:07.740 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:43:07.740 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.740 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.740 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:43:07.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:43:07.742 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:43:07.742 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.742 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.743 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:43:07.743 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:43:07.743 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.743 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.744 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:43:07.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 10:43:07.745 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:43:07.745 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:43:07.745 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.745 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.745 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:43:07.745 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:43:07.745 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:43:07.745 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:43:07.745 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.746 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.746 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:43:07.746 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:43:07.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:43:07.746 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:43:07.746 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 10:43:07.747 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 10:43:07.747 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:43:07.747 +05:30 [DBG] Committing transaction.
2024-08-25 10:43:07.748 +05:30 [DBG] Committed transaction.
2024-08-25 10:43:07.748 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.748 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.748 +05:30 [DBG] Disposing transaction.
2024-08-25 10:43:07.748 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:43:07.748 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:43:07.748 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:43:07.748 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:43:07.749 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:43:07.749 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:43:07.749 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.749 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.749 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:43:07.749 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:43:07.749 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:43:07.749 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:43:07.749 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 10:43:07.750 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 10:43:07.750 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:43:07.750 +05:30 [DBG] Committing transaction.
2024-08-25 10:43:07.750 +05:30 [DBG] Committed transaction.
2024-08-25 10:43:07.750 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.750 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:43:07.750 +05:30 [DBG] Disposing transaction.
2024-08-25 10:43:07.750 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:43:07.750 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:43:07.751 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:43:07.751 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 10:43:07.751 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 10:43:07.751 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:07.751 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:43:07.751 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 26.9225ms
2024-08-25 10:43:07.751 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000004": started reading request body.
2024-08-25 10:43:07.751 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000004": done reading request body.
2024-08-25 10:43:07.758 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 146
2024-08-25 10:43:07.759 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:43:07.759 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:07.759 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:07.759 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:07.760 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:43:07.760 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:43:07.760 +05:30 [DBG] Authorization was successful.
2024-08-25 10:43:07.760 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:43:07.760 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:07.760 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000005": started reading request body.
2024-08-25 10:43:07.760 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000005": done reading request body.
2024-08-25 10:43:07.761 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 10:43:07.761 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 10:43:07.762 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:07.762 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:07.762 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 400 null application/problem+json 3.3512ms
2024-08-25 10:43:58.504 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 10:43:58.505 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:43:58.505 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:43:58.505 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:58.506 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:58.506 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:43:58.506 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:58.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.8286ms
2024-08-25 10:43:58.508 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 146
2024-08-25 10:43:58.508 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:43:58.509 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:58.509 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:43:58.509 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:43:58.509 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:43:58.509 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:43:58.510 +05:30 [DBG] Authorization was successful.
2024-08-25 10:43:58.510 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:43:58.510 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:58.510 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000007": started reading request body.
2024-08-25 10:43:58.510 +05:30 [DBG] Connection id "0HN64MA3L11TL", Request id "0HN64MA3L11TL:00000007": done reading request body.
2024-08-25 10:43:58.512 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 10:43:58.512 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 10:43:58.513 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:43:58.513 +05:30 [DBG] Connection id "0HN64MA3L11TL" completed keep alive response.
2024-08-25 10:43:58.513 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 400 null application/problem+json 4.8932ms
2024-08-25 10:44:35.827 +05:30 [DBG] Connection id "0HN64MA3L11TL" received FIN.
2024-08-25 10:44:35.829 +05:30 [DBG] Connection id "0HN64MA3L11TL" disconnecting.
2024-08-25 10:44:35.829 +05:30 [DBG] Connection id "0HN64MA3L11TL" stopped.
2024-08-25 10:44:35.829 +05:30 [DBG] Connection id "0HN64MA3L11TL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:45:01.390 +05:30 [DBG] Connection id "0HN64MA3L11TM" accepted.
2024-08-25 10:45:01.391 +05:30 [DBG] Connection id "0HN64MA3L11TM" started.
2024-08-25 10:45:01.391 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:45:01.391 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:45:01.391 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:45:01.391 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:45:01.391 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:45:01.392 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:45:01.392 +05:30 [DBG] Connection id "0HN64MA3L11TM" completed keep alive response.
2024-08-25 10:45:01.392 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7791ms
2024-08-25 10:45:01.393 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 10:45:01.393 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:45:01.393 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:45:01.393 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:45:01.393 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:45:01.394 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:45:01.394 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:45:01.394 +05:30 [DBG] Authorization was successful.
2024-08-25 10:45:01.394 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:45:01.394 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:45:01.394 +05:30 [DBG] Connection id "0HN64MA3L11TM", Request id "0HN64MA3L11TM:00000002": started reading request body.
2024-08-25 10:45:01.394 +05:30 [DBG] Connection id "0HN64MA3L11TM", Request id "0HN64MA3L11TM:00000002": done reading request body.
2024-08-25 10:45:01.395 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:45:01.397 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:45:01.397 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:45:01.397 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:45:01.398 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:45:01.398 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:45:01.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 10:45:01.400 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:45:01.400 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:45:01.400 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:45:01.400 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:45:01.400 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:45:01.400 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:45:01.400 +05:30 [DBG] Connection id "0HN64MA3L11TM" completed keep alive response.
2024-08-25 10:45:01.400 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:45:01.400 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.3764ms
2024-08-25 10:45:03.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 10:45:03.969 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:45:03.969 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:45:03.969 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:45:03.969 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:45:03.969 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:45:03.969 +05:30 [DBG] Connection id "0HN64MA3L11TM" completed keep alive response.
2024-08-25 10:45:03.969 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6572ms
2024-08-25 10:45:03.970 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 10:45:03.970 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:45:03.970 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:45:03.970 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:45:03.970 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:45:03.971 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:45:03.971 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:45:03.971 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:45:03.971 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:45:03.972 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:45:03.972 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:45:03.972 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:45:03.972 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:45:03.974 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:45:03.974 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:45:03.975 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:45:03.976 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:45:03.976 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:45:03.976 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:45:03.976 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:45:03.976 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:45:03.976 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:45:03.976 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:45:03.977 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:45:03.977 +05:30 [DBG] Connection id "0HN64MA3L11TM" completed keep alive response.
2024-08-25 10:45:03.977 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:45:03.977 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 6.837ms
2024-08-25 10:46:03.361 +05:30 [DBG] Connection id "0HN64MA3L11TM" received FIN.
2024-08-25 10:46:03.362 +05:30 [DBG] Connection id "0HN64MA3L11TM" disconnecting.
2024-08-25 10:46:03.362 +05:30 [DBG] Connection id "0HN64MA3L11TM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:46:03.363 +05:30 [DBG] Connection id "0HN64MA3L11TM" stopped.
2024-08-25 10:46:29.957 +05:30 [DBG] Connection id "0HN64MA3L11TN" accepted.
2024-08-25 10:46:29.958 +05:30 [DBG] Connection id "0HN64MA3L11TN" started.
2024-08-25 10:46:29.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 10:46:29.959 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:46:29.959 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:46:29.960 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:46:29.960 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:46:29.960 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:46:29.960 +05:30 [DBG] Connection id "0HN64MA3L11TN" completed keep alive response.
2024-08-25 10:46:29.960 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.588ms
2024-08-25 10:46:29.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 10:46:29.962 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 10:46:29.962 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:46:29.962 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:46:29.962 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:46:29.962 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:46:29.962 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:46:29.962 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:46:29.962 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:46:29.963 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:46:29.963 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:46:29.963 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:46:29.963 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:46:29.964 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:46:29.964 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:46:29.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 10:46:29.965 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:46:29.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:46:29.966 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:46:29.966 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:46:29.966 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:46:29.966 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:46:29.966 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:46:29.966 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 10:46:29.966 +05:30 [DBG] Connection id "0HN64MA3L11TN" completed keep alive response.
2024-08-25 10:46:29.966 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:46:29.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.9499ms
2024-08-25 10:47:00.757 +05:30 [DBG] Connection id "0HN64MA3L11TN" received FIN.
2024-08-25 10:47:00.758 +05:30 [DBG] Connection id "0HN64MA3L11TN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:47:00.759 +05:30 [DBG] Connection id "0HN64MA3L11TN" disconnecting.
2024-08-25 10:47:00.759 +05:30 [DBG] Connection id "0HN64MA3L11TN" stopped.
2024-08-25 10:47:03.978 +05:30 [DBG] Connection id "0HN64MA3L11TO" accepted.
2024-08-25 10:47:03.979 +05:30 [DBG] Connection id "0HN64MA3L11TO" started.
2024-08-25 10:47:03.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 10:47:03.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:47:03.980 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:03.980 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:03.980 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:03.980 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:03.980 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:03.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.8191ms
2024-08-25 10:47:03.981 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 141
2024-08-25 10:47:03.982 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 10:47:03.982 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:47:03.982 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:03.982 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:03.982 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:03.982 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:03.982 +05:30 [DBG] Authorization was successful.
2024-08-25 10:47:03.982 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:03.983 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:47:03.983 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000002": started reading request body.
2024-08-25 10:47:03.983 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000002": done reading request body.
2024-08-25 10:47:03.987 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:03.989 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2))'
2024-08-25 10:47:03.993 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE ((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 10:47:03.993 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:03.994 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:03.994 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:03.994 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:03.994 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 10:47:03.997 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 10:47:03.997 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:03.997 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:03.997 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.000 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .Where(g => g.GenderCode.Equals(__genderCode_0))
    .Select(s => s.GenderId)
    .FirstOrDefault()'
2024-08-25 10:47:04.002 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) g.GenderId
            FROM Gender AS g
            WHERE g.GenderCode == @__genderCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 10:47:04.006 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:04.006 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:04.006 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.006 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.006 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 10:47:04.007 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 10:47:04.007 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:04.007 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.007 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.013 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.023 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.023 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.023 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.024 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:47:04.024 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.024 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.024 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:47:04.025 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:47:04.027 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:04.027 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:04.027 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 10:47:04.029 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 10:47:04.035 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 10:47:04.037 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:04.037 +05:30 [DBG] Committing transaction.
2024-08-25 10:47:04.038 +05:30 [DBG] Committed transaction.
2024-08-25 10:47:04.038 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.038 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.038 +05:30 [DBG] Disposing transaction.
2024-08-25 10:47:04.039 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.039 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:47:04.039 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.039 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.040 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.040 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:47:04.040 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.040 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.040 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:47:04.040 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:47:04.040 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:04.040 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:04.040 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 10:47:04.041 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 10:47:04.041 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:04.041 +05:30 [DBG] Committing transaction.
2024-08-25 10:47:04.042 +05:30 [DBG] Committed transaction.
2024-08-25 10:47:04.042 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.042 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.042 +05:30 [DBG] Disposing transaction.
2024-08-25 10:47:04.042 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.042 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.043 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.044 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.044 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 10:47:04.044 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 10:47:04.044 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.044 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.044 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 10:47:04.044 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 10:47:04.046 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 10:47:04.047 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:04.047 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:04.047 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 10:47:04.050 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 10:47:04.050 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:04.050 +05:30 [DBG] Committing transaction.
2024-08-25 10:47:04.051 +05:30 [DBG] Committed transaction.
2024-08-25 10:47:04.051 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.051 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.051 +05:30 [DBG] Disposing transaction.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.051 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.052 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.052 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 10:47:04.052 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 10:47:04.052 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 10:47:04.053 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 10:47:04.053 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:04.053 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:04.053 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 71.5073ms
2024-08-25 10:47:04.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 10:47:04.110 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 10:47:04.110 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:04.111 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:04.111 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:04.111 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:04.111 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:04.111 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.1727ms
2024-08-25 10:47:04.113 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 10:47:04.113 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 10:47:04.113 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 10:47:04.113 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:04.113 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:04.114 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:04.114 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:04.114 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:04.114 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 10:47:04.115 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:04.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:04.115 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:04.115 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.115 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.116 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 10:47:04.116 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 10:47:04.116 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.116 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.116 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.116 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.116 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 10:47:04.116 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:04.116 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.116 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:04.117 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:47:04.117 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:47:04.117 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 10:47:04.117 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:04.117 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:04.117 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.2217ms
2024-08-25 10:47:31.182 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:47:31.182 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:47:31.183 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:31.183 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:31.183 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:31.183 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:31.183 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:31.183 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.5885ms
2024-08-25 10:47:31.185 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 26
2024-08-25 10:47:31.185 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:47:31.185 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:31.185 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:31.185 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:31.186 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:31.186 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:31.186 +05:30 [DBG] Authorization was successful.
2024-08-25 10:47:31.186 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:31.186 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:31.186 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000006": started reading request body.
2024-08-25 10:47:31.186 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000006": done reading request body.
2024-08-25 10:47:31.187 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:31.189 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:31.190 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:31.190 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:31.191 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:31.191 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:47:31.193 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:47:31.193 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:31.193 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:31.194 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:31.194 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:47:31.194 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:47:31.194 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:31.194 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:31.194 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:31.194 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.7991ms
2024-08-25 10:47:36.432 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 10:47:36.433 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:47:36.433 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:36.433 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:36.433 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:36.433 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:36.434 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:36.434 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.368ms
2024-08-25 10:47:36.435 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 20
2024-08-25 10:47:36.435 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 10:47:36.435 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:36.435 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:36.435 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:36.436 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:36.436 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:36.436 +05:30 [DBG] Authorization was successful.
2024-08-25 10:47:36.436 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:36.436 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:36.436 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000008": started reading request body.
2024-08-25 10:47:36.436 +05:30 [DBG] Connection id "0HN64MA3L11TO", Request id "0HN64MA3L11TO:00000008": done reading request body.
2024-08-25 10:47:36.438 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:36.440 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:36.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-25 10:47:36.441 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:36.442 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:36.442 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:47:36.444 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 10:47:36.445 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:36.445 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:36.445 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:36.446 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:47:36.446 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:47:36.446 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 10:47:36.446 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:36.447 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:36.447 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.7282ms
2024-08-25 10:47:43.976 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/12 - null 0
2024-08-25 10:47:43.976 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/12'
2024-08-25 10:47:43.976 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:43.976 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:43.976 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:43.976 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:43.976 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:43.976 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/12 - 204 null null 0.8662ms
2024-08-25 10:47:43.977 +05:30 [DBG] Connection id "0HN64MA3L11TP" accepted.
2024-08-25 10:47:43.977 +05:30 [DBG] Connection id "0HN64MA3L11TP" started.
2024-08-25 10:47:43.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/12 - null 0
2024-08-25 10:47:43.977 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/12'
2024-08-25 10:47:43.978 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 10:47:43.978 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:43.978 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/12 - null null
2024-08-25 10:47:43.978 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:43.978 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/12'
2024-08-25 10:47:43.978 +05:30 [DBG] The request is a preflight request.
2024-08-25 10:47:43.978 +05:30 [DBG] Connection id "0HN64MA3L11TP" completed keep alive response.
2024-08-25 10:47:43.978 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/12 - 204 null null 0.7272ms
2024-08-25 10:47:43.978 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/12'
2024-08-25 10:47:43.978 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 10:47:43.978 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:43.978 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:43.979 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:43.979 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:43.979 +05:30 [DBG] Authorization was successful.
2024-08-25 10:47:43.979 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:43.979 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 10:47:43.979 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/12 - null null
2024-08-25 10:47:43.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/12'
2024-08-25 10:47:43.979 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync' with route pattern '/api/patients/identities/patient/{id}' is valid for the request path '/api/patients/identities/patient/12'
2024-08-25 10:47:43.979 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 10:47:43.979 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 10:47:43.980 +05:30 [INF] CORS policy execution successful.
2024-08-25 10:47:43.980 +05:30 [DBG] Successfully validated the token.
2024-08-25 10:47:43.980 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 10:47:43.980 +05:30 [DBG] Authorization was successful.
2024-08-25 10:47:43.980 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:43.980 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 10:47:43.980 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 10:47:43.980 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:43.981 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 10:47:43.981 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:43.981 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 10:47:43.981 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:43.982 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 10:47:43.982 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 10:47:43.983 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-25 10:47:43.984 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 10:47:43.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 10:47:43.984 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:43.984 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:43.985 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:43.985 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:47:43.985 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 10:47:43.985 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 10:47:43.985 +05:30 [DBG] Connection id "0HN64MA3L11TO" completed keep alive response.
2024-08-25 10:47:43.985 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:43.985 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/12 - 200 null application/json; charset=utf-8 7.5291ms
2024-08-25 10:47:44.002 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 10:47:44.002 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 10:47:44.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 10:47:44.002 +05:30 [DBG] A data reader was disposed.
2024-08-25 10:47:44.002 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 10:47:44.003 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 10:47:44.003 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 10:47:44.003 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 10:47:44.003 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 10:47:44.003 +05:30 [DBG] Connection id "0HN64MA3L11TP" completed keep alive response.
2024-08-25 10:47:44.003 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 10:47:44.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/12 - 200 null application/json; charset=utf-8 23.8497ms
2024-08-25 10:48:33.032 +05:30 [DBG] Connection id "0HN64MA3L11TO" received FIN.
2024-08-25 10:48:33.032 +05:30 [DBG] Connection id "0HN64MA3L11TP" received FIN.
2024-08-25 10:48:33.033 +05:30 [DBG] Connection id "0HN64MA3L11TO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 10:48:33.033 +05:30 [DBG] Connection id "0HN64MA3L11TP" disconnecting.
2024-08-25 10:48:33.034 +05:30 [DBG] Connection id "0HN64MA3L11TO" disconnecting.
2024-08-25 10:48:33.034 +05:30 [DBG] Connection id "0HN64MA3L11TP" stopped.
2024-08-25 10:48:33.034 +05:30 [DBG] Connection id "0HN64MA3L11TO" stopped.
2024-08-25 10:48:33.034 +05:30 [DBG] Connection id "0HN64MA3L11TP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:07:44.642 +05:30 [DBG] Connection id "0HN64MA3L11TQ" accepted.
2024-08-25 11:07:44.643 +05:30 [DBG] Connection id "0HN64MA3L11TQ" started.
2024-08-25 11:07:44.644 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 11:07:44.644 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 11:07:44.644 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:07:44.644 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:07:44.644 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:07:44.644 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:07:44.644 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:07:44.644 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.7164ms
2024-08-25 11:07:44.645 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 11:07:44.645 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 11:07:44.646 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:07:44.646 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:07:44.646 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:07:44.646 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 11:07:44.646 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:07:44.646 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:07:44.646 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:00000002": started reading request body.
2024-08-25 11:07:44.646 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:00000002": done reading request body.
2024-08-25 11:07:44.647 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 11:07:44.783 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:07:44.783 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:07:44.783 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:07:44.783 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.797 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.797 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:07:44.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:07:44.798 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:07:44.798 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.798 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.902 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 11:07:44.902 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:07:44.902 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:07:44.902 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.902 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.902 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:07:44.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:07:44.903 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:44.903 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:07:44.903 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.903 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.903 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:44.903 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:07:44.904 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:07:44.904 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:07:44.904 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.904 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.904 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:07:44.904 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:07:44.904 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:07:44.904 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:07:44.904 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 11:07:44.905 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 11:07:44.905 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:07:44.905 +05:30 [DBG] Committing transaction.
2024-08-25 11:07:44.906 +05:30 [DBG] Committed transaction.
2024-08-25 11:07:44.906 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.906 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.906 +05:30 [DBG] Disposing transaction.
2024-08-25 11:07:44.906 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:44.906 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:07:44.906 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:44.906 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:07:44.906 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:07:44.906 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:07:44.906 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.906 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.906 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:07:44.907 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:07:44.907 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:07:44.907 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:07:44.907 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:07:44.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:07:44.908 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:07:44.908 +05:30 [DBG] Committing transaction.
2024-08-25 11:07:44.908 +05:30 [DBG] Committed transaction.
2024-08-25 11:07:44.908 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.908 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:07:44.908 +05:30 [DBG] Disposing transaction.
2024-08-25 11:07:44.908 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:44.908 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:07:44.908 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:07:44.908 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 11:07:44.908 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:07:44.909 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:07:44.909 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:07:44.909 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 263.2575ms
2024-08-25 11:07:47.590 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null 0
2024-08-25 11:07:47.590 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 11:07:47.590 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:07:47.590 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:07:47.590 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:07:47.590 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:07:47.590 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:07:47.590 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.7089ms
2024-08-25 11:07:47.591 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 11:07:47.591 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 11:07:47.591 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 11:07:47.591 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:07:47.592 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:07:47.592 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:07:47.592 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:07:47.592 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:07:47.592 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 11:07:47.593 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:07:47.593 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:07:47.593 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:07:47.594 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:07:47.594 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:07:47.594 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 11:07:47.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 11:07:47.595 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:47.595 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:47.595 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:07:47.595 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:07:47.596 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:07:47.596 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:07:47.596 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:07:47.596 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:07:47.596 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 11:07:47.596 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:07:47.596 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:07:47.596 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 5.287ms
2024-08-25 11:08:03.282 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 11:08:03.283 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 11:08:03.283 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:08:03.283 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:03.283 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:03.283 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:08:03.283 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:03.283 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.0669ms
2024-08-25 11:08:03.284 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 11:08:03.285 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 11:08:03.285 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:08:03.285 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:03.285 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:03.286 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:08:03.286 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:08:03.286 +05:30 [DBG] Authorization was successful.
2024-08-25 11:08:03.286 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:08:03.286 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:08:03.287 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:00000006": started reading request body.
2024-08-25 11:08:03.287 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:00000006": done reading request body.
2024-08-25 11:08:03.288 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:08:03.290 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:03.291 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:03.291 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:03.292 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:03.292 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 11:08:03.294 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 11:08:03.295 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:03.295 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:03.295 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:03.295 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:08:03.295 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:08:03.296 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:08:03.296 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:03.296 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:08:03.296 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.3987ms
2024-08-25 11:08:10.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:08:10.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:08:10.979 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:08:10.979 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:10.979 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:10.980 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:08:10.980 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:10.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.9634ms
2024-08-25 11:08:10.981 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:08:10.981 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:08:10.981 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:08:10.981 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:10.981 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:10.981 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:08:10.982 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:08:10.982 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:08:10.982 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:08:10.982 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:08:10.983 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:10.983 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:10.983 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:10.984 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:10.985 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:08:10.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:08:10.987 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:10.987 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:10.987 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:10.987 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:10.987 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:10.987 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:08:10.987 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:08:10.987 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:08:10.988 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:10.988 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:08:10.988 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 7.0032ms
2024-08-25 11:08:39.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:08:39.658 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:08:39.658 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:08:39.658 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:39.658 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:39.659 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:08:39.659 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:39.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 2.2497ms
2024-08-25 11:08:39.660 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 143
2024-08-25 11:08:39.660 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:08:39.660 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:08:39.660 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:39.661 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:39.661 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:08:39.661 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:08:39.661 +05:30 [DBG] Authorization was successful.
2024-08-25 11:08:39.661 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:08:39.661 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:08:39.661 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:0000000A": started reading request body.
2024-08-25 11:08:39.661 +05:30 [DBG] Connection id "0HN64MA3L11TQ", Request id "0HN64MA3L11TQ:0000000A": done reading request body.
2024-08-25 11:08:39.663 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:08:39.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.664 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.665 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 11:08:39.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 11:08:39.666 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.666 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.666 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.666 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.667 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.667 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.667 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.667 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:08:39.668 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:08:39.668 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.668 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.668 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.669 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.670 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.670 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.670 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.670 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:08:39.670 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.671 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.671 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:08:39.671 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:08:39.672 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.672 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.672 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 11:08:39.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 11:08:39.674 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 11:08:39.675 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.675 +05:30 [DBG] Committing transaction.
2024-08-25 11:08:39.676 +05:30 [DBG] Committed transaction.
2024-08-25 11:08:39.676 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.676 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.676 +05:30 [DBG] Disposing transaction.
2024-08-25 11:08:39.677 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.677 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:08:39.677 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.677 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.677 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.677 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:08:39.677 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.678 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.678 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:08:39.678 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:08:39.678 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.678 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.679 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:08:39.679 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:08:39.679 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.680 +05:30 [DBG] Committing transaction.
2024-08-25 11:08:39.680 +05:30 [DBG] Committed transaction.
2024-08-25 11:08:39.680 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.680 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.680 +05:30 [DBG] Disposing transaction.
2024-08-25 11:08:39.680 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.680 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.681 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.682 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.682 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.682 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:08:39.682 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:08:39.682 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.682 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.683 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:08:39.683 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:08:39.683 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 11:08:39.683 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.683 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.684 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 11:08:39.686 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 11:08:39.686 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.686 +05:30 [DBG] Committing transaction.
2024-08-25 11:08:39.686 +05:30 [DBG] Committed transaction.
2024-08-25 11:08:39.687 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.687 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.687 +05:30 [DBG] Disposing transaction.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.687 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.688 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 11:08:39.688 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 11:08:39.688 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:08:39.688 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:08:39.688 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:39.688 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:08:39.688 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 27.916ms
2024-08-25 11:08:39.727 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:08:39.727 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:08:39.727 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:08:39.727 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:39.727 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:39.727 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:08:39.727 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:39.727 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.5012ms
2024-08-25 11:08:39.728 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:08:39.729 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:08:39.729 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:08:39.729 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:08:39.729 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:08:39.729 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:08:39.729 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:08:39.729 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:08:39.729 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:08:39.729 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:08:39.730 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:08:39.730 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:08:39.730 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.730 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.730 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:08:39.731 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:08:39.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.731 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:08:39.731 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:08:39.731 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.731 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:08:39.731 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:08:39.731 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:08:39.731 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:08:39.731 +05:30 [DBG] Connection id "0HN64MA3L11TQ" completed keep alive response.
2024-08-25 11:08:39.731 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:08:39.732 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.1131ms
2024-08-25 11:09:17.570 +05:30 [DBG] Connection id "0HN64MA3L11TQ" received FIN.
2024-08-25 11:09:17.572 +05:30 [DBG] Connection id "0HN64MA3L11TQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:09:17.572 +05:30 [DBG] Connection id "0HN64MA3L11TQ" disconnecting.
2024-08-25 11:09:17.573 +05:30 [DBG] Connection id "0HN64MA3L11TQ" stopped.
2024-08-25 11:09:29.748 +05:30 [DBG] Connection id "0HN64MA3L11TR" accepted.
2024-08-25 11:09:29.748 +05:30 [DBG] Connection id "0HN64MA3L11TR" started.
2024-08-25 11:09:29.748 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:09:29.749 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:09:29.749 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:09:29.749 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:09:29.749 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:09:29.749 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:09:29.749 +05:30 [DBG] Connection id "0HN64MA3L11TR" completed keep alive response.
2024-08-25 11:09:29.749 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.9872ms
2024-08-25 11:09:29.750 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 161
2024-08-25 11:09:29.751 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:09:29.751 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:09:29.751 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:09:29.751 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:09:29.751 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:09:29.751 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:09:29.752 +05:30 [DBG] Authorization was successful.
2024-08-25 11:09:29.752 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:09:29.752 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:09:29.752 +05:30 [DBG] Connection id "0HN64MA3L11TR", Request id "0HN64MA3L11TR:00000002": started reading request body.
2024-08-25 11:09:29.752 +05:30 [DBG] Connection id "0HN64MA3L11TR", Request id "0HN64MA3L11TR:00000002": done reading request body.
2024-08-25 11:09:29.770 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:09:29.771 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .Where(i => i.IdentityTypeCode.Equals(__identityTypeCode_0))
    .Select(s => s.IdentityTypeId)
    .FirstOrDefault()'
2024-08-25 11:09:29.772 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) i.IdentityTypeId
            FROM IdentityType AS i
            WHERE i.IdentityTypeCode == @__identityTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 11:09:29.772 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:09:29.772 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:09:29.772 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.773 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.773 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:09:29.773 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:09:29.774 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:09:29.774 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.774 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.775 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Where(p => p.PatientId.Equals(__patientId_0) && p.IdentityTypeId.Equals(__identityTypeId_1) && p.IdentityNumber.Equals(__Trim_2) && p.IsActive)
    .FirstOrDefault()'
2024-08-25 11:09:29.777 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientIdentity>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientIdentity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientIdentity.PatientIdentityId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientIdentity.Expiry (DateTime?), 1], [Property: PatientIdentity.IdentityNumber (string) Required, 2], [Property: PatientIdentity.IdentityTypeId (byte) Required, 3], [Property: PatientIdentity.IsActive (bool) Required, 4], [Property: PatientIdentity.IssuedBy (string) Required, 5], [Property: PatientIdentity.PatientId (long) Required, 6], [Property: PatientIdentity.PlaceIssued (string), 7] }
            SELECT TOP(1) p.PatientIdentityId, p.Expiry, p.IdentityNumber, p.IdentityTypeId, p.IsActive, p.IssuedBy, p.PatientId, p.PlaceIssued
            FROM PatientIdentity AS p
            WHERE (((p.PatientId == @__patientId_0) && (p.IdentityTypeId == @__identityTypeId_1)) && (p.IdentityNumber == @__Trim_2)) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentity>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 11:09:29.778 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:09:29.778 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:09:29.778 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.778 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.778 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:09:29.780 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:09:29.780 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:09:29.780 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.780 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.782 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.791 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.791 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:09:29.791 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:09:29.793 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:09:29.793 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.793 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.793 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:09:29.793 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:09:29.794 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:09:29.794 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:09:29.794 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 11:09:29.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 11:09:29.795 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 11:09:29.795 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:09:29.795 +05:30 [DBG] Committing transaction.
2024-08-25 11:09:29.796 +05:30 [DBG] Committed transaction.
2024-08-25 11:09:29.796 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.796 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.796 +05:30 [DBG] Disposing transaction.
2024-08-25 11:09:29.797 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.797 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:09:29.797 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:09:29.798 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:09:29.798 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.798 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.798 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:09:29.798 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:09:29.798 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 11:09:29.799 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:09:29.799 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:09:29.799 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 11:09:29.800 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 11:09:29.800 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:09:29.801 +05:30 [DBG] Committing transaction.
2024-08-25 11:09:29.801 +05:30 [DBG] Committed transaction.
2024-08-25 11:09:29.801 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.801 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:09:29.801 +05:30 [DBG] Disposing transaction.
2024-08-25 11:09:29.801 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.802 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:29.803 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 11:09:29.803 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 11:09:29.803 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:09:29.804 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:09:29.804 +05:30 [DBG] Connection id "0HN64MA3L11TR" completed keep alive response.
2024-08-25 11:09:29.804 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:09:29.804 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 53.1567ms
2024-08-25 11:09:36.898 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:09:36.898 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:09:36.898 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:09:36.898 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:09:36.898 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:09:36.898 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:09:36.898 +05:30 [DBG] Connection id "0HN64MA3L11TR" completed keep alive response.
2024-08-25 11:09:36.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.8268ms
2024-08-25 11:09:36.900 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:09:36.900 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:09:36.900 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:09:36.900 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:09:36.900 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:09:36.901 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:09:36.901 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:09:36.901 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:09:36.901 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:09:36.902 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:09:36.903 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:09:36.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:09:36.903 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:09:36.905 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:09:36.905 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:09:36.906 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:09:36.906 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:36.907 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:36.907 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:36.907 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:36.907 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:09:36.907 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:09:36.907 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:09:36.907 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:09:36.907 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:09:36.907 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:09:36.907 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:09:36.907 +05:30 [DBG] Connection id "0HN64MA3L11TR" completed keep alive response.
2024-08-25 11:09:36.907 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:09:36.907 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 7.2782ms
2024-08-25 11:10:31.604 +05:30 [DBG] Connection id "0HN64MA3L11TR" received FIN.
2024-08-25 11:10:31.605 +05:30 [DBG] Connection id "0HN64MA3L11TR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:10:31.606 +05:30 [DBG] Connection id "0HN64MA3L11TR" disconnecting.
2024-08-25 11:10:31.606 +05:30 [DBG] Connection id "0HN64MA3L11TR" stopped.
2024-08-25 11:10:51.391 +05:30 [DBG] Connection id "0HN64MA3L11TS" accepted.
2024-08-25 11:10:51.391 +05:30 [DBG] Connection id "0HN64MA3L11TS" started.
2024-08-25 11:10:51.391 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:10:51.391 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:10:51.391 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:10:51.391 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:10:51.391 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:10:51.392 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:10:51.392 +05:30 [DBG] Connection id "0HN64MA3L11TS" completed keep alive response.
2024-08-25 11:10:51.392 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.4177ms
2024-08-25 11:10:51.393 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:10:51.393 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:10:51.393 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:10:51.393 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:10:51.393 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:10:51.393 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:10:51.394 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:10:51.394 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:10:51.394 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:10:51.394 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:10:51.395 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:10:51.395 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:10:51.395 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:10:51.396 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:10:51.396 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:10:51.396 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:10:51.396 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:10:51.396 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:10:51.396 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:10:51.396 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:10:51.396 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:10:51.396 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:10:51.396 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:10:51.396 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:10:51.397 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:10:51.397 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:10:51.397 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:10:51.397 +05:30 [DBG] Connection id "0HN64MA3L11TS" completed keep alive response.
2024-08-25 11:10:51.397 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:10:51.397 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.0391ms
2024-08-25 11:11:21.913 +05:30 [DBG] Connection id "0HN64MA3L11TS" received FIN.
2024-08-25 11:11:21.913 +05:30 [DBG] Connection id "0HN64MA3L11TS" disconnecting.
2024-08-25 11:11:21.913 +05:30 [DBG] Connection id "0HN64MA3L11TS" stopped.
2024-08-25 11:11:21.917 +05:30 [DBG] Connection id "0HN64MA3L11TS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:50:16.399 +05:30 [DBG] Connection id "0HN64MA3L11TT" accepted.
2024-08-25 11:50:16.400 +05:30 [DBG] Connection id "0HN64MA3L11TT" started.
2024-08-25 11:50:16.400 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 11:50:16.400 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 11:50:16.401 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:50:16.401 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:50:16.401 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:50:16.401 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:50:16.401 +05:30 [DBG] Connection id "0HN64MA3L11TT" completed keep alive response.
2024-08-25 11:50:16.401 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.716ms
2024-08-25 11:50:16.402 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 11:50:16.402 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 11:50:16.402 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:50:16.402 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:50:16.402 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:50:16.402 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 11:50:16.402 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:50:16.402 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:50:16.403 +05:30 [DBG] Connection id "0HN64MA3L11TT", Request id "0HN64MA3L11TT:00000002": started reading request body.
2024-08-25 11:50:16.403 +05:30 [DBG] Connection id "0HN64MA3L11TT", Request id "0HN64MA3L11TT:00000002": done reading request body.
2024-08-25 11:50:16.403 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 11:50:16.539 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:50:16.540 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:50:16.540 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:50:16.540 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.554 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.554 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:50:16.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:50:16.555 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:50:16.555 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.555 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.658 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 11:50:16.659 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:50:16.659 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:50:16.659 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.659 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.659 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:50:16.660 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 11:50:16.660 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:50:16.660 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:50:16.660 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.660 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.660 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:50:16.660 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:50:16.660 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:50:16.660 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:50:16.660 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.661 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.661 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:50:16.661 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:50:16.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:50:16.661 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:50:16.661 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 11:50:16.662 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 11:50:16.662 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:50:16.662 +05:30 [DBG] Committing transaction.
2024-08-25 11:50:16.664 +05:30 [DBG] Committed transaction.
2024-08-25 11:50:16.664 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.664 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.664 +05:30 [DBG] Disposing transaction.
2024-08-25 11:50:16.664 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:50:16.664 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:50:16.664 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:50:16.664 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:50:16.664 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:50:16.664 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:50:16.664 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.665 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:50:16.665 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:50:16.665 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:50:16.665 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:50:16.665 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:50:16.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:50:16.666 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:50:16.666 +05:30 [DBG] Committing transaction.
2024-08-25 11:50:16.666 +05:30 [DBG] Committed transaction.
2024-08-25 11:50:16.666 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.666 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:50:16.666 +05:30 [DBG] Disposing transaction.
2024-08-25 11:50:16.666 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:50:16.666 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:50:16.667 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:50:16.667 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 11:50:16.667 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 11:50:16.667 +05:30 [DBG] Connection id "0HN64MA3L11TT" completed keep alive response.
2024-08-25 11:50:16.667 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:50:16.667 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 264.9387ms
2024-08-25 11:50:59.828 +05:30 [DBG] Connection id "0HN64MA3L11TT" received FIN.
2024-08-25 11:50:59.828 +05:30 [DBG] Connection id "0HN64MA3L11TT" disconnecting.
2024-08-25 11:50:59.829 +05:30 [DBG] Connection id "0HN64MA3L11TT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:50:59.830 +05:30 [DBG] Connection id "0HN64MA3L11TT" stopped.
2024-08-25 11:51:23.564 +05:30 [DBG] Connection id "0HN64MA3L11TU" accepted.
2024-08-25 11:51:23.564 +05:30 [DBG] Connection id "0HN64MA3L11TU" started.
2024-08-25 11:51:23.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 11:51:23.564 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 11:51:23.564 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:51:23.565 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:23.565 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:23.565 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:51:23.565 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:23.565 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.1582ms
2024-08-25 11:51:23.566 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 11:51:23.566 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 11:51:23.567 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:51:23.567 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:23.567 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:23.567 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:51:23.567 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:51:23.568 +05:30 [DBG] Authorization was successful.
2024-08-25 11:51:23.568 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:51:23.568 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:51:23.568 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000002": started reading request body.
2024-08-25 11:51:23.568 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000002": done reading request body.
2024-08-25 11:51:23.569 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:51:23.571 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:23.571 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:23.571 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:23.571 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:23.572 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 11:51:23.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 11:51:23.573 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:23.573 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:23.573 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:23.573 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:51:23.573 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:51:23.573 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 11:51:23.574 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:23.574 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:51:23.574 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.7444ms
2024-08-25 11:51:26.416 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:51:26.416 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:51:26.417 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:51:26.417 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:26.417 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:26.417 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:51:26.417 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:26.417 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8497ms
2024-08-25 11:51:26.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:51:26.418 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:51:26.418 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:51:26.418 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:26.418 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:26.419 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:51:26.419 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:51:26.419 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:51:26.419 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:51:26.419 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:51:26.420 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:26.420 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:26.420 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:26.420 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:26.420 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:51:26.421 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:51:26.421 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:26.421 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:26.421 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:26.421 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:26.421 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:26.421 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:51:26.422 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:51:26.422 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:51:26.422 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:26.422 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:51:26.422 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.3816ms
2024-08-25 11:51:54.745 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:51:54.746 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:51:54.746 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:51:54.746 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:54.746 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:54.746 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:51:54.746 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:54.747 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.3302ms
2024-08-25 11:51:54.748 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 143
2024-08-25 11:51:54.748 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:51:54.748 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:51:54.748 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:54.748 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:54.748 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:51:54.748 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:51:54.749 +05:30 [DBG] Authorization was successful.
2024-08-25 11:51:54.749 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:51:54.749 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:51:54.749 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000006": started reading request body.
2024-08-25 11:51:54.749 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000006": done reading request body.
2024-08-25 11:51:54.750 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:51:54.751 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.752 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.752 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.752 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.752 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 11:51:54.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 11:51:54.753 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.754 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.754 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.754 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.754 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.754 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.754 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.755 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:51:54.755 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:51:54.755 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.755 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.755 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.756 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.756 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.756 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.756 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.756 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:51:54.756 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.756 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.757 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:51:54.757 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:51:54.757 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.757 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.757 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 11:51:54.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 11:51:54.759 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 11:51:54.759 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.759 +05:30 [DBG] Committing transaction.
2024-08-25 11:51:54.760 +05:30 [DBG] Committed transaction.
2024-08-25 11:51:54.760 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.760 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.760 +05:30 [DBG] Disposing transaction.
2024-08-25 11:51:54.760 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.760 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:51:54.760 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.760 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.761 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.761 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:51:54.761 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.761 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.761 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:51:54.762 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:51:54.762 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.762 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.762 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:51:54.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:51:54.764 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.764 +05:30 [DBG] Committing transaction.
2024-08-25 11:51:54.764 +05:30 [DBG] Committed transaction.
2024-08-25 11:51:54.764 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.764 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.765 +05:30 [DBG] Disposing transaction.
2024-08-25 11:51:54.765 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.765 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.765 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:51:54.765 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:51:54.765 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.766 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.766 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:51:54.766 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:51:54.766 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 11:51:54.766 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.766 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.766 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 11:51:54.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 11:51:54.768 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.768 +05:30 [DBG] Committing transaction.
2024-08-25 11:51:54.769 +05:30 [DBG] Committed transaction.
2024-08-25 11:51:54.769 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.769 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.769 +05:30 [DBG] Disposing transaction.
2024-08-25 11:51:54.769 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.769 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.769 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.770 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.770 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.770 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.770 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.770 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 11:51:54.770 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 11:51:54.770 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:51:54.770 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 11:51:54.770 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:54.771 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:51:54.771 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 22.8495ms
2024-08-25 11:51:54.804 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:51:54.804 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:51:54.804 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:51:54.804 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:54.804 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:54.804 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:51:54.804 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:54.804 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.5866ms
2024-08-25 11:51:54.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:51:54.805 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:51:54.806 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:51:54.806 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:51:54.806 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:51:54.806 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:51:54.806 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:51:54.806 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:51:54.806 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:51:54.806 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:51:54.807 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:51:54.807 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:51:54.807 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.807 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.807 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:51:54.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:51:54.808 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.808 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.808 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.808 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.808 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:51:54.808 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:51:54.809 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.809 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:51:54.809 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:51:54.809 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:51:54.809 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:51:54.809 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:51:54.810 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:51:54.810 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.2391ms
2024-08-25 11:52:00.007 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:52:00.007 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:52:00.008 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:52:00.008 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:00.008 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:00.008 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:52:00.008 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:00.008 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7688ms
2024-08-25 11:52:00.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:52:00.009 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:52:00.009 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:52:00.009 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:00.009 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:00.009 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:52:00.009 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:52:00.010 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:52:00.010 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:52:00.010 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:52:00.011 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:52:00.011 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:52:00.011 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:52:00.012 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:52:00.012 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:52:00.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:52:00.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:52:00.014 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:52:00.014 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:52:00.014 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:52:00.014 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:52:00.014 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:52:00.014 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:52:00.015 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:52:00.015 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:00.015 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:52:00.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 6.268ms
2024-08-25 11:52:08.892 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:52:08.892 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:52:08.892 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:52:08.893 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:08.893 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:08.893 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:52:08.893 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:08.893 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.8512ms
2024-08-25 11:52:08.894 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 129
2024-08-25 11:52:08.894 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:52:08.894 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:08.894 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:08.894 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:08.895 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:52:08.895 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:52:08.895 +05:30 [DBG] Authorization was successful.
2024-08-25 11:52:08.895 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:52:08.896 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:08.896 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:0000000C": started reading request body.
2024-08-25 11:52:08.896 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:0000000C": done reading request body.
2024-08-25 11:52:08.906 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 11:52:08.906 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 11:52:08.907 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:08.907 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:08.907 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 400 null application/problem+json 12.908ms
2024-08-25 11:52:31.084 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:52:31.085 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:52:31.085 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:52:31.085 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:31.085 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:31.085 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:52:31.085 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:31.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.5091ms
2024-08-25 11:52:31.087 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 129
2024-08-25 11:52:31.087 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:52:31.087 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:31.087 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:52:31.087 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:52:31.088 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:52:31.088 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:52:31.088 +05:30 [DBG] Authorization was successful.
2024-08-25 11:52:31.088 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:52:31.088 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:31.088 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:0000000E": started reading request body.
2024-08-25 11:52:31.088 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:0000000E": done reading request body.
2024-08-25 11:52:31.090 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 11:52:31.090 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 11:52:31.090 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:52:31.090 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:52:31.090 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 400 null application/problem+json 3.1893ms
2024-08-25 11:53:13.592 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:53:13.593 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:53:13.594 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:53:13.594 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:13.594 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:13.594 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:53:13.594 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:13.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.8311ms
2024-08-25 11:53:13.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:53:13.596 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:53:13.596 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:13.597 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:13.597 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:13.597 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:53:13.597 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:53:13.597 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:53:13.597 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:13.598 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:53:13.598 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:13.599 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:13.599 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:13.599 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:13.599 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:53:13.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:53:13.600 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:13.600 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:13.600 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:13.600 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:13.600 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:13.600 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:53:13.601 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:53:13.601 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:13.601 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:13.601 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:53:13.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.9452ms
2024-08-25 11:53:28.844 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:53:28.845 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:53:28.845 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:53:28.846 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:28.846 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:28.846 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:53:28.846 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:28.846 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.4564ms
2024-08-25 11:53:28.847 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 144
2024-08-25 11:53:28.848 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:53:28.848 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:53:28.848 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:28.848 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:28.848 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:53:28.848 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:53:28.849 +05:30 [DBG] Authorization was successful.
2024-08-25 11:53:28.849 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:53:28.849 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:53:28.849 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000012": started reading request body.
2024-08-25 11:53:28.849 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000012": done reading request body.
2024-08-25 11:53:28.855 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:53:28.855 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2) && !(p.PatientId.Equals(__patientId_3)))'
2024-08-25 11:53:28.861 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE (((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)) && Not(p.PatientId == @__patientId_3)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 11:53:28.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.863 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.863 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.864 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.864 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:53:28.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:53:28.865 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.865 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.865 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.865 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.865 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.865 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.865 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.865 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:53:28.866 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:53:28.866 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.866 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.866 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.868 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.PatientId.Equals(__patientId_0))
    .FirstOrDefault()'
2024-08-25 11:53:28.870 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE p.PatientId == @__patientId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 11:53:28.871 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.871 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.871 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.871 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.871 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:53:28.872 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:53:28.872 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.872 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.872 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.872 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.873 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.873 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.874 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.874 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.874 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:53:28.874 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:53:28.874 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.874 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.875 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.875 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.875 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:53:28.875 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:53:28.875 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:53:28.875 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.875 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.875 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:53:28.875 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:53:28.876 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.876 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.876 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:53:28.876 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:53:28.876 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.876 +05:30 [DBG] Committing transaction.
2024-08-25 11:53:28.877 +05:30 [DBG] Committed transaction.
2024-08-25 11:53:28.877 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.877 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.877 +05:30 [DBG] Disposing transaction.
2024-08-25 11:53:28.877 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.878 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:53:28.878 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.878 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.878 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:53:28.878 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:53:28.878 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:53:28.878 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.878 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.878 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:53:28.879 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:53:28.882 +05:30 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2024-08-25 11:53:28.882 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.882 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.882 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:53:28.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:53:28.883 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.883 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.883 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.883 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:53:28.883 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:53:28.883 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.884 +05:30 [DBG] Committing transaction.
2024-08-25 11:53:28.884 +05:30 [DBG] Committed transaction.
2024-08-25 11:53:28.884 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.884 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.884 +05:30 [DBG] Disposing transaction.
2024-08-25 11:53:28.884 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.884 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.884 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 2 entities written to the database.
2024-08-25 11:53:28.885 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:53:28.885 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:53:28.885 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:53:28.885 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:28.885 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:53:28.885 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 37.546ms
2024-08-25 11:53:28.940 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:53:28.940 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:53:28.940 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:53:28.940 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:28.940 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:28.941 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:53:28.941 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:28.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.2997ms
2024-08-25 11:53:28.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:53:28.943 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:53:28.943 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:53:28.943 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:28.943 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:28.943 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:53:28.943 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:53:28.943 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:53:28.943 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:53:28.944 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:53:28.944 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:28.944 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:28.944 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.944 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.944 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:53:28.945 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:53:28.945 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.945 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.945 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.945 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.945 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:28.945 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:28.945 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.945 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:28.945 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:53:28.945 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:53:28.946 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:53:28.946 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:28.946 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:53:28.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.4258ms
2024-08-25 11:53:33.594 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:53:33.594 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:53:33.594 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:53:33.594 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:33.594 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:33.594 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:53:33.594 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:33.595 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6472ms
2024-08-25 11:53:33.595 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:53:33.596 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:53:33.596 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:33.596 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:53:33.596 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:53:33.596 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:53:33.596 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:53:33.596 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:53:33.596 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:33.597 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:53:33.597 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:53:33.597 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:53:33.598 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:53:33.598 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:53:33.598 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:53:33.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:53:33.599 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:33.600 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:53:33.600 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:53:33.600 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:53:33.600 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:53:33.600 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:53:33.600 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:53:33.600 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:53:33.600 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:53:33.600 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:53:33.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.015ms
2024-08-25 11:54:25.056 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:54:25.056 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:54:25.056 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:54:25.056 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:54:25.056 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:54:25.056 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:54:25.056 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:54:25.056 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.6925ms
2024-08-25 11:54:25.057 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 144
2024-08-25 11:54:25.058 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:54:25.058 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:54:25.058 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:54:25.058 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:54:25.058 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:54:25.058 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:54:25.058 +05:30 [DBG] Authorization was successful.
2024-08-25 11:54:25.058 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:54:25.059 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:54:25.059 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000018": started reading request body.
2024-08-25 11:54:25.059 +05:30 [DBG] Connection id "0HN64MA3L11TU", Request id "0HN64MA3L11TU:00000018": done reading request body.
2024-08-25 11:54:25.060 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:54:25.060 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.060 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.061 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.063 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.063 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:54:25.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:54:25.065 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.065 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.065 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.065 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.065 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.065 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.066 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.066 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:54:25.066 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:54:25.066 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.066 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.066 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.067 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.067 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.067 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.067 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.067 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:54:25.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:54:25.068 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.068 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.068 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.068 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.069 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.069 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.069 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.069 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.069 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:54:25.070 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:54:25.070 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.070 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.070 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.070 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.070 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:54:25.070 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:54:25.071 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:54:25.071 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.071 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.071 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:54:25.071 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:54:25.071 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.071 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.072 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:54:25.072 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:54:25.072 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.072 +05:30 [DBG] Committing transaction.
2024-08-25 11:54:25.073 +05:30 [DBG] Committed transaction.
2024-08-25 11:54:25.073 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.073 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.073 +05:30 [DBG] Disposing transaction.
2024-08-25 11:54:25.073 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.074 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:54:25.074 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.074 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:54:25.074 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:54:25.074 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:54:25.074 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.075 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.075 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:54:25.075 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:54:25.076 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.076 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.076 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:54:25.078 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:54:25.078 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.078 +05:30 [DBG] Committing transaction.
2024-08-25 11:54:25.079 +05:30 [DBG] Committed transaction.
2024-08-25 11:54:25.079 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.079 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.079 +05:30 [DBG] Disposing transaction.
2024-08-25 11:54:25.079 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.080 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:54:25.080 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:54:25.080 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:54:25.080 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:54:25.080 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:54:25.080 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:54:25.080 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 22.6678ms
2024-08-25 11:54:25.128 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:54:25.128 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:54:25.128 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:54:25.128 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:54:25.129 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:54:25.129 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:54:25.129 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:54:25.129 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.1617ms
2024-08-25 11:54:25.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:54:25.130 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:54:25.130 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:54:25.130 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:54:25.130 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:54:25.131 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:54:25.131 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:54:25.131 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:54:25.131 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:54:25.131 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:54:25.131 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:54:25.132 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:54:25.132 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.132 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.132 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:54:25.132 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:54:25.133 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.133 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.133 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.133 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.133 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:54:25.133 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:54:25.134 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.134 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:54:25.134 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:54:25.134 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:54:25.134 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:54:25.135 +05:30 [DBG] Connection id "0HN64MA3L11TU" completed keep alive response.
2024-08-25 11:54:25.135 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:54:25.135 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.752ms
2024-08-25 11:55:00.508 +05:30 [DBG] Connection id "0HN64MA3L11TU" received FIN.
2024-08-25 11:55:00.509 +05:30 [DBG] Connection id "0HN64MA3L11TU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:55:00.509 +05:30 [DBG] Connection id "0HN64MA3L11TU" disconnecting.
2024-08-25 11:55:00.509 +05:30 [DBG] Connection id "0HN64MA3L11TU" stopped.
2024-08-25 11:55:06.121 +05:30 [DBG] Connection id "0HN64MA3L11TV" accepted.
2024-08-25 11:55:06.121 +05:30 [DBG] Connection id "0HN64MA3L11TV" started.
2024-08-25 11:55:06.122 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:55:06.122 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:55:06.122 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:55:06.122 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:06.122 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:06.122 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:55:06.123 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:06.123 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.8381ms
2024-08-25 11:55:06.124 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 154
2024-08-25 11:55:06.124 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:55:06.124 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:55:06.124 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:06.124 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:06.124 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:55:06.124 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:55:06.124 +05:30 [DBG] Authorization was successful.
2024-08-25 11:55:06.125 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:55:06.125 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:55:06.125 +05:30 [DBG] Connection id "0HN64MA3L11TV", Request id "0HN64MA3L11TV:00000002": started reading request body.
2024-08-25 11:55:06.125 +05:30 [DBG] Connection id "0HN64MA3L11TV", Request id "0HN64MA3L11TV:00000002": done reading request body.
2024-08-25 11:55:06.126 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:55:06.127 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:06.127 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:06.129 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.129 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.129 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:55:06.130 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:55:06.130 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:06.131 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.131 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.131 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:06.132 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:06.132 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.132 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.132 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:06.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:06.133 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:06.133 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.133 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.133 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.134 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.134 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:55:06.134 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:55:06.134 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:55:06.134 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.134 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.134 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:55:06.135 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:55:06.135 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:06.135 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:06.135 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 11:55:06.136 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 11:55:06.136 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 11:55:06.136 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:06.136 +05:30 [DBG] Committing transaction.
2024-08-25 11:55:06.137 +05:30 [DBG] Committed transaction.
2024-08-25 11:55:06.137 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.137 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.137 +05:30 [DBG] Disposing transaction.
2024-08-25 11:55:06.138 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.138 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.139 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.140 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.140 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.140 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:55:06.140 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:55:06.140 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:55:06.140 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.140 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.140 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:55:06.141 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:55:06.141 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 11:55:06.141 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:06.141 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:06.142 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 11:55:06.143 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 11:55:06.144 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:06.144 +05:30 [DBG] Committing transaction.
2024-08-25 11:55:06.144 +05:30 [DBG] Committed transaction.
2024-08-25 11:55:06.144 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.144 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:06.144 +05:30 [DBG] Disposing transaction.
2024-08-25 11:55:06.144 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.145 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:06.146 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 11:55:06.146 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 11:55:06.146 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:55:06.146 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 11:55:06.146 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:06.146 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:55:06.146 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 22.2136ms
2024-08-25 11:55:08.921 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:55:08.921 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:55:08.921 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:55:08.921 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:08.921 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:08.921 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:55:08.921 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:08.922 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6056ms
2024-08-25 11:55:08.922 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:55:08.923 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:55:08.923 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:55:08.923 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:08.923 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:08.923 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:55:08.923 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:55:08.923 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:55:08.923 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:55:08.924 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:55:08.924 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:08.924 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:08.925 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:08.925 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:08.925 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:55:08.926 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:55:08.926 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:08.926 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:08.926 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:08.926 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:08.926 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:08.926 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:08.926 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:08.927 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:08.927 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:55:08.927 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:55:08.927 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:55:08.927 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:08.927 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:55:08.927 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.0454ms
2024-08-25 11:55:50.489 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:55:50.489 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:55:50.489 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:55:50.489 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:50.489 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:50.489 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:55:50.489 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:50.489 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.8195ms
2024-08-25 11:55:50.491 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/identities - application/json 161
2024-08-25 11:55:50.491 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:55:50.491 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:55:50.491 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:55:50.491 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:55:50.491 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:55:50.492 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:55:50.492 +05:30 [DBG] Authorization was successful.
2024-08-25 11:55:50.492 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:55:50.492 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:55:50.492 +05:30 [DBG] Connection id "0HN64MA3L11TV", Request id "0HN64MA3L11TV:00000006": started reading request body.
2024-08-25 11:55:50.492 +05:30 [DBG] Connection id "0HN64MA3L11TV", Request id "0HN64MA3L11TV:00000006": done reading request body.
2024-08-25 11:55:50.502 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:55:50.503 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Where(p => p.PatientIdentityId.Equals(__patientIdentityId_0) && p.IsActive)
    .FirstOrDefault()'
2024-08-25 11:55:50.506 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientIdentity>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientIdentity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientIdentity.PatientIdentityId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientIdentity.Expiry (DateTime?), 1], [Property: PatientIdentity.IdentityNumber (string) Required, 2], [Property: PatientIdentity.IdentityTypeId (byte) Required, 3], [Property: PatientIdentity.IsActive (bool) Required, 4], [Property: PatientIdentity.IssuedBy (string) Required, 5], [Property: PatientIdentity.PatientId (long) Required, 6], [Property: PatientIdentity.PlaceIssued (string), 7] }
            SELECT TOP(1) p.PatientIdentityId, p.Expiry, p.IdentityNumber, p.IdentityTypeId, p.IsActive, p.IssuedBy, p.PatientId, p.PlaceIssued
            FROM PatientIdentity AS p
            WHERE (p.PatientIdentityId == @__patientIdentityId_0) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentity>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 11:55:50.506 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.506 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.506 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.507 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.507 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.508 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.508 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.508 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.508 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.509 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.509 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.509 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.510 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.510 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:55:50.510 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:55:50.510 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.510 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.510 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.511 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.511 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.511 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.512 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.512 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.512 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.513 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.513 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.513 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.514 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.514 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.514 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.514 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.515 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.515 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:55:50.515 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.515 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.515 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.516 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.516 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:55:50.516 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:55:50.516 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:55:50.516 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.517 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.517 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:55:50.517 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:55:50.517 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.517 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.517 +05:30 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:55:50.518 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:55:50.518 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.518 +05:30 [DBG] Committing transaction.
2024-08-25 11:55:50.519 +05:30 [DBG] Committed transaction.
2024-08-25 11:55:50.519 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.519 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.519 +05:30 [DBG] Disposing transaction.
2024-08-25 11:55:50.520 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.520 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:55:50.520 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.520 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.520 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:55:50.520 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:55:50.520 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:55:50.520 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.520 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.521 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:55:50.521 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:55:50.521 +05:30 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2024-08-25 11:55:50.521 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.521 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.521 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:55:50.521 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:55:50.522 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.522 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:55:50.522 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:55:50.522 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:55:50.522 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:55:50.523 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:55:50.523 +05:30 [DBG] Committing transaction.
2024-08-25 11:55:50.523 +05:30 [DBG] Committed transaction.
2024-08-25 11:55:50.523 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.523 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:55:50.523 +05:30 [DBG] Disposing transaction.
2024-08-25 11:55:50.523 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.524 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:55:50.524 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 2 entities written to the database.
2024-08-25 11:55:50.524 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:55:50.524 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:55:50.524 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:55:50.524 +05:30 [DBG] Connection id "0HN64MA3L11TV" completed keep alive response.
2024-08-25 11:55:50.524 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:55:50.524 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/identities - 202 null application/json; charset=utf-8 33.4774ms
2024-08-25 11:56:39.077 +05:30 [DBG] Connection id "0HN64MA3L11TV" received FIN.
2024-08-25 11:56:39.078 +05:30 [DBG] Connection id "0HN64MA3L11TV" disconnecting.
2024-08-25 11:56:39.078 +05:30 [DBG] Connection id "0HN64MA3L11TV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:56:39.079 +05:30 [DBG] Connection id "0HN64MA3L11TV" stopped.
2024-08-25 11:57:49.422 +05:30 [DBG] Connection id "0HN64MA3L11U0" accepted.
2024-08-25 11:57:49.423 +05:30 [DBG] Connection id "0HN64MA3L11U0" started.
2024-08-25 11:57:49.423 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:57:49.423 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:57:49.423 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:57:49.423 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:49.423 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:49.423 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:57:49.423 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:49.424 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7121ms
2024-08-25 11:57:49.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:57:49.425 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:57:49.425 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:49.425 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:49.425 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:49.425 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:57:49.425 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:57:49.425 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:57:49.425 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:49.426 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:57:49.426 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:49.427 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:49.427 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:49.427 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:49.427 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:57:49.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:57:49.428 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:49.428 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:49.429 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:49.429 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:49.429 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:49.429 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:49.429 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:49.429 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:49.429 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:57:49.429 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:57:49.429 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:49.430 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:49.430 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:57:49.430 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.3312ms
2024-08-25 11:57:51.096 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:57:51.096 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:57:51.096 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:57:51.096 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:51.096 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:51.096 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:57:51.096 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:51.097 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8206ms
2024-08-25 11:57:51.098 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:57:51.098 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:57:51.098 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:57:51.098 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:51.098 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:51.098 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:57:51.099 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:57:51.099 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:57:51.099 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:57:51.100 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:57:51.101 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:51.101 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:51.101 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:51.102 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:51.102 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:57:51.102 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:57:51.102 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:51.102 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:51.102 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:51.103 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:51.103 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:51.103 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:57:51.103 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:57:51.103 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:57:51.103 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:51.103 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:57:51.103 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.4188ms
2024-08-25 11:57:54.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:57:54.657 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:57:54.657 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:57:54.657 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:54.657 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:54.658 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:57:54.658 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:54.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.7206ms
2024-08-25 11:57:54.658 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 144
2024-08-25 11:57:54.659 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:57:54.659 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:57:54.659 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:54.659 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:54.659 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:57:54.659 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:57:54.659 +05:30 [DBG] Authorization was successful.
2024-08-25 11:57:54.659 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:57:54.659 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:57:54.660 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000006": started reading request body.
2024-08-25 11:57:54.660 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000006": done reading request body.
2024-08-25 11:57:54.660 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:57:54.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.661 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.661 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.662 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.662 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:57:54.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:57:54.663 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.663 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.664 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.664 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.665 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:57:54.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:57:54.666 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.666 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.666 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.667 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.667 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.667 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.668 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.668 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:57:54.668 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:57:54.669 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.669 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.669 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.669 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.669 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.669 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.669 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.670 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.670 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:57:54.670 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:57:54.670 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.670 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.670 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.670 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.671 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:57:54.671 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:57:54.671 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:57:54.671 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.671 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.671 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:57:54.672 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:57:54.672 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.672 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.672 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:57:54.672 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:57:54.673 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.673 +05:30 [DBG] Committing transaction.
2024-08-25 11:57:54.673 +05:30 [DBG] Committed transaction.
2024-08-25 11:57:54.673 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.673 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.673 +05:30 [DBG] Disposing transaction.
2024-08-25 11:57:54.674 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.674 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:57:54.674 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.674 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:57:54.674 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:57:54.674 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:57:54.674 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.674 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.675 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:57:54.675 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:57:54.675 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.675 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.675 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:57:54.677 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:57:54.677 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.677 +05:30 [DBG] Committing transaction.
2024-08-25 11:57:54.678 +05:30 [DBG] Committed transaction.
2024-08-25 11:57:54.678 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.678 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.678 +05:30 [DBG] Disposing transaction.
2024-08-25 11:57:54.678 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.678 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:57:54.679 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:57:54.679 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:57:54.679 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:57:54.679 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:54.679 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:57:54.679 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 20.6479ms
2024-08-25 11:57:54.724 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:57:54.724 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:57:54.725 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:57:54.725 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:54.725 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:54.725 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:57:54.725 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:54.725 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7865ms
2024-08-25 11:57:54.726 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:57:54.726 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:57:54.726 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:54.726 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:54.726 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:54.727 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:57:54.727 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:57:54.727 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:57:54.727 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:54.727 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:57:54.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:54.727 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:54.727 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.728 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.728 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:57:54.728 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:57:54.728 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.728 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.728 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.728 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.728 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:54.728 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:54.728 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.728 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:54.728 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:57:54.728 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:57:54.728 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:57:54.729 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:54.729 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:57:54.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.6456ms
2024-08-25 11:57:57.030 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:57:57.030 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:57:57.031 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:57:57.031 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:57.031 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:57.031 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:57:57.031 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:57.031 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.7601ms
2024-08-25 11:57:57.032 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/identities - application/json 161
2024-08-25 11:57:57.032 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:57:57.032 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:57:57.032 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:57:57.032 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:57:57.032 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:57:57.033 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:57:57.033 +05:30 [DBG] Authorization was successful.
2024-08-25 11:57:57.033 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:57:57.033 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:57:57.034 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:0000000A": started reading request body.
2024-08-25 11:57:57.034 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:0000000A": done reading request body.
2024-08-25 11:57:57.035 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:57:57.035 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.035 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.036 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.036 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.036 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.037 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:57.037 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.037 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.038 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.038 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.038 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.038 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.038 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.038 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:57:57.039 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:57:57.039 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.039 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.039 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.040 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.040 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.040 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.040 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.040 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.041 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.041 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.041 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.041 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.042 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.042 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.042 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.042 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.042 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.043 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:57:57.043 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.043 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.043 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.043 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:57.043 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:57:57.043 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:57:57.043 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:57:57.044 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.044 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.044 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:57:57.044 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:57:57.044 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.045 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.045 +05:30 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:57:57.045 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:57:57.046 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.046 +05:30 [DBG] Committing transaction.
2024-08-25 11:57:57.046 +05:30 [DBG] Committed transaction.
2024-08-25 11:57:57.046 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.046 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.046 +05:30 [DBG] Disposing transaction.
2024-08-25 11:57:57.046 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:57.046 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:57:57.047 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:57.047 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:57:57.047 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:57:57.047 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:57:57.047 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.047 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.047 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:57:57.048 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:57:57.048 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:57:57.048 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:57:57.048 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:57:57.049 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:57:57.049 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:57:57.049 +05:30 [DBG] Committing transaction.
2024-08-25 11:57:57.049 +05:30 [DBG] Committed transaction.
2024-08-25 11:57:57.050 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.050 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:57:57.050 +05:30 [DBG] Disposing transaction.
2024-08-25 11:57:57.050 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:57:57.050 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:57:57.050 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:57:57.050 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:57:57.051 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:57:57.051 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:57:57.051 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:57:57.051 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/identities - 202 null application/json; charset=utf-8 19.0597ms
2024-08-25 11:58:06.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:58:06.258 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:58:06.258 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:58:06.258 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:58:06.258 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:58:06.258 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:58:06.258 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:58:06.259 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6865ms
2024-08-25 11:58:06.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:58:06.260 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:58:06.260 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:58:06.260 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:58:06.260 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:58:06.260 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:58:06.260 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:58:06.260 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:58:06.260 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:58:06.262 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:58:06.262 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:06.263 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:06.263 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:06.264 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:06.264 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:58:06.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:58:06.265 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:06.265 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:06.266 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:06.266 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:06.266 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:06.266 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:06.266 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:06.266 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:06.266 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:58:06.266 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:58:06.267 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:58:06.267 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:58:06.267 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:58:06.267 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 7.0563ms
2024-08-25 11:58:33.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:58:33.911 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:58:33.912 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:58:33.912 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:58:33.912 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:58:33.912 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:58:33.912 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:58:33.912 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.7297ms
2024-08-25 11:58:33.913 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/identities - application/json 161
2024-08-25 11:58:33.913 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:58:33.913 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:58:33.914 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:58:33.914 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:58:33.914 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:58:33.914 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:58:33.914 +05:30 [DBG] Authorization was successful.
2024-08-25 11:58:33.914 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:58:33.914 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:58:33.914 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:0000000E": started reading request body.
2024-08-25 11:58:33.915 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:0000000E": done reading request body.
2024-08-25 11:58:33.917 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:58:33.917 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.917 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.918 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.919 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.919 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.920 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:33.920 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.920 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.920 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.920 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.920 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.920 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.921 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.921 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:58:33.921 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:58:33.921 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.921 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.921 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.922 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.922 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.922 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.923 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.923 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.925 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.925 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.925 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.925 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.925 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.925 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.925 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.926 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.926 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:58:33.926 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.926 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.926 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.926 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:33.926 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:58:33.926 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:58:33.927 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:58:33.927 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.927 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.927 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:58:33.928 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:58:33.928 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.928 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.928 +05:30 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:58:33.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:58:33.929 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.929 +05:30 [DBG] Committing transaction.
2024-08-25 11:58:33.930 +05:30 [DBG] Committed transaction.
2024-08-25 11:58:33.930 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.930 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.930 +05:30 [DBG] Disposing transaction.
2024-08-25 11:58:33.930 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:33.930 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:58:33.930 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:33.930 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:58:33.930 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:58:33.930 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:58:33.931 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.931 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.931 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:58:33.931 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:58:33.931 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:58:33.931 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:58:33.932 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:58:33.932 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:58:33.932 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:58:33.932 +05:30 [DBG] Committing transaction.
2024-08-25 11:58:33.933 +05:30 [DBG] Committed transaction.
2024-08-25 11:58:33.933 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.933 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:58:33.933 +05:30 [DBG] Disposing transaction.
2024-08-25 11:58:33.933 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:58:33.933 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:58:33.934 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:58:33.934 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:58:33.934 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:58:33.934 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:58:33.934 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:58:33.934 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/identities - 202 null application/json; charset=utf-8 21.0427ms
2024-08-25 11:59:01.880 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:59:01.880 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:01.880 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:01.880 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:01.880 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:01.881 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:01.881 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:01.881 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7746ms
2024-08-25 11:59:01.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:59:01.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:01.882 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:01.882 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:01.882 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:01.882 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:01.882 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:01.882 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:01.882 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:01.883 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:01.883 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:01.883 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:01.883 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:01.884 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:01.884 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:01.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:01.885 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:01.885 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:01.886 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:01.886 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:01.886 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:01.886 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:01.886 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:01.886 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:01.886 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:59:01.887 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:59:01.887 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:01.887 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:01.887 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:01.887 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.3966ms
2024-08-25 11:59:04.821 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 11:59:04.821 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:59:04.821 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:04.821 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:04.821 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:04.821 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:04.821 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:04.821 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6771ms
2024-08-25 11:59:04.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 11:59:04.822 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 11:59:04.823 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:59:04.823 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:04.823 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:04.823 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:04.823 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:04.823 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:04.823 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:59:04.824 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:04.824 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:04.824 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:04.824 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:04.825 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:04.825 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:59:04.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 11:59:04.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:04.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:04.826 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:04.826 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:04.826 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:04.827 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:59:04.827 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:59:04.827 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 11:59:04.827 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:04.827 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:04.827 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.8682ms
2024-08-25 11:59:07.453 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 11:59:07.453 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:59:07.454 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:07.454 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:07.454 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:07.454 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:07.454 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:07.454 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.8721ms
2024-08-25 11:59:07.455 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 144
2024-08-25 11:59:07.455 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 11:59:07.455 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:59:07.455 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:07.455 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:07.455 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:07.455 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:07.455 +05:30 [DBG] Authorization was successful.
2024-08-25 11:59:07.456 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:07.456 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:59:07.456 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000014": started reading request body.
2024-08-25 11:59:07.456 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000014": done reading request body.
2024-08-25 11:59:07.457 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:07.457 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.457 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.457 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.458 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.458 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:59:07.459 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 11:59:07.460 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.460 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.460 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.460 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.460 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.461 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.461 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.461 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:59:07.462 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 11:59:07.462 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.462 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.462 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.462 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.462 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.463 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.463 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:59:07.463 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:59:07.463 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.463 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.464 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.464 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.464 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.464 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.464 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.464 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.464 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:59:07.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 11:59:07.465 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.465 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.466 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.466 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.466 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:59:07.466 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:59:07.466 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:59:07.466 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.466 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.466 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:59:07.467 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:59:07.467 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.467 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.467 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:59:07.468 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 11:59:07.468 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.468 +05:30 [DBG] Committing transaction.
2024-08-25 11:59:07.468 +05:30 [DBG] Committed transaction.
2024-08-25 11:59:07.468 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.468 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.469 +05:30 [DBG] Disposing transaction.
2024-08-25 11:59:07.469 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.469 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:59:07.469 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.469 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:59:07.469 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:59:07.469 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:59:07.470 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.470 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.470 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:59:07.470 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:59:07.471 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.471 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.471 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:59:07.471 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:59:07.472 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.472 +05:30 [DBG] Committing transaction.
2024-08-25 11:59:07.473 +05:30 [DBG] Committed transaction.
2024-08-25 11:59:07.473 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.473 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.473 +05:30 [DBG] Disposing transaction.
2024-08-25 11:59:07.473 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.473 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:59:07.473 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:59:07.473 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 11:59:07.474 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 11:59:07.474 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:07.474 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:07.474 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 18.9733ms
2024-08-25 11:59:07.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:59:07.518 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:07.518 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:07.518 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:07.519 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:07.519 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:07.519 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:07.519 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.8693ms
2024-08-25 11:59:07.520 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:59:07.520 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:07.520 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:07.520 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:07.520 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:07.520 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:07.520 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:07.521 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:07.521 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:07.521 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:07.521 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:07.521 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:07.521 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.522 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.522 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:07.523 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:07.523 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.523 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.523 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.523 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.523 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:07.524 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:07.524 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.524 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:07.524 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:59:07.524 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:59:07.524 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:07.524 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:07.524 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:07.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.497ms
2024-08-25 11:59:11.254 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 11:59:11.254 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:59:11.254 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:11.254 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:11.254 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:11.254 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:11.254 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:11.255 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.6352ms
2024-08-25 11:59:11.255 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/identities - application/json 161
2024-08-25 11:59:11.256 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 11:59:11.256 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:59:11.256 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:11.256 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:11.256 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:11.256 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:11.256 +05:30 [DBG] Authorization was successful.
2024-08-25 11:59:11.256 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:11.256 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:59:11.256 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000018": started reading request body.
2024-08-25 11:59:11.256 +05:30 [DBG] Connection id "0HN64MA3L11U0", Request id "0HN64MA3L11U0:00000018": done reading request body.
2024-08-25 11:59:11.257 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:11.257 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.257 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.258 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.258 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.258 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.259 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:11.259 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.259 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.259 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.260 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.260 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.260 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.261 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.261 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:59:11.262 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 11:59:11.262 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.262 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.262 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.263 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.263 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.263 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.263 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.263 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.264 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.264 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.264 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.265 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.265 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.265 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.265 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.265 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 11:59:11.266 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.266 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.266 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.266 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:11.267 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:59:11.267 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:59:11.267 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:59:11.267 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.267 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.267 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:59:11.267 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:59:11.268 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.268 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.268 +05:30 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:59:11.269 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-25 11:59:11.269 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.269 +05:30 [DBG] Committing transaction.
2024-08-25 11:59:11.269 +05:30 [DBG] Committed transaction.
2024-08-25 11:59:11.269 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.269 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.269 +05:30 [DBG] Disposing transaction.
2024-08-25 11:59:11.269 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:11.270 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:59:11.270 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:11.270 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 11:59:11.270 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 11:59:11.270 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 11:59:11.270 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.270 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.270 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 11:59:11.271 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 11:59:11.271 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:11.271 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:11.271 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:59:11.271 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 11:59:11.271 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:11.271 +05:30 [DBG] Committing transaction.
2024-08-25 11:59:11.272 +05:30 [DBG] Committed transaction.
2024-08-25 11:59:11.272 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.272 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:11.272 +05:30 [DBG] Disposing transaction.
2024-08-25 11:59:11.272 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:11.272 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 11:59:11.272 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 11:59:11.273 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 11:59:11.273 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-25 11:59:11.273 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:11.273 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:11.273 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/identities - 202 null application/json; charset=utf-8 17.5354ms
2024-08-25 11:59:20.352 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 11:59:20.353 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:20.353 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 11:59:20.353 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:20.353 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:20.353 +05:30 [DBG] The request is a preflight request.
2024-08-25 11:59:20.353 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:20.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6173ms
2024-08-25 11:59:20.354 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 11:59:20.354 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 11:59:20.354 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:20.354 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 11:59:20.354 +05:30 [INF] CORS policy execution successful.
2024-08-25 11:59:20.354 +05:30 [DBG] Successfully validated the token.
2024-08-25 11:59:20.355 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 11:59:20.355 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 11:59:20.355 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:20.355 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 11:59:20.356 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 11:59:20.356 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 11:59:20.356 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 11:59:20.356 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 11:59:20.356 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:20.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 11:59:20.357 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:20.357 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:20.357 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:20.358 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:20.358 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 11:59:20.358 +05:30 [DBG] A data reader was disposed.
2024-08-25 11:59:20.358 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 11:59:20.358 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 11:59:20.358 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 11:59:20.358 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 11:59:20.358 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 11:59:20.358 +05:30 [DBG] Connection id "0HN64MA3L11U0" completed keep alive response.
2024-08-25 11:59:20.359 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 11:59:20.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.619ms
2024-08-25 11:59:53.328 +05:30 [DBG] Connection id "0HN64MA3L11U0" received FIN.
2024-08-25 11:59:53.329 +05:30 [DBG] Connection id "0HN64MA3L11U0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 11:59:53.329 +05:30 [DBG] Connection id "0HN64MA3L11U0" disconnecting.
2024-08-25 11:59:53.330 +05:30 [DBG] Connection id "0HN64MA3L11U0" stopped.
2024-08-25 12:20:09.176 +05:30 [DBG] Connection id "0HN64MA3L11U1" accepted.
2024-08-25 12:20:09.176 +05:30 [DBG] Connection id "0HN64MA3L11U1" started.
2024-08-25 12:20:09.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 12:20:09.177 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:20:09.178 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:20:09.178 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:09.178 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:09.178 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:20:09.178 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:09.178 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2327ms
2024-08-25 12:20:09.179 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 12:20:09.179 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:20:09.179 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:20:09.179 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:09.179 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:09.180 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:35:16 AM', Current time: '8/25/2024 6:50:09 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 12:20:09.181 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:35:16 AM', Current time: '8/25/2024 6:50:09 AM'.
2024-08-25 12:20:09.181 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:20:09.181 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:20:09.181 +05:30 [DBG] Connection id "0HN64MA3L11U1", Request id "0HN64MA3L11U1:00000002": started reading request body.
2024-08-25 12:20:09.181 +05:30 [DBG] Connection id "0HN64MA3L11U1", Request id "0HN64MA3L11U1:00000002": done reading request body.
2024-08-25 12:20:09.182 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 12:20:09.319 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:20:09.319 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:09.320 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:09.320 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.333 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.333 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:20:09.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:20:09.334 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:09.334 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.334 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.438 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 12:20:09.438 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:09.438 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:09.438 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.439 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.439 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:20:09.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:20:09.440 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:20:09.440 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:09.440 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.440 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.440 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:20:09.440 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:20:09.440 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:20:09.440 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:20:09.440 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.440 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.440 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:20:09.441 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:20:09.441 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:09.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:09.441 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:20:09.441 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:20:09.441 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:09.442 +05:30 [DBG] Committing transaction.
2024-08-25 12:20:09.444 +05:30 [DBG] Committed transaction.
2024-08-25 12:20:09.444 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.444 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.444 +05:30 [DBG] Disposing transaction.
2024-08-25 12:20:09.444 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:20:09.444 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:20:09.445 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:20:09.445 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:20:09.445 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:20:09.445 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:20:09.445 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.445 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.445 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:20:09.445 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:20:09.445 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:09.445 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:09.445 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:20:09.446 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:20:09.446 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:09.446 +05:30 [DBG] Committing transaction.
2024-08-25 12:20:09.447 +05:30 [DBG] Committed transaction.
2024-08-25 12:20:09.447 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.447 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:09.447 +05:30 [DBG] Disposing transaction.
2024-08-25 12:20:09.447 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:20:09.447 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:20:09.447 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:20:09.447 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 12:20:09.447 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:20:09.447 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:09.447 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:20:09.447 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 268.2087ms
2024-08-25 12:20:14.378 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 12:20:14.379 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:20:14.379 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:20:14.379 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:14.379 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:14.379 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:20:14.379 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:14.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6102ms
2024-08-25 12:20:14.380 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 32
2024-08-25 12:20:14.380 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:20:14.381 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:20:14.381 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:14.381 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:14.381 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:20:14.381 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:20:14.381 +05:30 [DBG] Authorization was successful.
2024-08-25 12:20:14.381 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:20:14.381 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:20:14.381 +05:30 [DBG] Connection id "0HN64MA3L11U1", Request id "0HN64MA3L11U1:00000004": started reading request body.
2024-08-25 12:20:14.381 +05:30 [DBG] Connection id "0HN64MA3L11U1", Request id "0HN64MA3L11U1:00000004": done reading request body.
2024-08-25 12:20:14.382 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:20:14.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:14.385 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:14.385 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:14.385 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:14.386 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:20:14.387 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:20:14.387 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:14.387 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:14.388 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:14.388 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:20:14.388 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:20:14.388 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:20:14.388 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:14.388 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:20:14.388 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.9481ms
2024-08-25 12:20:17.020 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/14 - null 0
2024-08-25 12:20:17.020 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/14'
2024-08-25 12:20:17.021 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:20:17.021 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:17.021 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:17.021 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:20:17.021 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:17.021 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/14 - 204 null null 0.6386ms
2024-08-25 12:20:17.021 +05:30 [DBG] Connection id "0HN64MA3L11U2" accepted.
2024-08-25 12:20:17.021 +05:30 [DBG] Connection id "0HN64MA3L11U2" started.
2024-08-25 12:20:17.021 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/14 - null 0
2024-08-25 12:20:17.022 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/14'
2024-08-25 12:20:17.022 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:20:17.022 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:17.022 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:17.022 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:20:17.022 +05:30 [DBG] Connection id "0HN64MA3L11U2" completed keep alive response.
2024-08-25 12:20:17.022 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/14 - 204 null null 0.4413ms
2024-08-25 12:20:17.022 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/14 - null null
2024-08-25 12:20:17.022 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/14'
2024-08-25 12:20:17.022 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/14'
2024-08-25 12:20:17.022 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:20:17.022 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:17.022 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:17.023 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:20:17.023 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/14 - null null
2024-08-25 12:20:17.023 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:20:17.023 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/14'
2024-08-25 12:20:17.023 +05:30 [DBG] Authorization was successful.
2024-08-25 12:20:17.023 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync' with route pattern '/api/patients/identities/patient/{id}' is valid for the request path '/api/patients/identities/patient/14'
2024-08-25 12:20:17.023 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:20:17.023 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:20:17.023 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:20:17.023 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:20:17.023 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:20:17.023 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:20:17.023 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:20:17.023 +05:30 [DBG] Authorization was successful.
2024-08-25 12:20:17.023 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:20:17.023 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:20:17.024 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:20:17.024 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:20:17.024 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:17.024 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:20:17.024 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:17.024 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:20:17.024 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.024 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.025 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.025 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:20:17.027 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:20:17.028 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:17.028 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.028 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.028 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:20:17.028 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 12:20:17.029 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:20:17.029 +05:30 [DBG] Connection id "0HN64MA3L11U1" completed keep alive response.
2024-08-25 12:20:17.029 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:20:17.029 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/14 - 200 null application/json; charset=utf-8 6.8276ms
2024-08-25 12:20:17.043 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.043 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:20:17.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:20:17.044 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:20:17.044 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.044 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:20:17.044 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:20:17.044 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:20:17.044 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:20:17.044 +05:30 [DBG] Connection id "0HN64MA3L11U2" completed keep alive response.
2024-08-25 12:20:17.044 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:20:17.044 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/14 - 200 null application/json; charset=utf-8 21.3908ms
2024-08-25 12:21:11.120 +05:30 [DBG] Connection id "0HN64MA3L11U1" received FIN.
2024-08-25 12:21:11.120 +05:30 [DBG] Connection id "0HN64MA3L11U2" received FIN.
2024-08-25 12:21:11.122 +05:30 [DBG] Connection id "0HN64MA3L11U1" disconnecting.
2024-08-25 12:21:11.122 +05:30 [DBG] Connection id "0HN64MA3L11U2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:21:11.122 +05:30 [DBG] Connection id "0HN64MA3L11U1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:21:11.122 +05:30 [DBG] Connection id "0HN64MA3L11U2" disconnecting.
2024-08-25 12:21:11.122 +05:30 [DBG] Connection id "0HN64MA3L11U2" stopped.
2024-08-25 12:21:11.123 +05:30 [DBG] Connection id "0HN64MA3L11U1" stopped.
2024-08-25 12:30:52.417 +05:30 [DBG] Connection id "0HN64MA3L11U3" accepted.
2024-08-25 12:30:52.419 +05:30 [DBG] Connection id "0HN64MA3L11U3" started.
2024-08-25 12:30:52.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 12:30:52.421 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:30:52.421 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:30:52.421 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:30:52.421 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:30:52.421 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:30:52.422 +05:30 [DBG] Connection id "0HN64MA3L11U3" completed keep alive response.
2024-08-25 12:30:52.422 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.4787ms
2024-08-25 12:30:52.423 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 12:30:52.423 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:30:52.423 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:30:52.423 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:30:52.423 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:30:52.424 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:30:52.425 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:30:52.425 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:30:52.425 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:30:52.425 +05:30 [DBG] Connection id "0HN64MA3L11U3", Request id "0HN64MA3L11U3:00000002": started reading request body.
2024-08-25 12:30:52.425 +05:30 [DBG] Connection id "0HN64MA3L11U3", Request id "0HN64MA3L11U3:00000002": done reading request body.
2024-08-25 12:30:52.427 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 12:30:52.567 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:30:52.568 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:30:52.568 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:30:52.568 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.590 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.590 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:30:52.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:30:52.591 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:30:52.591 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.591 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.699 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 12:30:52.699 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:30:52.699 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:30:52.699 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.700 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.700 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:30:52.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:30:52.700 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:30:52.701 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:30:52.701 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.701 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.701 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:30:52.701 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:30:52.701 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:30:52.701 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:30:52.701 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.701 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.701 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:30:52.702 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:30:52.702 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:30:52.702 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:30:52.702 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:30:52.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:30:52.703 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:30:52.703 +05:30 [DBG] Committing transaction.
2024-08-25 12:30:52.705 +05:30 [DBG] Committed transaction.
2024-08-25 12:30:52.705 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.705 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.705 +05:30 [DBG] Disposing transaction.
2024-08-25 12:30:52.705 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:30:52.705 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:30:52.705 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:30:52.705 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:30:52.705 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:30:52.705 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:30:52.705 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.705 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.705 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:30:52.706 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:30:52.706 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:30:52.706 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:30:52.706 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:30:52.706 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:30:52.707 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:30:52.707 +05:30 [DBG] Committing transaction.
2024-08-25 12:30:52.707 +05:30 [DBG] Committed transaction.
2024-08-25 12:30:52.707 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.707 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:30:52.707 +05:30 [DBG] Disposing transaction.
2024-08-25 12:30:52.707 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:30:52.707 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:30:52.707 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:30:52.707 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 12:30:52.707 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:30:52.707 +05:30 [DBG] Connection id "0HN64MA3L11U3" completed keep alive response.
2024-08-25 12:30:52.707 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:30:52.708 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 284.701ms
2024-08-25 12:31:39.536 +05:30 [DBG] Connection id "0HN64MA3L11U3" received FIN.
2024-08-25 12:31:39.537 +05:30 [DBG] Connection id "0HN64MA3L11U3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:31:39.537 +05:30 [DBG] Connection id "0HN64MA3L11U3" disconnecting.
2024-08-25 12:31:39.538 +05:30 [DBG] Connection id "0HN64MA3L11U3" stopped.
2024-08-25 12:32:04.447 +05:30 [DBG] Connection id "0HN64MA3L11U4" accepted.
2024-08-25 12:32:04.447 +05:30 [DBG] Connection id "0HN64MA3L11U4" started.
2024-08-25 12:32:04.448 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 12:32:04.448 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:32:04.448 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:32:04.448 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:04.448 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:04.448 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:32:04.448 +05:30 [DBG] Connection id "0HN64MA3L11U4" completed keep alive response.
2024-08-25 12:32:04.448 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6207ms
2024-08-25 12:32:04.450 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 12:32:04.450 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:32:04.450 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:32:04.450 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:04.450 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:04.450 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:32:04.450 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:32:04.450 +05:30 [DBG] Authorization was successful.
2024-08-25 12:32:04.450 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:32:04.450 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:32:04.451 +05:30 [DBG] Connection id "0HN64MA3L11U4", Request id "0HN64MA3L11U4:00000002": started reading request body.
2024-08-25 12:32:04.451 +05:30 [DBG] Connection id "0HN64MA3L11U4", Request id "0HN64MA3L11U4:00000002": done reading request body.
2024-08-25 12:32:04.452 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:32:04.455 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:32:04.455 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:32:04.455 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:32:04.456 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:32:04.456 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:32:04.457 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:32:04.458 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:32:04.458 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:32:04.458 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:32:04.459 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:32:04.459 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:32:04.460 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:32:04.460 +05:30 [DBG] Connection id "0HN64MA3L11U4" completed keep alive response.
2024-08-25 12:32:04.460 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:32:04.460 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 10.2381ms
2024-08-25 12:32:19.380 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - null 0
2024-08-25 12:32:19.380 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 12:32:19.380 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:32:19.380 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:19.380 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:19.381 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:32:19.381 +05:30 [DBG] Connection id "0HN64MA3L11U4" completed keep alive response.
2024-08-25 12:32:19.381 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - 204 null null 0.8955ms
2024-08-25 12:32:19.382 +05:30 [DBG] Connection id "0HN64MA3L11U5" accepted.
2024-08-25 12:32:19.382 +05:30 [DBG] Connection id "0HN64MA3L11U5" started.
2024-08-25 12:32:19.382 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/2 - null 0
2024-08-25 12:32:19.382 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/2'
2024-08-25 12:32:19.382 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:32:19.382 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:19.382 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:19.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/2 - null null
2024-08-25 12:32:19.382 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:32:19.383 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 12:32:19.383 +05:30 [DBG] Connection id "0HN64MA3L11U5" completed keep alive response.
2024-08-25 12:32:19.383 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/2 - 204 null null 0.7317ms
2024-08-25 12:32:19.383 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/2'
2024-08-25 12:32:19.383 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:32:19.383 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:19.383 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:19.383 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:32:19.383 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:32:19.383 +05:30 [DBG] Authorization was successful.
2024-08-25 12:32:19.383 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:32:19.384 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:32:19.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - null null
2024-08-25 12:32:19.384 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/2'
2024-08-25 12:32:19.384 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync' with route pattern '/api/patients/identities/patient/{id}' is valid for the request path '/api/patients/identities/patient/2'
2024-08-25 12:32:19.384 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:32:19.384 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:32:19.384 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:32:19.384 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:32:19.384 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:32:19.384 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:32:19.384 +05:30 [DBG] Authorization was successful.
2024-08-25 12:32:19.384 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:32:19.385 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:32:19.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:32:19.385 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:32:19.385 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.385 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:32:19.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:32:19.386 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.386 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:32:19.386 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:32:19.387 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.387 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:32:19.388 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:32:19.388 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.388 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.388 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:32:19.388 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 12:32:19.388 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:32:19.389 +05:30 [DBG] Connection id "0HN64MA3L11U4" completed keep alive response.
2024-08-25 12:32:19.389 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:32:19.389 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/2 - 200 null application/json; charset=utf-8 6.2919ms
2024-08-25 12:32:19.404 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.404 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:32:19.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:32:19.405 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:32:19.405 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.405 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:32:19.405 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:32:19.405 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:32:19.406 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:32:19.406 +05:30 [DBG] Connection id "0HN64MA3L11U5" completed keep alive response.
2024-08-25 12:32:19.406 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:32:19.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - 200 null application/json; charset=utf-8 22.4954ms
2024-08-25 12:33:06.444 +05:30 [DBG] Connection id "0HN64MA3L11U4" received FIN.
2024-08-25 12:33:06.444 +05:30 [DBG] Connection id "0HN64MA3L11U5" received FIN.
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U5" disconnecting.
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U5" stopped.
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U4" disconnecting.
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:33:06.445 +05:30 [DBG] Connection id "0HN64MA3L11U4" stopped.
2024-08-25 12:34:44.825 +05:30 [DBG] Connection id "0HN64MA3L11U6" accepted.
2024-08-25 12:34:44.826 +05:30 [DBG] Connection id "0HN64MA3L11U6" started.
2024-08-25 12:34:44.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 12:34:44.827 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:34:44.827 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:34:44.827 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:34:44.827 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:34:44.827 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:34:44.827 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:34:44.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.9542ms
2024-08-25 12:34:44.829 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-25 12:34:44.829 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:34:44.829 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:34:44.829 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:34:44.829 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:34:44.829 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:34:44.829 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:34:44.829 +05:30 [DBG] Authorization was successful.
2024-08-25 12:34:44.830 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:34:44.830 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:34:44.830 +05:30 [DBG] Connection id "0HN64MA3L11U6", Request id "0HN64MA3L11U6:00000002": started reading request body.
2024-08-25 12:34:44.830 +05:30 [DBG] Connection id "0HN64MA3L11U6", Request id "0HN64MA3L11U6:00000002": done reading request body.
2024-08-25 12:34:44.832 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:34:44.833 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:34:44.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:34:44.834 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:34:44.834 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:34:44.834 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:34:44.836 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:34:44.837 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:34:44.837 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:34:44.837 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:34:44.837 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:34:44.837 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:34:44.837 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:34:44.837 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:34:44.837 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:34:44.837 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 8.722ms
2024-08-25 12:34:53.660 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 12:34:53.661 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 12:34:53.661 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:34:53.661 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:34:53.661 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:34:53.661 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:34:53.661 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:34:53.661 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7183ms
2024-08-25 12:34:53.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 12:34:53.662 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 12:34:53.662 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:34:53.662 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:34:53.663 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:34:53.663 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:34:53.663 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:34:53.663 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:34:53.663 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:34:53.664 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:34:53.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:34:53.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:34:53.665 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:34:53.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:34:53.665 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 12:34:53.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 12:34:53.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:34:53.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:34:53.666 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:34:53.667 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:34:53.667 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:34:53.667 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:34:53.667 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:34:53.667 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:34:53.667 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:34:53.667 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:34:53.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.19ms
2024-08-25 12:35:13.549 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 12:35:13.549 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 12:35:13.549 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:35:13.550 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:35:13.550 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:35:13.550 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:35:13.550 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:35:13.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.6515ms
2024-08-25 12:35:13.551 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 138
2024-08-25 12:35:13.552 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 12:35:13.552 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 12:35:13.552 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:35:13.552 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:35:13.552 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:35:13.552 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:35:13.552 +05:30 [DBG] Authorization was successful.
2024-08-25 12:35:13.552 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:35:13.552 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 12:35:13.553 +05:30 [DBG] Connection id "0HN64MA3L11U6", Request id "0HN64MA3L11U6:00000006": started reading request body.
2024-08-25 12:35:13.553 +05:30 [DBG] Connection id "0HN64MA3L11U6", Request id "0HN64MA3L11U6:00000006": done reading request body.
2024-08-25 12:35:13.554 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:35:13.554 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.554 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.555 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.556 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.556 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 12:35:13.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 12:35:13.557 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.557 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.557 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.558 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.558 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.558 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.558 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 12:35:13.559 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 12:35:13.559 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.559 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.559 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.559 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.560 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.560 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.560 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:35:13.560 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.561 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.561 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:35:13.562 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:35:13.562 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.562 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.563 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 12:35:13.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 12:35:13.564 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 12:35:13.564 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.564 +05:30 [DBG] Committing transaction.
2024-08-25 12:35:13.565 +05:30 [DBG] Committed transaction.
2024-08-25 12:35:13.565 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.565 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.565 +05:30 [DBG] Disposing transaction.
2024-08-25 12:35:13.565 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.566 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:35:13.566 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.566 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.566 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.566 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:35:13.566 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.566 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.566 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:35:13.567 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:35:13.567 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.567 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.567 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 12:35:13.568 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 12:35:13.568 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.568 +05:30 [DBG] Committing transaction.
2024-08-25 12:35:13.569 +05:30 [DBG] Committed transaction.
2024-08-25 12:35:13.569 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.569 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.569 +05:30 [DBG] Disposing transaction.
2024-08-25 12:35:13.569 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.569 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.570 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.571 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.571 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:35:13.571 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:35:13.571 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.571 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.572 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:35:13.572 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:35:13.572 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 12:35:13.573 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.573 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.573 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 12:35:13.575 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 12:35:13.576 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.576 +05:30 [DBG] Committing transaction.
2024-08-25 12:35:13.577 +05:30 [DBG] Committed transaction.
2024-08-25 12:35:13.577 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.577 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.577 +05:30 [DBG] Disposing transaction.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.577 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 12:35:13.577 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 12:35:13.578 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 12:35:13.578 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 12:35:13.578 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:35:13.578 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:35:13.578 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 26.3576ms
2024-08-25 12:35:13.615 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 12:35:13.615 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 12:35:13.616 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:35:13.616 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:35:13.616 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:35:13.616 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:35:13.616 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:35:13.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.197ms
2024-08-25 12:35:13.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 12:35:13.617 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 12:35:13.618 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 12:35:13.618 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:35:13.618 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:35:13.618 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:35:13.618 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:35:13.618 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:35:13.618 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 12:35:13.619 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:35:13.619 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:35:13.619 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:35:13.619 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.619 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.619 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 12:35:13.620 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 12:35:13.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:35:13.620 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:35:13.620 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.621 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:35:13.621 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:35:13.621 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:35:13.621 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 12:35:13.621 +05:30 [DBG] Connection id "0HN64MA3L11U6" completed keep alive response.
2024-08-25 12:35:13.621 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:35:13.621 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.7265ms
2024-08-25 12:35:46.800 +05:30 [DBG] Connection id "0HN64MA3L11U6" received FIN.
2024-08-25 12:35:46.801 +05:30 [DBG] Connection id "0HN64MA3L11U6" disconnecting.
2024-08-25 12:35:46.801 +05:30 [DBG] Connection id "0HN64MA3L11U6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:35:46.802 +05:30 [DBG] Connection id "0HN64MA3L11U6" stopped.
2024-08-25 12:36:19.415 +05:30 [DBG] Connection id "0HN64MA3L11U7" accepted.
2024-08-25 12:36:19.416 +05:30 [DBG] Connection id "0HN64MA3L11U7" started.
2024-08-25 12:36:19.417 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 12:36:19.417 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 12:36:19.417 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:36:19.417 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:36:19.417 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:36:19.417 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:36:19.417 +05:30 [DBG] Connection id "0HN64MA3L11U7" completed keep alive response.
2024-08-25 12:36:19.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.7509ms
2024-08-25 12:36:19.419 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 169
2024-08-25 12:36:19.419 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 12:36:19.419 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 12:36:19.419 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:36:19.419 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:36:19.419 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:36:19.419 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:36:19.419 +05:30 [DBG] Authorization was successful.
2024-08-25 12:36:19.420 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:36:19.420 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 12:36:19.420 +05:30 [DBG] Connection id "0HN64MA3L11U7", Request id "0HN64MA3L11U7:00000002": started reading request body.
2024-08-25 12:36:19.420 +05:30 [DBG] Connection id "0HN64MA3L11U7", Request id "0HN64MA3L11U7:00000002": done reading request body.
2024-08-25 12:36:19.422 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:36:19.422 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:36:19.423 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:36:19.423 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.424 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.424 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 12:36:19.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 12:36:19.424 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:36:19.425 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.425 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.425 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:36:19.425 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:36:19.426 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.426 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.426 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 12:36:19.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 12:36:19.428 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:36:19.428 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.428 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.428 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.428 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.429 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:36:19.429 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:36:19.429 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:36:19.429 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.429 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.429 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:36:19.430 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:36:19.430 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:36:19.431 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:36:19.431 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 12:36:19.432 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 12:36:19.432 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 12:36:19.432 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:36:19.432 +05:30 [DBG] Committing transaction.
2024-08-25 12:36:19.433 +05:30 [DBG] Committed transaction.
2024-08-25 12:36:19.433 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.433 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.433 +05:30 [DBG] Disposing transaction.
2024-08-25 12:36:19.434 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.434 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.435 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.435 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.435 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:36:19.435 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:36:19.435 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:36:19.435 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.435 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.435 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:36:19.435 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:36:19.436 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 12:36:19.436 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:36:19.436 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:36:19.436 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 12:36:19.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 12:36:19.439 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:36:19.439 +05:30 [DBG] Committing transaction.
2024-08-25 12:36:19.439 +05:30 [DBG] Committed transaction.
2024-08-25 12:36:19.439 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.439 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:36:19.440 +05:30 [DBG] Disposing transaction.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:36:19.440 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 12:36:19.440 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 12:36:19.440 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 12:36:19.441 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 12:36:19.441 +05:30 [DBG] Connection id "0HN64MA3L11U7" completed keep alive response.
2024-08-25 12:36:19.441 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:36:19.441 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 22.0803ms
2024-08-25 12:36:50.409 +05:30 [DBG] Connection id "0HN64MA3L11U7" received FIN.
2024-08-25 12:36:50.410 +05:30 [DBG] Connection id "0HN64MA3L11U7" disconnecting.
2024-08-25 12:36:50.410 +05:30 [DBG] Connection id "0HN64MA3L11U7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:36:50.411 +05:30 [DBG] Connection id "0HN64MA3L11U7" stopped.
2024-08-25 12:37:04.710 +05:30 [DBG] Connection id "0HN64MA3L11U8" accepted.
2024-08-25 12:37:04.710 +05:30 [DBG] Connection id "0HN64MA3L11U8" started.
2024-08-25 12:37:04.711 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 12:37:04.711 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 12:37:04.711 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:37:04.711 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:37:04.712 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:37:04.712 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:37:04.712 +05:30 [DBG] Connection id "0HN64MA3L11U8" completed keep alive response.
2024-08-25 12:37:04.712 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1683ms
2024-08-25 12:37:04.713 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 12:37:04.713 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 12:37:04.713 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:37:04.713 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:37:04.713 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:37:04.713 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:37:04.713 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:37:04.713 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:37:04.713 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:37:04.714 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:37:04.714 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:37:04.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:37:04.715 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:37:04.715 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:37:04.715 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 12:37:04.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 12:37:04.716 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:37:04.716 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:37:04.716 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:37:04.717 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:37:04.717 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:37:04.717 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:37:04.717 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:37:04.717 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 12:37:04.717 +05:30 [DBG] Connection id "0HN64MA3L11U8" completed keep alive response.
2024-08-25 12:37:04.717 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:37:04.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.4248ms
2024-08-25 12:37:35.709 +05:30 [DBG] Connection id "0HN64MA3L11U8" received FIN.
2024-08-25 12:37:35.709 +05:30 [DBG] Connection id "0HN64MA3L11U8" disconnecting.
2024-08-25 12:37:35.709 +05:30 [DBG] Connection id "0HN64MA3L11U8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:37:35.711 +05:30 [DBG] Connection id "0HN64MA3L11U8" stopped.
2024-08-25 12:42:49.808 +05:30 [DBG] Connection id "0HN64MA3L11U9" accepted.
2024-08-25 12:42:49.809 +05:30 [DBG] Connection id "0HN64MA3L11U9" started.
2024-08-25 12:42:49.809 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-25 12:42:49.810 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:42:49.810 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:42:49.810 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:42:49.810 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:42:49.810 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:42:49.810 +05:30 [DBG] Connection id "0HN64MA3L11U9" completed keep alive response.
2024-08-25 12:42:49.810 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.6718ms
2024-08-25 12:42:49.811 +05:30 [DBG] Connection id "0HN64MA3L11UA" accepted.
2024-08-25 12:42:49.811 +05:30 [DBG] Connection id "0HN64MA3L11UA" started.
2024-08-25 12:42:49.811 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 12:42:49.811 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 12:42:49.811 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:42:49.811 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:42:49.811 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:42:49.812 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 12:42:49.812 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:42:49.812 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:42:49.812 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000001": started reading request body.
2024-08-25 12:42:49.812 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000001": done reading request body.
2024-08-25 12:42:49.812 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 12:42:49.951 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:42:49.952 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:42:49.952 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:42:49.952 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:42:49.966 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:42:49.966 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:42:49.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:42:49.966 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:42:49.966 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:42:49.966 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.091 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 12:42:50.091 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:42:50.091 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:42:50.091 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.092 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.092 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:42:50.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 12:42:50.093 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:50.093 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:42:50.093 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.093 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.093 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:50.093 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:42:50.093 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:42:50.093 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:42:50.093 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.094 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.094 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:42:50.094 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:42:50.094 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:42:50.094 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:42:50.094 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:42:50.095 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 12:42:50.095 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:42:50.095 +05:30 [DBG] Committing transaction.
2024-08-25 12:42:50.096 +05:30 [DBG] Committed transaction.
2024-08-25 12:42:50.096 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.096 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.096 +05:30 [DBG] Disposing transaction.
2024-08-25 12:42:50.096 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:50.096 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:42:50.096 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:50.096 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 12:42:50.097 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 12:42:50.097 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 12:42:50.097 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.097 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.097 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 12:42:50.097 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 12:42:50.098 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:42:50.098 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:42:50.098 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:42:50.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 12:42:50.098 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:42:50.098 +05:30 [DBG] Committing transaction.
2024-08-25 12:42:50.099 +05:30 [DBG] Committed transaction.
2024-08-25 12:42:50.099 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.099 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:42:50.099 +05:30 [DBG] Disposing transaction.
2024-08-25 12:42:50.099 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:50.099 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 12:42:50.099 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:42:50.099 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 12:42:50.099 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 12:42:50.099 +05:30 [DBG] Connection id "0HN64MA3L11UA" completed keep alive response.
2024-08-25 12:42:50.099 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:42:50.099 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 288.0974ms
2024-08-25 12:42:59.068 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-25 12:42:59.068 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 12:42:59.068 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:42:59.069 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:42:59.069 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:42:59.069 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:42:59.069 +05:30 [DBG] Connection id "0HN64MA3L11U9" completed keep alive response.
2024-08-25 12:42:59.069 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.8528ms
2024-08-25 12:42:59.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 12:42:59.071 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 12:42:59.071 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:42:59.071 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:42:59.071 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:42:59.071 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:42:59.071 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:42:59.071 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:42:59.071 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:42:59.072 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:42:59.073 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:42:59.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:42:59.073 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:42:59.075 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:42:59.075 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 12:42:59.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 12:42:59.076 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:59.076 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:59.077 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:42:59.077 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:42:59.077 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:42:59.077 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:42:59.077 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:42:59.077 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:42:59.077 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:42:59.077 +05:30 [DBG] Connection id "0HN64MA3L11UA" completed keep alive response.
2024-08-25 12:42:59.077 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:42:59.077 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 7.0115ms
2024-08-25 12:43:17.748 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-25 12:43:17.748 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:43:17.748 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:43:17.748 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:43:17.749 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:43:17.749 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:43:17.749 +05:30 [DBG] Connection id "0HN64MA3L11U9" completed keep alive response.
2024-08-25 12:43:17.749 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.8529ms
2024-08-25 12:43:17.750 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 41
2024-08-25 12:43:17.751 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:43:17.751 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:43:17.751 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:43:17.751 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:43:17.751 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:43:17.751 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:43:17.751 +05:30 [DBG] Authorization was successful.
2024-08-25 12:43:17.751 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:43:17.751 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:43:17.752 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000003": started reading request body.
2024-08-25 12:43:17.752 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000003": done reading request body.
2024-08-25 12:43:17.752 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:43:17.755 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:43:17.755 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:43:17.755 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:43:17.755 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:43:17.756 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:43:17.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 12:43:17.757 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:43:17.757 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:43:17.757 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:43:17.758 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:43:17.758 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:43:17.758 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:43:17.758 +05:30 [DBG] Connection id "0HN64MA3L11UA" completed keep alive response.
2024-08-25 12:43:17.758 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:43:17.758 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.965ms
2024-08-25 12:44:03.227 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-25 12:44:03.228 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:44:03.228 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:44:03.228 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:03.228 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:03.229 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:44:03.229 +05:30 [DBG] Connection id "0HN64MA3L11U9" completed keep alive response.
2024-08-25 12:44:03.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.9737ms
2024-08-25 12:44:03.231 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 17
2024-08-25 12:44:03.233 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 12:44:03.233 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:44:03.233 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:03.233 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:03.234 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:44:03.234 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:44:03.234 +05:30 [DBG] Authorization was successful.
2024-08-25 12:44:03.234 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:44:03.234 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:44:03.234 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000004": started reading request body.
2024-08-25 12:44:03.234 +05:30 [DBG] Connection id "0HN64MA3L11UA", Request id "0HN64MA3L11UA:00000004": done reading request body.
2024-08-25 12:44:03.235 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:44:03.236 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:44:03.236 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:44:03.236 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:44:03.237 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:44:03.237 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 12:44:03.238 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`Firstname` LIKE @__Format_1
LIMIT @__p_2
2024-08-25 12:44:03.238 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:44:03.238 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:44:03.238 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:44:03.239 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:44:03.239 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:44:03.240 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 12:44:03.240 +05:30 [DBG] Connection id "0HN64MA3L11UA" completed keep alive response.
2024-08-25 12:44:03.240 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:44:03.240 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.28ms
2024-08-25 12:44:18.875 +05:30 [DBG] Connection id "0HN64MA3L11UB" accepted.
2024-08-25 12:44:18.875 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - null null
2024-08-25 12:44:18.875 +05:30 [DBG] Connection id "0HN64MA3L11UB" started.
2024-08-25 12:44:18.875 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 12:44:18.875 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/2 - null null
2024-08-25 12:44:18.875 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:44:18.876 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/2'
2024-08-25 12:44:18.876 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:18.876 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:44:18.876 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:18.876 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:44:18.876 +05:30 [DBG] Connection id "0HN64MA3L11U9" completed keep alive response.
2024-08-25 12:44:18.876 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:18.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/2 - 204 null null 1.1177ms
2024-08-25 12:44:18.876 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:18.876 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:44:18.876 +05:30 [DBG] Connection id "0HN64MA3L11UB" completed keep alive response.
2024-08-25 12:44:18.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities/patient/2 - 204 null null 0.8504ms
2024-08-25 12:44:18.877 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/2 - null null
2024-08-25 12:44:18.877 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/2'
2024-08-25 12:44:18.877 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync' with route pattern '/api/patients/{id}' is valid for the request path '/api/patients/2'
2024-08-25 12:44:18.877 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:44:18.878 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:18.878 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:18.878 +05:30 [DBG] Connection id "0HN64MA3L11UC" accepted.
2024-08-25 12:44:18.878 +05:30 [DBG] Connection id "0HN64MA3L11UC" started.
2024-08-25 12:44:18.878 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - null null
2024-08-25 12:44:18.878 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:44:18.878 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities/patient/2'
2024-08-25 12:44:18.878 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:44:18.878 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync' with route pattern '/api/patients/identities/patient/{id}' is valid for the request path '/api/patients/identities/patient/2'
2024-08-25 12:44:18.878 +05:30 [DBG] Authorization was successful.
2024-08-25 12:44:18.878 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:44:18.878 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:44:18.878 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:44:18.878 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:44:18.878 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:44:18.879 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:44:18.879 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:44:18.879 +05:30 [DBG] Authorization was successful.
2024-08-25 12:44:18.879 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:44:18.879 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:44:18.879 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:44:18.879 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:44:18.880 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:44:18.880 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:44:18.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:44:18.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:44:18.880 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.880 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.880 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.881 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:44:18.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Patient` AS `p`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 12:44:18.882 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:44:18.882 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.883 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.883 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:44:18.883 +05:30 [INF] Writing value of type 'PatientProfile' as Json.
2024-08-25 12:44:18.883 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/{id} => GetPatientProfileByIdAsync'
2024-08-25 12:44:18.883 +05:30 [DBG] Connection id "0HN64MA3L11UA" completed keep alive response.
2024-08-25 12:44:18.883 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:44:18.883 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/2 - 200 null application/json; charset=utf-8 6.3212ms
2024-08-25 12:44:18.901 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.901 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:44:18.901 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`PatientId`, `p`.`IdentityNumber`, `p`.`IssuedBy`, `p`.`PlaceIssued`, `p`.`Expiry`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `PatientIdentity` AS `p`
INNER JOIN `IdentityType` AS `i` ON `p`.`IdentityTypeId` = `i`.`IdentityTypeId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 12:44:18.901 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:44:18.902 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.902 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:44:18.902 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:44:18.902 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:44:18.902 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/identities/patient/{id} => GetPatientIdentitiesByPatientIdAsync'
2024-08-25 12:44:18.902 +05:30 [DBG] Connection id "0HN64MA3L11UC" completed keep alive response.
2024-08-25 12:44:18.902 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:44:18.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/identities/patient/2 - 200 null application/json; charset=utf-8 24.3812ms
2024-08-25 12:46:29.260 +05:30 [DBG] Connection id "0HN64MA3L11U9" disconnecting.
2024-08-25 12:46:29.260 +05:30 [DBG] Connection id "0HN64MA3L11UA" disconnecting.
2024-08-25 12:46:29.261 +05:30 [DBG] Connection id "0HN64MA3L11U9" stopped.
2024-08-25 12:46:29.261 +05:30 [DBG] Connection id "0HN64MA3L11UA" stopped.
2024-08-25 12:46:29.261 +05:30 [DBG] Connection id "0HN64MA3L11UA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:46:29.261 +05:30 [DBG] Connection id "0HN64MA3L11U9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:46:30.261 +05:30 [DBG] Connection id "0HN64MA3L11UC" disconnecting.
2024-08-25 12:46:30.261 +05:30 [DBG] Connection id "0HN64MA3L11UC" stopped.
2024-08-25 12:46:30.261 +05:30 [DBG] Connection id "0HN64MA3L11UC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:46:30.261 +05:30 [DBG] Connection id "0HN64MA3L11UB" disconnecting.
2024-08-25 12:46:30.262 +05:30 [DBG] Connection id "0HN64MA3L11UB" stopped.
2024-08-25 12:46:30.262 +05:30 [DBG] Connection id "0HN64MA3L11UB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:47:48.847 +05:30 [DBG] Connection id "0HN64MA3L11UD" accepted.
2024-08-25 12:47:48.847 +05:30 [DBG] Connection id "0HN64MA3L11UD" started.
2024-08-25 12:47:48.847 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null null
2024-08-25 12:47:48.848 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 12:47:48.848 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 12:47:48.848 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:47:48.848 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:47:48.848 +05:30 [DBG] The request is a preflight request.
2024-08-25 12:47:48.848 +05:30 [DBG] Connection id "0HN64MA3L11UD" completed keep alive response.
2024-08-25 12:47:48.848 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.5124ms
2024-08-25 12:47:48.849 +05:30 [DBG] Connection id "0HN64MA3L11UE" accepted.
2024-08-25 12:47:48.849 +05:30 [DBG] Connection id "0HN64MA3L11UE" started.
2024-08-25 12:47:48.849 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 12:47:48.849 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 12:47:48.849 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:47:48.849 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 12:47:48.849 +05:30 [INF] CORS policy execution successful.
2024-08-25 12:47:48.850 +05:30 [DBG] Successfully validated the token.
2024-08-25 12:47:48.850 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 12:47:48.850 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 12:47:48.850 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:47:48.851 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 12:47:48.852 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 12:47:48.852 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 12:47:48.852 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 12:47:48.870 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 12:47:48.870 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 12:47:48.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 12:47:48.871 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:47:48.871 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:47:48.871 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 12:47:48.871 +05:30 [DBG] A data reader was disposed.
2024-08-25 12:47:48.871 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 12:47:48.871 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 12:47:48.871 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 12:47:48.871 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 12:47:48.871 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 12:47:48.871 +05:30 [DBG] Connection id "0HN64MA3L11UE" completed keep alive response.
2024-08-25 12:47:48.871 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 12:47:48.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 22.5594ms
2024-08-25 12:50:00.466 +05:30 [DBG] Connection id "0HN64MA3L11UD" disconnecting.
2024-08-25 12:50:00.466 +05:30 [DBG] Connection id "0HN64MA3L11UE" disconnecting.
2024-08-25 12:50:00.467 +05:30 [DBG] Connection id "0HN64MA3L11UD" stopped.
2024-08-25 12:50:00.467 +05:30 [DBG] Connection id "0HN64MA3L11UE" stopped.
2024-08-25 12:50:00.467 +05:30 [DBG] Connection id "0HN64MA3L11UD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 12:50:00.467 +05:30 [DBG] Connection id "0HN64MA3L11UE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 14:34:12.693 +05:30 [DBG] Connection id "0HN64MA3L11UF" accepted.
2024-08-25 14:34:12.694 +05:30 [DBG] Connection id "0HN64MA3L11UF" started.
2024-08-25 14:34:12.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 14:34:12.694 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 14:34:12.694 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 14:34:12.694 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 14:34:12.695 +05:30 [INF] CORS policy execution successful.
2024-08-25 14:34:12.695 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:34:12.695 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 14:34:12.695 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 14:34:12.696 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 14:34:12.696 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:34:12.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:34:12.696 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:34:12.712 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:34:12.713 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 14:34:12.713 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 14:34:12.713 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:12.713 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:12.714 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:12.714 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:34:12.714 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:34:12.714 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:34:12.714 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 14:34:12.714 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 14:34:12.714 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 14:34:12.714 +05:30 [DBG] Connection id "0HN64MA3L11UF" completed keep alive response.
2024-08-25 14:34:12.714 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 14:34:12.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 19.8762ms
2024-08-25 14:34:17.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-25 14:34:17.182 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-25 14:34:17.182 +05:30 [DBG] Request did not match any endpoints
2024-08-25 14:34:17.182 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:34:17.183 +05:30 [DBG] Connection id "0HN64MA3L11UF" completed keep alive response.
2024-08-25 14:34:17.183 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 1.7954ms
2024-08-25 14:34:17.285 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-25 14:34:17.285 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-25 14:34:17.285 +05:30 [DBG] Request did not match any endpoints
2024-08-25 14:34:17.285 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:34:17.310 +05:30 [DBG] Connection id "0HN64MA3L11UF" completed keep alive response.
2024-08-25 14:34:17.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.9453ms
2024-08-25 14:34:31.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 14:34:31.716 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 14:34:31.717 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 14:34:31.717 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:34:31.717 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 14:34:31.717 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 14:34:31.719 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 14:34:31.721 +05:30 [DBG] Compiling query expression: 
'DbSet<AddressType>()
    .OrderBy(o => o.AddressTypeId)'
2024-08-25 14:34:31.726 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AddressType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AddressType.AddressTypeId (byte) Required PK AfterSave:Throw, 0], [Property: AddressType.AddressTypeCode (string) Required, 1], [Property: AddressType.AddressTypeName (string) Required, 2] }
        SELECT a.AddressTypeId, a.AddressTypeCode, a.AddressTypeName
        FROM AddressType AS a
        ORDER BY a.AddressTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AddressType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 14:34:31.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:34:31.728 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:34:31.728 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:34:31.728 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:34:31.728 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 14:34:31.743 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 14:34:31.745 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:31.749 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:31.750 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:34:31.750 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:34:31.750 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:34:31.750 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:34:31.750 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 14:34:31.751 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 14:34:31.751 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 14:34:31.751 +05:30 [DBG] Connection id "0HN64MA3L11UF" completed keep alive response.
2024-08-25 14:34:31.751 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 14:34:31.752 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 36.0862ms
2024-08-25 14:35:14.310 +05:30 [DBG] Connection id "0HN64MA3L11UF" received FIN.
2024-08-25 14:35:14.312 +05:30 [DBG] Connection id "0HN64MA3L11UF" disconnecting.
2024-08-25 14:35:14.312 +05:30 [DBG] Connection id "0HN64MA3L11UF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 14:35:14.313 +05:30 [DBG] Connection id "0HN64MA3L11UF" stopped.
2024-08-25 14:36:38.051 +05:30 [DBG] Connection id "0HN64MA3L11UG" accepted.
2024-08-25 14:36:38.051 +05:30 [DBG] Connection id "0HN64MA3L11UG" started.
2024-08-25 14:36:38.052 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/addresses/patient/2 - null null
2024-08-25 14:36:38.052 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses/patient/2'
2024-08-25 14:36:38.052 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync' with route pattern '/api/patients/addresses/patient/{id}' is valid for the request path '/api/patients/addresses/patient/2'
2024-08-25 14:36:38.053 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync'
2024-08-25 14:36:38.053 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:36:38.053 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 14:36:38.054 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 14:36:38.054 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 14:36:38.054 +05:30 [DBG] Connection id "0HN64MA3L11UG" completed keep alive response.
2024-08-25 14:36:38.054 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/addresses/patient/2 - 401 0 null 2.2011ms
2024-08-25 14:37:09.047 +05:30 [DBG] Connection id "0HN64MA3L11UG" received FIN.
2024-08-25 14:37:09.048 +05:30 [DBG] Connection id "0HN64MA3L11UG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 14:37:09.048 +05:30 [DBG] Connection id "0HN64MA3L11UG" disconnecting.
2024-08-25 14:37:09.048 +05:30 [DBG] Connection id "0HN64MA3L11UG" stopped.
2024-08-25 14:37:09.812 +05:30 [DBG] Connection id "0HN64MA3L11UH" accepted.
2024-08-25 14:37:09.812 +05:30 [DBG] Connection id "0HN64MA3L11UH" started.
2024-08-25 14:37:09.812 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-25 14:37:09.813 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 14:37:09.813 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 14:37:09.813 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-25 14:37:09.813 +05:30 [INF] CORS policy execution failed.
2024-08-25 14:37:09.813 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-25 14:37:09.813 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 14:37:09.813 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 14:37:09.813 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 14:37:09.813 +05:30 [DBG] Connection id "0HN64MA3L11UH", Request id "0HN64MA3L11UH:00000001": started reading request body.
2024-08-25 14:37:09.813 +05:30 [DBG] Connection id "0HN64MA3L11UH", Request id "0HN64MA3L11UH:00000001": done reading request body.
2024-08-25 14:37:09.814 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 14:37:09.970 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 14:37:09.970 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:37:09.970 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:37:09.970 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:37:09.971 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:37:09.971 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 14:37:09.973 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 14:37:09.973 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:37:09.973 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:37:09.973 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.095 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 14:37:10.096 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:37:10.096 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:37:10.096 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.097 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.097 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 14:37:10.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 14:37:10.097 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:37:10.098 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:37:10.098 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.098 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.098 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:37:10.098 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 14:37:10.098 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 14:37:10.098 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 14:37:10.098 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.098 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.098 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 14:37:10.099 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 14:37:10.099 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:37:10.099 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:37:10.099 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 14:37:10.099 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 14:37:10.100 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:37:10.100 +05:30 [DBG] Committing transaction.
2024-08-25 14:37:10.101 +05:30 [DBG] Committed transaction.
2024-08-25 14:37:10.101 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.101 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.101 +05:30 [DBG] Disposing transaction.
2024-08-25 14:37:10.101 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:37:10.101 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 14:37:10.102 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:37:10.102 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 14:37:10.102 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 14:37:10.102 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 14:37:10.102 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.102 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.102 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 14:37:10.102 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 14:37:10.102 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:37:10.102 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:37:10.102 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 14:37:10.103 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 14:37:10.103 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:37:10.103 +05:30 [DBG] Committing transaction.
2024-08-25 14:37:10.103 +05:30 [DBG] Committed transaction.
2024-08-25 14:37:10.103 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.103 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:37:10.103 +05:30 [DBG] Disposing transaction.
2024-08-25 14:37:10.103 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 14:37:10.104 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 14:37:10.104 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 14:37:10.104 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 14:37:10.104 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 14:37:10.104 +05:30 [DBG] Connection id "0HN64MA3L11UH" completed keep alive response.
2024-08-25 14:37:10.104 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 14:37:10.104 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 291.5256ms
2024-08-25 14:37:36.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/addresses/patient/2 - null null
2024-08-25 14:37:36.518 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses/patient/2'
2024-08-25 14:37:36.518 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync' with route pattern '/api/patients/addresses/patient/{id}' is valid for the request path '/api/patients/addresses/patient/2'
2024-08-25 14:37:36.519 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync'
2024-08-25 14:37:36.519 +05:30 [DBG] Successfully validated the token.
2024-08-25 14:37:36.519 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 14:37:36.519 +05:30 [DBG] Authorization was successful.
2024-08-25 14:37:36.520 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 14:37:36.520 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync'
2024-08-25 14:37:36.526 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 14:37:36.529 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientAddress>()
    .Join(
        inner: DbSet<AddressType>(), 
        outerKeySelector: pa => pa.AddressTypeId, 
        innerKeySelector: at => at.AddressTypeId, 
        resultSelector: (pa, at) => new { 
            pa = pa, 
            at = at
         })
    .Join(
        inner: DbSet<State>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.pa.StateId, 
        innerKeySelector: s => s.StateId, 
        resultSelector: (<>h__TransparentIdentifier0, s) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            s = s
         })
    .Where(<>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.PatientId.Equals(__patientId_0) && <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.IsActive)
    .Select(<>h__TransparentIdentifier1 => new PatientAddressModel{ 
        PatientAddressId = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.PatientAddressId, 
        PatientId = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.PatientId, 
        AddressLine1 = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.AddressLine1, 
        AddressLine2 = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.AddressLine2, 
        AddressLine3 = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.AddressLine3, 
        City = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.City, 
        Pincode = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.pa.Pincode, 
        StateCode = <>h__TransparentIdentifier1.s.StateCode, 
        StateName = <>h__TransparentIdentifier1.s.StateName, 
        AddressTypeCode = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.at.AddressTypeCode, 
        AddressTypeName = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.at.AddressTypeName 
    }
    )'
2024-08-25 14:37:36.533 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientAddressModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientAddressId -> 0
            PatientId -> 1
            AddressLine1 -> 2
            AddressLine2 -> 3
            AddressLine3 -> 4
            City -> 5
            Pincode -> 6
            StateCode -> 7
            StateName -> 8
            AddressTypeCode -> 9
            AddressTypeName -> 10
        SELECT p.PatientAddressId, p.PatientId, p.AddressLine1, p.AddressLine2, p.AddressLine3, p.City, p.Pincode, s.StateCode, s.StateName, a.AddressTypeCode, a.AddressTypeName
        FROM PatientAddress AS p
        INNER JOIN AddressType AS a ON p.AddressTypeId == a.AddressTypeId
        INNER JOIN State AS s ON p.StateId == s.StateId
        WHERE (p.PatientId == @__patientId_0) && p.IsActive), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientAddressModel>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 14:37:36.533 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 14:37:36.533 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 14:37:36.534 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 14:37:36.534 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 14:37:36.534 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`PatientId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`City`, `p`.`Pincode`, `s`.`StateCode`, `s`.`StateName`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `PatientAddress` AS `p`
INNER JOIN `AddressType` AS `a` ON `p`.`AddressTypeId` = `a`.`AddressTypeId`
INNER JOIN `State` AS `s` ON `p`.`StateId` = `s`.`StateId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 14:37:36.539 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`PatientId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`City`, `p`.`Pincode`, `s`.`StateCode`, `s`.`StateName`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `PatientAddress` AS `p`
INNER JOIN `AddressType` AS `a` ON `p`.`AddressTypeId` = `a`.`AddressTypeId`
INNER JOIN `State` AS `s` ON `p`.`StateId` = `s`.`StateId`
WHERE (`p`.`PatientId` = @__patientId_0) AND `p`.`IsActive`
2024-08-25 14:37:36.540 +05:30 [DBG] A data reader was disposed.
2024-08-25 14:37:36.540 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 14:37:36.540 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 14:37:36.540 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 14:37:36.541 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 14:37:36.541 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/addresses/patient/{id} => GetPatientAddressesByPatientIdAsync'
2024-08-25 14:37:36.542 +05:30 [DBG] Connection id "0HN64MA3L11UH" completed keep alive response.
2024-08-25 14:37:36.542 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 14:37:36.542 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/addresses/patient/2 - 200 null application/json; charset=utf-8 24.4414ms
2024-08-25 14:38:11.736 +05:30 [DBG] Connection id "0HN64MA3L11UH" received FIN.
2024-08-25 14:38:11.738 +05:30 [DBG] Connection id "0HN64MA3L11UH" disconnecting.
2024-08-25 14:38:11.738 +05:30 [DBG] Connection id "0HN64MA3L11UH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 14:38:11.739 +05:30 [DBG] Connection id "0HN64MA3L11UH" stopped.
2024-08-25 15:11:25.345 +05:30 [DBG] Connection id "0HN64MA3L11UI" accepted.
2024-08-25 15:11:25.347 +05:30 [DBG] Connection id "0HN64MA3L11UI" started.
2024-08-25 15:11:25.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 15:11:25.348 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 15:11:25.348 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:11:25.349 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:25.349 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:25.349 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:11:25.349 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:25.349 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.3355ms
2024-08-25 15:11:25.350 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 15:11:25.350 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 15:11:25.350 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:11:25.350 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:25.350 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:25.352 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 7:15:52 AM', Current time: '8/25/2024 9:41:25 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 15:11:25.354 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 7:15:52 AM', Current time: '8/25/2024 9:41:25 AM'.
2024-08-25 15:11:25.354 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:11:25.354 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:11:25.354 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000002": started reading request body.
2024-08-25 15:11:25.354 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000002": done reading request body.
2024-08-25 15:11:25.356 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 15:11:25.517 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:11:25.518 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:25.518 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:25.518 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.538 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.538 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:11:25.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:11:25.540 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:25.540 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.540 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.661 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 15:11:25.661 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:25.662 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:25.662 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.662 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.662 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:11:25.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:11:25.663 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:25.663 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:25.663 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.663 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.663 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:25.663 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:11:25.663 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:11:25.663 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:11:25.663 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.664 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.664 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:11:25.664 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:11:25.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:25.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:25.664 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 15:11:25.665 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 15:11:25.665 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:25.665 +05:30 [DBG] Committing transaction.
2024-08-25 15:11:25.669 +05:30 [DBG] Committed transaction.
2024-08-25 15:11:25.669 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.669 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.669 +05:30 [DBG] Disposing transaction.
2024-08-25 15:11:25.669 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:25.669 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:11:25.669 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:25.669 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:11:25.669 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:11:25.669 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:11:25.669 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.670 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.670 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:11:25.670 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:11:25.670 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:25.670 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:25.670 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 15:11:25.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 15:11:25.672 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:25.672 +05:30 [DBG] Committing transaction.
2024-08-25 15:11:25.672 +05:30 [DBG] Committed transaction.
2024-08-25 15:11:25.672 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.672 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:25.672 +05:30 [DBG] Disposing transaction.
2024-08-25 15:11:25.673 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:25.673 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:11:25.673 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:11:25.673 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 15:11:25.673 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:11:25.673 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:25.673 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:11:25.673 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 323.1065ms
2024-08-25 15:11:32.906 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 15:11:32.906 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 15:11:32.906 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:11:32.907 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:32.907 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:32.907 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:11:32.907 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:32.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.7185ms
2024-08-25 15:11:32.908 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-25 15:11:32.908 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 15:11:32.908 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:11:32.908 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:32.908 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:32.909 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:11:32.909 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:11:32.909 +05:30 [DBG] Authorization was successful.
2024-08-25 15:11:32.909 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:11:32.909 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:11:32.909 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000004": started reading request body.
2024-08-25 15:11:32.909 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000004": done reading request body.
2024-08-25 15:11:32.910 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:11:32.914 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:32.914 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:32.914 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:32.915 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:32.915 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 15:11:32.917 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 15:11:32.917 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:32.917 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:32.917 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:32.917 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:11:32.917 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:11:32.917 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:11:32.918 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:32.918 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:11:32.918 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 9.7672ms
2024-08-25 15:11:35.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 15:11:35.274 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:11:35.274 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:11:35.274 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:35.274 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:35.274 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:11:35.274 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:35.274 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8676ms
2024-08-25 15:11:35.275 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 15:11:35.275 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:11:35.275 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:11:35.275 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:35.275 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:35.275 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:11:35.275 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:11:35.276 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:11:35.276 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:11:35.276 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:11:35.276 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:35.277 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:35.277 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:35.277 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:35.277 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:11:35.278 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:11:35.278 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:35.278 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:35.278 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:35.278 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:35.278 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:35.278 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:11:35.278 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:11:35.278 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:11:35.279 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:35.279 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:11:35.280 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.6007ms
2024-08-25 15:11:54.228 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 15:11:54.229 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 15:11:54.229 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:11:54.230 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:54.230 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:54.230 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:11:54.230 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:54.230 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 2.164ms
2024-08-25 15:11:54.231 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 137
2024-08-25 15:11:54.231 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 15:11:54.231 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:11:54.231 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:54.231 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:54.232 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:11:54.232 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:11:54.232 +05:30 [DBG] Authorization was successful.
2024-08-25 15:11:54.232 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:11:54.232 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:11:54.232 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000008": started reading request body.
2024-08-25 15:11:54.232 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000008": done reading request body.
2024-08-25 15:11:54.233 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:11:54.234 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.234 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.234 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.235 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.235 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 15:11:54.236 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 15:11:54.236 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.236 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.236 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.236 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.236 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.237 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.237 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.237 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 15:11:54.238 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 15:11:54.238 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.238 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.239 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.241 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.241 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.241 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.241 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.241 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:11:54.242 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.243 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.243 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:11:54.243 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:11:54.244 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.244 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.244 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 15:11:54.245 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 15:11:54.246 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:11:54.246 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.246 +05:30 [DBG] Committing transaction.
2024-08-25 15:11:54.247 +05:30 [DBG] Committed transaction.
2024-08-25 15:11:54.247 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.248 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.248 +05:30 [DBG] Disposing transaction.
2024-08-25 15:11:54.248 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.248 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:11:54.248 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.248 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.248 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.248 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:11:54.248 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.248 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.248 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:11:54.249 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:11:54.249 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.249 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.249 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 15:11:54.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 15:11:54.250 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.250 +05:30 [DBG] Committing transaction.
2024-08-25 15:11:54.250 +05:30 [DBG] Committed transaction.
2024-08-25 15:11:54.251 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.251 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.251 +05:30 [DBG] Disposing transaction.
2024-08-25 15:11:54.251 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.251 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:11:54.251 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.251 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.251 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.251 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.251 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.252 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.252 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.252 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.252 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:11:54.252 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:11:54.252 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.253 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.253 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:11:54.253 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:11:54.253 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 15:11:54.253 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.253 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.254 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 15:11:54.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 15:11:54.255 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.255 +05:30 [DBG] Committing transaction.
2024-08-25 15:11:54.256 +05:30 [DBG] Committed transaction.
2024-08-25 15:11:54.256 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.256 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.256 +05:30 [DBG] Disposing transaction.
2024-08-25 15:11:54.256 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.256 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.256 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.256 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.257 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.257 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.257 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.257 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 15:11:54.257 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:11:54.257 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 15:11:54.257 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:11:54.257 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:54.257 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:11:54.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 26.3315ms
2024-08-25 15:11:54.293 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 15:11:54.294 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 15:11:54.294 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:11:54.294 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:54.294 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:54.294 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:11:54.294 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:54.294 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.8201ms
2024-08-25 15:11:54.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 15:11:54.295 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 15:11:54.295 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:11:54.295 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:11:54.295 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:11:54.296 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:11:54.296 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:11:54.296 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:11:54.296 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:11:54.296 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:11:54.296 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:11:54.296 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:11:54.296 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.297 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.297 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 15:11:54.297 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 15:11:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:11:54.297 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:11:54.297 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.297 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:11:54.298 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:11:54.298 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:11:54.298 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:11:54.298 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:11:54.298 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:11:54.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.5367ms
2024-08-25 15:12:20.373 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 15:12:20.374 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 15:12:20.375 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:12:20.375 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:20.375 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:20.375 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:12:20.375 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:20.375 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 2.2578ms
2024-08-25 15:12:20.376 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 163
2024-08-25 15:12:20.376 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 15:12:20.376 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:12:20.377 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:20.377 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:20.377 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:12:20.377 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:12:20.377 +05:30 [DBG] Authorization was successful.
2024-08-25 15:12:20.377 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:12:20.377 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:12:20.377 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:0000000C": started reading request body.
2024-08-25 15:12:20.377 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:0000000C": done reading request body.
2024-08-25 15:12:20.378 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:12:20.379 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:20.379 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:20.379 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.380 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.380 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 15:12:20.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 15:12:20.381 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:20.381 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.381 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.381 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:20.382 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:20.382 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.382 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.382 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:12:20.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:12:20.383 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:20.383 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.383 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.383 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.383 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.383 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:12:20.384 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:12:20.384 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:12:20.384 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.384 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.384 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:12:20.385 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:12:20.385 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:20.385 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:20.385 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 15:12:20.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 15:12:20.386 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:12:20.387 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:20.387 +05:30 [DBG] Committing transaction.
2024-08-25 15:12:20.387 +05:30 [DBG] Committed transaction.
2024-08-25 15:12:20.388 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.388 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.388 +05:30 [DBG] Disposing transaction.
2024-08-25 15:12:20.388 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.388 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:12:20.388 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.388 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.388 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.388 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.388 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.389 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.389 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.389 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.389 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:12:20.389 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:12:20.390 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:12:20.390 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.390 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.390 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:12:20.391 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:12:20.391 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 15:12:20.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:20.391 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:20.391 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 15:12:20.392 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 15:12:20.392 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:20.393 +05:30 [DBG] Committing transaction.
2024-08-25 15:12:20.393 +05:30 [DBG] Committed transaction.
2024-08-25 15:12:20.393 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.393 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.393 +05:30 [DBG] Disposing transaction.
2024-08-25 15:12:20.393 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.393 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.393 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.393 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.394 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.394 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.394 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.395 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.395 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 15:12:20.395 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:12:20.395 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 15:12:20.396 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:12:20.396 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:20.396 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:12:20.396 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 19.4176ms
2024-08-25 15:12:20.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 15:12:20.429 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:12:20.430 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:12:20.430 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:20.430 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:20.430 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:12:20.430 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:20.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.9294ms
2024-08-25 15:12:20.431 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 15:12:20.431 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:12:20.431 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:12:20.431 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:20.431 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:20.431 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:12:20.431 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:12:20.431 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:12:20.431 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:12:20.432 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:12:20.432 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:20.432 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:20.432 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.432 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.432 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:12:20.433 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:12:20.433 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.433 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.433 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:20.433 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:20.433 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.433 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:20.433 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:12:20.433 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:12:20.433 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:12:20.433 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:20.433 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:12:20.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 2.3868ms
2024-08-25 15:12:54.924 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 15:12:54.924 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:12:54.924 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:12:54.924 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:54.924 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:54.924 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:12:54.924 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:54.924 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.6724ms
2024-08-25 15:12:54.926 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/addresses - application/json 166
2024-08-25 15:12:54.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:12:54.926 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:12:54.926 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:12:54.926 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:12:54.926 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:12:54.927 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:12:54.927 +05:30 [DBG] Authorization was successful.
2024-08-25 15:12:54.927 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:12:54.927 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:12:54.927 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000010": started reading request body.
2024-08-25 15:12:54.927 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000010": done reading request body.
2024-08-25 15:12:54.939 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:12:54.939 +05:30 [DBG] Compiling query expression: 
'DbSet<AddressType>()
    .Where(g => g.AddressTypeCode.Equals(__addressTypeCode_0))
    .Select(s => s.AddressTypeId)
    .FirstOrDefault()'
2024-08-25 15:12:54.942 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) a.AddressTypeId
            FROM AddressType AS a
            WHERE a.AddressTypeCode == @__addressTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 15:12:54.942 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:54.942 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:54.942 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.943 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.943 +05:30 [DBG] Executing DbCommand [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:12:54.943 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:12:54.943 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:54.943 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.944 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.946 +05:30 [DBG] Compiling query expression: 
'DbSet<State>()
    .Where(g => g.StateCode.Equals(__stateCode_0))
    .Select(s => s.StateId)
    .FirstOrDefault()'
2024-08-25 15:12:54.947 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) s.StateId
            FROM State AS s
            WHERE s.StateCode == @__stateCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 15:12:54.948 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:54.948 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:54.948 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.948 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.948 +05:30 [DBG] Executing DbCommand [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:12:54.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:12:54.949 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:54.949 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.949 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.950 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientAddress>()
    .FirstOrDefault(p => p.PatientId.Equals(__patientId_0) && p.AddressTypeId.Equals(__addressTypeId_1) && p.IsActive)'
2024-08-25 15:12:54.954 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientAddress>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientAddress>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientAddress.PatientAddressId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientAddress.AddressLine1 (string) Required, 1], [Property: PatientAddress.AddressLine2 (string), 2], [Property: PatientAddress.AddressLine3 (string), 3], [Property: PatientAddress.AddressTypeId (byte) Required, 4], [Property: PatientAddress.City (string) Required, 5], [Property: PatientAddress.IsActive (bool) Required, 6], [Property: PatientAddress.PatientId (long) Required, 7], [Property: PatientAddress.Pincode (string) Required, 8], [Property: PatientAddress.StateId (byte) Required, 9] }
            SELECT TOP(1) p.PatientAddressId, p.AddressLine1, p.AddressLine2, p.AddressLine3, p.AddressTypeId, p.City, p.IsActive, p.PatientId, p.Pincode, p.StateId
            FROM PatientAddress AS p
            WHERE ((p.PatientId == @__patientId_0) && (p.AddressTypeId == @__addressTypeId_1)) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientAddress>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 15:12:54.954 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:54.954 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:54.954 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.955 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.955 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:12:54.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:12:54.956 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:54.956 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.956 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.958 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientAddressId.PatientAddress'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.966 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:12:54.966 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:12:54.967 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:12:54.967 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.967 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.968 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:12:54.968 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:12:54.968 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:54.968 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:54.968 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 15:12:54.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 15:12:54.970 +05:30 [DBG] The foreign key property 'PatientAddress.PatientAddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:12:54.970 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:54.970 +05:30 [DBG] Committing transaction.
2024-08-25 15:12:54.971 +05:30 [DBG] Committed transaction.
2024-08-25 15:12:54.971 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.971 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.971 +05:30 [DBG] Disposing transaction.
2024-08-25 15:12:54.971 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.971 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.972 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:12:54.972 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:12:54.972 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:12:54.972 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.973 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.973 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:12:54.973 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:12:54.973 +05:30 [DBG] Executing 10 update commands as a batch.
2024-08-25 15:12:54.973 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:12:54.973 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:12:54.973 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 15:12:54.974 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 15:12:54.975 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:12:54.975 +05:30 [DBG] Committing transaction.
2024-08-25 15:12:54.975 +05:30 [DBG] Committed transaction.
2024-08-25 15:12:54.975 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.975 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:12:54.975 +05:30 [DBG] Disposing transaction.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:12:54.976 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 10 entities written to the database.
2024-08-25 15:12:54.977 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:12:54.977 +05:30 [INF] Writing value of type 'PatientAddress' as Json.
2024-08-25 15:12:54.978 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:12:54.978 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:12:54.978 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:12:54.978 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/addresses - 201 null application/json; charset=utf-8 52.0608ms
2024-08-25 15:13:00.741 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 15:13:00.741 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:13:00.742 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:13:00.742 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:00.742 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:00.743 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:13:00.743 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:00.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 2.0075ms
2024-08-25 15:13:00.744 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 15:13:00.744 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:13:00.744 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:13:00.744 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:00.744 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:00.744 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:13:00.744 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:13:00.745 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:13:00.745 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:13:00.745 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:13:00.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:13:00.746 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:13:00.746 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:13:00.747 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:13:00.747 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:13:00.748 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:13:00.748 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:13:00.748 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:13:00.748 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:13:00.748 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:13:00.748 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:13:00.748 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:13:00.749 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:13:00.749 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:13:00.749 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:13:00.749 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:00.749 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:13:00.749 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 5.0274ms
2024-08-25 15:13:10.217 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 15:13:10.217 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:13:10.217 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:13:10.217 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:10.217 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:10.217 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:13:10.217 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:10.217 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.8254ms
2024-08-25 15:13:10.218 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - application/json 171
2024-08-25 15:13:10.218 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:13:10.219 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:10.219 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:10.219 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:10.219 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:13:10.219 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:13:10.220 +05:30 [DBG] Authorization was successful.
2024-08-25 15:13:10.220 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:13:10.220 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:10.220 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000014": started reading request body.
2024-08-25 15:13:10.220 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000014": done reading request body.
2024-08-25 15:13:10.231 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 15:13:10.231 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 15:13:10.231 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:10.231 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:10.231 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - 400 null application/problem+json 13.0796ms
2024-08-25 15:13:31.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 15:13:31.335 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:13:31.335 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:13:31.335 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:31.335 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:31.335 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:13:31.335 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:31.335 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 1.7412ms
2024-08-25 15:13:31.336 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - application/json 171
2024-08-25 15:13:31.336 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:13:31.336 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:31.336 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:13:31.337 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:13:31.337 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:13:31.337 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:13:31.337 +05:30 [DBG] Authorization was successful.
2024-08-25 15:13:31.337 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:13:31.337 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:31.337 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000016": started reading request body.
2024-08-25 15:13:31.337 +05:30 [DBG] Connection id "0HN64MA3L11UI", Request id "0HN64MA3L11UI:00000016": done reading request body.
2024-08-25 15:13:31.339 +05:30 [INF] Setting HTTP status code 400.
2024-08-25 15:13:31.339 +05:30 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-08-25 15:13:31.339 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:13:31.339 +05:30 [DBG] Connection id "0HN64MA3L11UI" completed keep alive response.
2024-08-25 15:13:31.340 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - 400 null application/problem+json 3.3236ms
2024-08-25 15:14:15.205 +05:30 [DBG] Connection id "0HN64MA3L11UI" received FIN.
2024-08-25 15:14:15.206 +05:30 [DBG] Connection id "0HN64MA3L11UI" disconnecting.
2024-08-25 15:14:15.206 +05:30 [DBG] Connection id "0HN64MA3L11UI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 15:14:15.207 +05:30 [DBG] Connection id "0HN64MA3L11UI" stopped.
2024-08-25 15:15:12.231 +05:30 [DBG] Connection id "0HN64MA3L11UJ" accepted.
2024-08-25 15:15:12.233 +05:30 [DBG] Connection id "0HN64MA3L11UJ" started.
2024-08-25 15:15:12.233 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 15:15:12.233 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:15:12.233 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:15:12.233 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:15:12.233 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:15:12.233 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:15:12.233 +05:30 [DBG] Connection id "0HN64MA3L11UJ" completed keep alive response.
2024-08-25 15:15:12.234 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.6405ms
2024-08-25 15:15:12.234 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 15:15:12.235 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:15:12.235 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:15:12.235 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:15:12.235 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:15:12.235 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:15:12.235 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:15:12.235 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:15:12.235 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:15:12.235 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:15:12.235 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:15:12.235 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:15:12.235 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:15:12.236 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:15:12.236 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:15:12.236 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:15:12.236 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:15:12.236 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:15:12.236 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:15:12.237 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:15:12.237 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:15:12.237 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:15:12.237 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:15:12.237 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:15:12.237 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:15:12.237 +05:30 [DBG] Connection id "0HN64MA3L11UJ" completed keep alive response.
2024-08-25 15:15:12.237 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:15:12.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 2.6592ms
2024-08-25 15:15:43.010 +05:30 [DBG] Connection id "0HN64MA3L11UJ" received FIN.
2024-08-25 15:15:43.010 +05:30 [DBG] Connection id "0HN64MA3L11UJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 15:15:43.011 +05:30 [DBG] Connection id "0HN64MA3L11UJ" disconnecting.
2024-08-25 15:15:43.011 +05:30 [DBG] Connection id "0HN64MA3L11UJ" stopped.
2024-08-25 15:33:55.792 +05:30 [DBG] Connection id "0HN64MA3L11UK" accepted.
2024-08-25 15:33:55.794 +05:30 [DBG] Connection id "0HN64MA3L11UK" started.
2024-08-25 15:33:55.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 15:33:55.795 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 15:33:55.795 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:33:55.795 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:33:55.795 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:33:55.796 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:33:55.796 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:33:55.796 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.3983ms
2024-08-25 15:33:55.797 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 15:33:55.797 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 15:33:55.797 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:33:55.797 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:33:55.797 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:33:55.797 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 15:33:55.798 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:33:55.798 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:33:55.798 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000002": started reading request body.
2024-08-25 15:33:55.798 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000002": done reading request body.
2024-08-25 15:33:55.800 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 15:33:55.970 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:33:55.970 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:33:55.970 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:33:55.971 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:33:55.986 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:33:55.986 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:33:55.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:33:55.987 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:33:55.987 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:33:55.988 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.112 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 15:33:56.112 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:33:56.112 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:33:56.113 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.113 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.113 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:33:56.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 15:33:56.114 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.114 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:33:56.114 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.114 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.114 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.114 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:33:56.114 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:33:56.114 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:33:56.114 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.115 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.115 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:33:56.115 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:33:56.115 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:33:56.115 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:33:56.115 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 15:33:56.116 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 15:33:56.116 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:33:56.116 +05:30 [DBG] Committing transaction.
2024-08-25 15:33:56.119 +05:30 [DBG] Committed transaction.
2024-08-25 15:33:56.119 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.119 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.119 +05:30 [DBG] Disposing transaction.
2024-08-25 15:33:56.119 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.119 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:33:56.119 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.119 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:33:56.119 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:33:56.119 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:33:56.119 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.119 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.119 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:33:56.120 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:33:56.120 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:33:56.120 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:33:56.120 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 15:33:56.120 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 15:33:56.120 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:33:56.120 +05:30 [DBG] Committing transaction.
2024-08-25 15:33:56.121 +05:30 [DBG] Committed transaction.
2024-08-25 15:33:56.121 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.121 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.121 +05:30 [DBG] Disposing transaction.
2024-08-25 15:33:56.121 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.121 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:33:56.121 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:33:56.121 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 15:33:56.121 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 15:33:56.121 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:33:56.121 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:33:56.121 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 324.4072ms
2024-08-25 15:33:56.185 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 15:33:56.185 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:33:56.185 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:33:56.185 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:33:56.185 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:33:56.185 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:33:56.185 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:33:56.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6927ms
2024-08-25 15:33:56.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 15:33:56.187 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:33:56.187 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:33:56.187 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:33:56.187 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:33:56.187 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:33:56.187 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:33:56.187 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:33:56.187 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:33:56.188 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:33:56.188 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:33:56.188 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:33:56.188 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.188 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.189 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:33:56.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:33:56.189 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.190 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:33:56.190 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:33:56.190 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.190 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:33:56.190 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:33:56.190 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:33:56.190 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:33:56.190 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:33:56.190 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:33:56.191 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.8568ms
2024-08-25 15:34:07.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 15:34:07.640 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 15:34:07.640 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:34:07.641 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:07.641 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:07.641 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:34:07.641 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:07.641 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.1907ms
2024-08-25 15:34:07.642 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 42
2024-08-25 15:34:07.643 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 15:34:07.643 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:34:07.643 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:07.643 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:07.643 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:34:07.643 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:34:07.643 +05:30 [DBG] Authorization was successful.
2024-08-25 15:34:07.644 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:34:07.644 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:34:07.644 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000006": started reading request body.
2024-08-25 15:34:07.644 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000006": done reading request body.
2024-08-25 15:34:07.645 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:34:07.649 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:07.649 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:07.649 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:07.650 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:07.651 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 15:34:07.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 15:34:07.652 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:07.652 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:07.653 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:07.653 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:34:07.653 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:34:07.653 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 15:34:07.653 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:07.653 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:34:07.653 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 11.0789ms
2024-08-25 15:34:09.512 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 15:34:09.513 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:34:09.513 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:34:09.513 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:09.513 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:09.513 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:34:09.513 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:09.513 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7409ms
2024-08-25 15:34:09.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 15:34:09.514 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:34:09.514 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:34:09.514 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:09.514 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:09.515 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:34:09.515 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:34:09.515 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:34:09.515 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:34:09.515 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:34:09.516 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:09.516 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:09.516 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:09.516 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:09.516 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:34:09.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:34:09.517 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:09.517 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:09.517 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:09.518 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:09.518 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:09.518 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:34:09.518 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:34:09.519 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:34:09.519 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:09.519 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:34:09.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.7895ms
2024-08-25 15:34:34.328 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 15:34:34.329 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 15:34:34.329 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:34:34.329 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:34.329 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:34.329 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:34:34.329 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:34.329 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.0987ms
2024-08-25 15:34:34.331 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 139
2024-08-25 15:34:34.331 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 15:34:34.331 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:34:34.331 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:34.331 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:34.331 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:34:34.331 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:34:34.331 +05:30 [DBG] Authorization was successful.
2024-08-25 15:34:34.331 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:34:34.331 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:34:34.332 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:0000000A": started reading request body.
2024-08-25 15:34:34.332 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:0000000A": done reading request body.
2024-08-25 15:34:34.333 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:34:34.333 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.334 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.334 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.334 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.335 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 15:34:34.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 15:34:34.336 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.336 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.336 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.336 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.337 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.337 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.337 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.337 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 15:34:34.337 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 15:34:34.338 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.338 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.338 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.338 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.338 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.338 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.339 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.339 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:34:34.339 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.339 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.339 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:34:34.340 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:34:34.340 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.340 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.340 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 15:34:34.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 15:34:34.341 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:34:34.342 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.342 +05:30 [DBG] Committing transaction.
2024-08-25 15:34:34.342 +05:30 [DBG] Committed transaction.
2024-08-25 15:34:34.343 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.343 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.343 +05:30 [DBG] Disposing transaction.
2024-08-25 15:34:34.343 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.343 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:34:34.343 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.343 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.343 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.343 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:34:34.343 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.344 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.344 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:34:34.344 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:34:34.345 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.345 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.345 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 15:34:34.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 15:34:34.346 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.346 +05:30 [DBG] Committing transaction.
2024-08-25 15:34:34.347 +05:30 [DBG] Committed transaction.
2024-08-25 15:34:34.347 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.347 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.347 +05:30 [DBG] Disposing transaction.
2024-08-25 15:34:34.347 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.347 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:34:34.347 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.347 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.347 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.348 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.348 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.348 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.348 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.348 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.348 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:34:34.348 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:34:34.348 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.349 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.349 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:34:34.349 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:34:34.349 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 15:34:34.350 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.350 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.350 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 15:34:34.363 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 15:34:34.364 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.364 +05:30 [DBG] Committing transaction.
2024-08-25 15:34:34.368 +05:30 [DBG] Committed transaction.
2024-08-25 15:34:34.368 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.368 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.368 +05:30 [DBG] Disposing transaction.
2024-08-25 15:34:34.368 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.368 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.369 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 15:34:34.369 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:34:34.369 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 15:34:34.369 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 15:34:34.369 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:34.370 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:34:34.370 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 39.056ms
2024-08-25 15:34:34.406 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 15:34:34.407 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 15:34:34.407 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:34:34.407 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:34.407 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:34.407 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:34:34.407 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:34.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6853ms
2024-08-25 15:34:34.408 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 15:34:34.408 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 15:34:34.408 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:34:34.408 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:34:34.408 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:34:34.408 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:34:34.409 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:34:34.409 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:34:34.409 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:34:34.409 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:34:34.409 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:34:34.410 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:34:34.410 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.410 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.410 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 15:34:34.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 15:34:34.411 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.411 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.411 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.411 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:34:34.412 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:34:34.412 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.412 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:34:34.412 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:34:34.412 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:34:34.412 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 15:34:34.412 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:34:34.413 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:34:34.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.8106ms
2024-08-25 15:35:03.545 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 15:35:03.545 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 15:35:03.545 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:03.545 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:03.545 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:03.545 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:03.545 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:03.545 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.8045ms
2024-08-25 15:35:03.546 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 166
2024-08-25 15:35:03.547 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 15:35:03.547 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:35:03.547 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:03.547 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:03.547 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:03.547 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:03.547 +05:30 [DBG] Authorization was successful.
2024-08-25 15:35:03.548 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:03.548 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:35:03.548 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:0000000E": started reading request body.
2024-08-25 15:35:03.548 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:0000000E": done reading request body.
2024-08-25 15:35:03.549 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:03.550 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:03.550 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:03.550 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.551 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.551 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 15:35:03.552 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 15:35:03.552 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:03.552 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.552 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.553 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:03.553 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:03.553 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.554 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.554 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:03.554 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:03.555 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:03.555 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.555 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.555 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.555 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.555 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:03.556 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:03.556 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:03.556 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.556 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.556 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:35:03.557 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:35:03.557 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:03.557 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:03.557 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 15:35:03.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 15:35:03.558 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:35:03.558 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:03.558 +05:30 [DBG] Committing transaction.
2024-08-25 15:35:03.559 +05:30 [DBG] Committed transaction.
2024-08-25 15:35:03.559 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.559 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.559 +05:30 [DBG] Disposing transaction.
2024-08-25 15:35:03.559 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.559 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:35:03.559 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.559 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.560 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:03.561 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:03.561 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:03.561 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.561 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.562 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:35:03.562 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:35:03.562 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 15:35:03.562 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:03.562 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:03.562 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 15:35:03.563 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 15:35:03.564 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:03.564 +05:30 [DBG] Committing transaction.
2024-08-25 15:35:03.564 +05:30 [DBG] Committed transaction.
2024-08-25 15:35:03.564 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.564 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.564 +05:30 [DBG] Disposing transaction.
2024-08-25 15:35:03.565 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.565 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.565 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.565 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.565 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.566 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.566 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.566 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.566 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 15:35:03.566 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:35:03.566 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 15:35:03.567 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 15:35:03.567 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:03.567 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:03.567 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 20.6568ms
2024-08-25 15:35:03.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 15:35:03.599 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:35:03.599 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:03.600 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:03.600 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:03.600 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:03.600 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:03.600 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.818ms
2024-08-25 15:35:03.601 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 15:35:03.601 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:35:03.601 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:03.601 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:03.601 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:03.601 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:03.601 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:03.602 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:03.602 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:03.602 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:03.602 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:03.602 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:03.603 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.603 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.603 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:35:03.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:35:03.604 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.604 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.605 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:03.605 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:03.605 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.605 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:03.605 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:35:03.605 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:35:03.605 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:03.605 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:03.606 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:03.606 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 4.8879ms
2024-08-25 15:35:32.203 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 15:35:32.203 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:35:32.203 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:32.203 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:32.203 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:32.203 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:32.203 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:32.203 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.7027ms
2024-08-25 15:35:32.204 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/addresses - application/json 161
2024-08-25 15:35:32.204 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:35:32.205 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:35:32.205 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:32.205 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:32.205 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:32.205 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:32.205 +05:30 [DBG] Authorization was successful.
2024-08-25 15:35:32.205 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:32.205 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:35:32.205 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000012": started reading request body.
2024-08-25 15:35:32.205 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000012": done reading request body.
2024-08-25 15:35:32.207 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:32.208 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:32.208 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:32.208 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.209 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.209 +05:30 [DBG] Executing DbCommand [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:35:32.210 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:35:32.210 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:32.210 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.211 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.211 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:32.211 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:32.211 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.212 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.212 +05:30 [DBG] Executing DbCommand [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:35:32.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:35:32.213 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:32.213 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.214 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.214 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:32.214 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:32.215 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.216 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.216 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:32.217 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:32.217 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:32.217 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.217 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.217 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientAddressId.PatientAddress'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.217 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.217 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:32.217 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:32.217 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:32.217 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.218 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.218 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:35:32.218 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:35:32.218 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:32.218 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:32.219 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 15:35:32.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 15:35:32.220 +05:30 [DBG] The foreign key property 'PatientAddress.PatientAddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 15:35:32.220 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:32.220 +05:30 [DBG] Committing transaction.
2024-08-25 15:35:32.220 +05:30 [DBG] Committed transaction.
2024-08-25 15:35:32.220 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.221 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.221 +05:30 [DBG] Disposing transaction.
2024-08-25 15:35:32.221 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.221 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:35:32.222 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.222 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.222 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.223 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:32.223 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:32.223 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:32.223 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.224 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.224 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:35:32.224 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:35:32.224 +05:30 [DBG] Executing 10 update commands as a batch.
2024-08-25 15:35:32.225 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:32.225 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:32.225 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 15:35:32.227 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 15:35:32.227 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:32.228 +05:30 [DBG] Committing transaction.
2024-08-25 15:35:32.228 +05:30 [DBG] Committed transaction.
2024-08-25 15:35:32.228 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.228 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:32.228 +05:30 [DBG] Disposing transaction.
2024-08-25 15:35:32.228 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.228 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:32.229 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 10 entities written to the database.
2024-08-25 15:35:32.229 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 15:35:32.229 +05:30 [INF] Writing value of type 'PatientAddress' as Json.
2024-08-25 15:35:32.229 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 15:35:32.229 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:32.230 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:32.230 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/addresses - 201 null application/json; charset=utf-8 25.4341ms
2024-08-25 15:35:41.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 15:35:41.584 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:35:41.584 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:41.585 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:41.585 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:41.585 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:41.585 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:41.585 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.9914ms
2024-08-25 15:35:41.586 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 15:35:41.586 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 15:35:41.586 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:41.587 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:41.587 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:41.587 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:41.587 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:41.587 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:41.587 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:41.587 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:41.588 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:41.588 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:41.588 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:41.589 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:41.589 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:35:41.590 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 15:35:41.590 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:41.590 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:41.590 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:41.590 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:41.590 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:41.590 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:41.590 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:35:41.590 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:35:41.591 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 15:35:41.591 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:41.591 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:41.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 4.6091ms
2024-08-25 15:35:44.774 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 15:35:44.774 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:35:44.774 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:44.774 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:44.774 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:44.774 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:44.774 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:44.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.6869ms
2024-08-25 15:35:44.776 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - application/json 167
2024-08-25 15:35:44.776 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 15:35:44.776 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:35:44.776 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:44.776 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:44.776 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:44.777 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:44.777 +05:30 [DBG] Authorization was successful.
2024-08-25 15:35:44.777 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:44.777 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:35:44.778 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000016": started reading request body.
2024-08-25 15:35:44.778 +05:30 [DBG] Connection id "0HN64MA3L11UK", Request id "0HN64MA3L11UK:00000016": done reading request body.
2024-08-25 15:35:44.779 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:44.780 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.780 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.781 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.781 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.781 +05:30 [DBG] Executing DbCommand [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:35:44.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 15:35:44.782 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.783 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.783 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.783 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.783 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.783 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.784 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.784 +05:30 [DBG] Executing DbCommand [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:35:44.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 15:35:44.785 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.785 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.785 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.788 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientAddress>()
    .Where(p => p.PatientAddressId.Equals(__patientAddressId_0))
    .FirstOrDefault()'
2024-08-25 15:35:44.792 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientAddress>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientAddress>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientAddress.PatientAddressId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientAddress.AddressLine1 (string) Required, 1], [Property: PatientAddress.AddressLine2 (string), 2], [Property: PatientAddress.AddressLine3 (string), 3], [Property: PatientAddress.AddressTypeId (byte) Required, 4], [Property: PatientAddress.City (string) Required, 5], [Property: PatientAddress.IsActive (bool) Required, 6], [Property: PatientAddress.PatientId (long) Required, 7], [Property: PatientAddress.Pincode (string) Required, 8], [Property: PatientAddress.StateId (byte) Required, 9] }
            SELECT TOP(1) p.PatientAddressId, p.AddressLine1, p.AddressLine2, p.AddressLine3, p.AddressTypeId, p.City, p.IsActive, p.PatientId, p.Pincode, p.StateId
            FROM PatientAddress AS p
            WHERE p.PatientAddressId == @__patientAddressId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientAddress>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 15:35:44.793 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.793 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.793 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.793 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.794 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientAddressId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE `p`.`PatientAddressId` = @__patientAddressId_0
LIMIT 1
2024-08-25 15:35:44.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientAddressId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE `p`.`PatientAddressId` = @__patientAddressId_0
LIMIT 1
2024-08-25 15:35:44.794 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:44.794 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.795 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.795 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.795 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.795 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.795 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.795 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.795 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:44.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 15:35:44.796 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.796 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.796 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.797 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.798 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.798 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.798 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.798 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientAddressId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE `p`.`PatientAddressId` = @__patientAddressId_0
LIMIT 1
2024-08-25 15:35:44.798 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientAddressId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE `p`.`PatientAddressId` = @__patientAddressId_0
LIMIT 1
2024-08-25 15:35:44.799 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.799 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.799 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.799 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:44.799 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:44.799 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:44.799 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:44.799 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.799 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.799 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 15:35:44.800 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 15:35:44.800 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:44.800 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:44.800 +05:30 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int64), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientAddress` SET `AddressLine1` = @p0, `AddressLine2` = @p1, `AddressLine3` = @p2, `AddressTypeId` = @p3, `City` = @p4, `IsActive` = @p5, `PatientId` = @p6, `Pincode` = @p7, `StateId` = @p8
WHERE `PatientAddressId` = @p9;
SELECT ROW_COUNT();
2024-08-25 15:35:44.800 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p9='?' (DbType = Int64), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientAddress` SET `AddressLine1` = @p0, `AddressLine2` = @p1, `AddressLine3` = @p2, `AddressTypeId` = @p3, `City` = @p4, `IsActive` = @p5, `PatientId` = @p6, `Pincode` = @p7, `StateId` = @p8
WHERE `PatientAddressId` = @p9;
SELECT ROW_COUNT();
2024-08-25 15:35:44.800 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:44.801 +05:30 [DBG] Committing transaction.
2024-08-25 15:35:44.801 +05:30 [DBG] Committed transaction.
2024-08-25 15:35:44.801 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.801 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:44.801 +05:30 [DBG] Disposing transaction.
2024-08-25 15:35:44.801 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:44.801 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 15:35:44.801 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 15:35:44.801 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 15:35:44.801 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 15:35:44.801 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 0 entities written to the database.
2024-08-25 15:35:44.802 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 15:35:44.802 +05:30 [INF] Writing value of type 'PatientAddress' as Json.
2024-08-25 15:35:44.802 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/addresses => UpdatePatientAddressAsync'
2024-08-25 15:35:44.802 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:44.802 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:44.802 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/addresses - 202 null application/json; charset=utf-8 26.1475ms
2024-08-25 15:35:59.890 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 15:35:59.890 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:35:59.891 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:35:59.891 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:59.891 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:59.891 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:35:59.891 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:59.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.899ms
2024-08-25 15:35:59.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 15:35:59.892 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 15:35:59.892 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:35:59.893 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:35:59.893 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:35:59.893 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:35:59.893 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:35:59.893 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:35:59.893 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:35:59.894 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:35:59.894 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:35:59.894 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:35:59.894 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:35:59.895 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:35:59.895 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:35:59.895 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 15:35:59.896 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:59.896 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:35:59.896 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:35:59.896 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:35:59.896 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:35:59.896 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:35:59.896 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:35:59.896 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 15:35:59.896 +05:30 [DBG] Connection id "0HN64MA3L11UK" completed keep alive response.
2024-08-25 15:35:59.897 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:35:59.897 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.36ms
2024-08-25 15:36:30.784 +05:30 [DBG] Connection id "0HN64MA3L11UK" received FIN.
2024-08-25 15:36:30.784 +05:30 [DBG] Connection id "0HN64MA3L11UK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 15:36:30.784 +05:30 [DBG] Connection id "0HN64MA3L11UK" disconnecting.
2024-08-25 15:36:30.784 +05:30 [DBG] Connection id "0HN64MA3L11UK" stopped.
2024-08-25 15:37:00.235 +05:30 [DBG] Connection id "0HN64MA3L11UL" accepted.
2024-08-25 15:37:00.236 +05:30 [DBG] Connection id "0HN64MA3L11UL" started.
2024-08-25 15:37:00.236 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - null 0
2024-08-25 15:37:00.236 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 15:37:00.236 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 15:37:00.236 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:37:00.236 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:37:00.237 +05:30 [DBG] The request is a preflight request.
2024-08-25 15:37:00.237 +05:30 [DBG] Connection id "0HN64MA3L11UL" completed keep alive response.
2024-08-25 15:37:00.237 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/languages - 204 null null 0.7357ms
2024-08-25 15:37:00.238 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 15:37:00.238 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 15:37:00.238 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:00.238 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:37:00.238 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:37:00.238 +05:30 [DBG] Successfully validated the token.
2024-08-25 15:37:00.238 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 15:37:00.238 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:37:00.238 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:00.239 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:37:00.239 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:37:00.239 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:37:00.239 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:37:00.240 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:37:00.240 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 15:37:00.240 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 15:37:00.241 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:00.241 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:00.241 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:00.241 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:37:00.241 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:37:00.241 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:37:00.241 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:37:00.241 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:37:00.241 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:00.241 +05:30 [DBG] Connection id "0HN64MA3L11UL" completed keep alive response.
2024-08-25 15:37:00.242 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:37:00.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 4.0481ms
2024-08-25 15:37:24.033 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 15:37:24.034 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 15:37:24.034 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:24.034 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 15:37:24.034 +05:30 [INF] CORS policy execution successful.
2024-08-25 15:37:24.035 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 15:37:24.035 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 15:37:24.035 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:24.036 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 15:37:24.037 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 15:37:24.037 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 15:37:24.037 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 15:37:24.038 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 15:37:24.038 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 15:37:24.041 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 15:37:24.041 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:24.041 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:24.041 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 15:37:24.041 +05:30 [DBG] A data reader was disposed.
2024-08-25 15:37:24.042 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 15:37:24.042 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 15:37:24.042 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 15:37:24.042 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 15:37:24.042 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 15:37:24.042 +05:30 [DBG] Connection id "0HN64MA3L11UL" completed keep alive response.
2024-08-25 15:37:24.042 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 15:37:24.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 8.8136ms
2024-08-25 15:38:17.494 +05:30 [DBG] Connection id "0HN64MA3L11UL" received FIN.
2024-08-25 15:38:17.495 +05:30 [DBG] Connection id "0HN64MA3L11UL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 15:38:17.496 +05:30 [DBG] Connection id "0HN64MA3L11UL" disconnecting.
2024-08-25 15:38:17.496 +05:30 [DBG] Connection id "0HN64MA3L11UL" stopped.
2024-08-25 16:09:36.183 +05:30 [DBG] Connection id "0HN64MA3L11UM" accepted.
2024-08-25 16:09:36.185 +05:30 [DBG] Connection id "0HN64MA3L11UM" started.
2024-08-25 16:09:36.186 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/phones/2 - null null
2024-08-25 16:09:36.186 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones/2'
2024-08-25 16:09:36.187 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync' with route pattern '/api/patients/phones/{id}' is valid for the request path '/api/patients/phones/2'
2024-08-25 16:09:36.187 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync'
2024-08-25 16:09:36.189 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 9:22:10 AM', Current time: '8/25/2024 10:39:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 16:09:36.190 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 9:22:10 AM', Current time: '8/25/2024 10:39:36 AM'.
2024-08-25 16:09:36.191 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 16:09:36.191 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 16:09:36.193 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 16:09:36.193 +05:30 [DBG] Connection id "0HN64MA3L11UM" completed keep alive response.
2024-08-25 16:09:36.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/phones/2 - 401 0 null 7.3192ms
2024-08-25 16:09:53.774 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 91
2024-08-25 16:09:53.775 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 16:09:53.775 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:09:53.775 +05:30 [DBG] The request has an origin header: 'http://localhost:5242'.
2024-08-25 16:09:53.775 +05:30 [INF] CORS policy execution failed.
2024-08-25 16:09:53.776 +05:30 [INF] Request origin http://localhost:5242 does not have permission to access the resource.
2024-08-25 16:09:53.776 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 9:22:10 AM', Current time: '8/25/2024 10:39:53 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 16:09:53.777 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 9:22:10 AM', Current time: '8/25/2024 10:39:53 AM'.
2024-08-25 16:09:53.777 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:09:53.777 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:09:53.777 +05:30 [DBG] Connection id "0HN64MA3L11UM", Request id "0HN64MA3L11UM:00000002": started reading request body.
2024-08-25 16:09:53.777 +05:30 [DBG] Connection id "0HN64MA3L11UM", Request id "0HN64MA3L11UM:00000002": done reading request body.
2024-08-25 16:09:53.779 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 16:09:53.948 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:09:53.949 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:09:53.949 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:09:53.949 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:09:53.968 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:09:53.968 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:09:53.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:09:53.969 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:09:53.969 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:09:53.970 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.091 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 16:09:54.091 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:09:54.091 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:09:54.091 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.092 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.092 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:09:54.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:09:54.093 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:09:54.093 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:09:54.093 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.093 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.093 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:09:54.093 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:09:54.093 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:09:54.093 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:09:54.093 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.093 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.093 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:09:54.094 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:09:54.094 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:09:54.094 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:09:54.094 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 16:09:54.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 16:09:54.095 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:09:54.095 +05:30 [DBG] Committing transaction.
2024-08-25 16:09:54.098 +05:30 [DBG] Committed transaction.
2024-08-25 16:09:54.098 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.098 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.098 +05:30 [DBG] Disposing transaction.
2024-08-25 16:09:54.098 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:09:54.098 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:09:54.098 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:09:54.098 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:09:54.098 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:09:54.098 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:09:54.098 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.098 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.098 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:09:54.099 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:09:54.099 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:09:54.099 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:09:54.099 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 16:09:54.099 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 16:09:54.099 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:09:54.099 +05:30 [DBG] Committing transaction.
2024-08-25 16:09:54.100 +05:30 [DBG] Committed transaction.
2024-08-25 16:09:54.100 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.100 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:09:54.100 +05:30 [DBG] Disposing transaction.
2024-08-25 16:09:54.100 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:09:54.100 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:09:54.100 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:09:54.100 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 16:09:54.100 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:09:54.100 +05:30 [DBG] Connection id "0HN64MA3L11UM" completed keep alive response.
2024-08-25 16:09:54.100 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:09:54.100 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 326.7567ms
2024-08-25 16:10:20.432 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/patients/phones/2 - null null
2024-08-25 16:10:20.433 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones/2'
2024-08-25 16:10:20.433 +05:30 [DBG] Endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync' with route pattern '/api/patients/phones/{id}' is valid for the request path '/api/patients/phones/2'
2024-08-25 16:10:20.434 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync'
2024-08-25 16:10:20.434 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:10:20.434 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:10:20.434 +05:30 [DBG] Authorization was successful.
2024-08-25 16:10:20.434 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:10:20.434 +05:30 [INF] Executing endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync'
2024-08-25 16:10:20.439 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:10:20.441 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientPhone>()
    .Join(
        inner: DbSet<PhoneType>(), 
        outerKeySelector: pp => pp.PhoneTypeId, 
        innerKeySelector: pt => pt.PhoneTypeId, 
        resultSelector: (pp, pt) => new { 
            pp = pp, 
            pt = pt
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.pp.PatientPhoneId.Equals(__patientPhoneId_0) && <>h__TransparentIdentifier0.pp.IsActive)
    .Select(<>h__TransparentIdentifier0 => new PatientPhoneModel{ 
        PatientPhoneId = <>h__TransparentIdentifier0.pp.PatientPhoneId, 
        PatientId = <>h__TransparentIdentifier0.pp.PatientId, 
        PhoneNumber = <>h__TransparentIdentifier0.pp.PhoneNumber, 
        ListedAs = <>h__TransparentIdentifier0.pp.ListedAs, 
        PhoneTypeCode = <>h__TransparentIdentifier0.pt.PhoneTypeCode, 
        PhoneTypeName = <>h__TransparentIdentifier0.pt.PhoneTypeName 
    }
    )
    .FirstOrDefault()'
2024-08-25 16:10:20.445 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientPhoneModel>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientPhoneModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                PatientPhoneId -> 0
                PatientId -> 1
                PhoneNumber -> 2
                ListedAs -> 3
                PhoneTypeCode -> 4
                PhoneTypeName -> 5
            SELECT TOP(1) p.PatientPhoneId, p.PatientId, p.PhoneNumber, p.ListedAs, p0.PhoneTypeCode, p0.PhoneTypeName
            FROM PatientPhone AS p
            INNER JOIN PhoneType AS p0 ON p.PhoneTypeId == p0.PhoneTypeId
            WHERE (p.PatientPhoneId == @__patientPhoneId_0) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientPhoneModel>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 16:10:20.446 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:10:20.446 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:10:20.446 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:10:20.447 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:10:20.447 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`ListedAs`, `p0`.`PhoneTypeCode`, `p0`.`PhoneTypeName`
FROM `PatientPhone` AS `p`
INNER JOIN `PhoneType` AS `p0` ON `p`.`PhoneTypeId` = `p0`.`PhoneTypeId`
WHERE (`p`.`PatientPhoneId` = @__patientPhoneId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:10:20.453 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`ListedAs`, `p0`.`PhoneTypeCode`, `p0`.`PhoneTypeName`
FROM `PatientPhone` AS `p`
INNER JOIN `PhoneType` AS `p0` ON `p`.`PhoneTypeId` = `p0`.`PhoneTypeId`
WHERE (`p`.`PatientPhoneId` = @__patientPhoneId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:10:20.454 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:10:20.454 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:10:20.454 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:10:20.454 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:10:20.454 +05:30 [INF] Executed endpoint 'HTTP: GET /api/patients/phones/{id} => GetPatientPhoneModelByIdAsync'
2024-08-25 16:10:20.454 +05:30 [DBG] Connection id "0HN64MA3L11UM" completed keep alive response.
2024-08-25 16:10:20.454 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:10:20.454 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/patients/phones/2 - 200 0 null 22.2699ms
2024-08-25 16:11:09.127 +05:30 [DBG] Connection id "0HN64MA3L11UM" received FIN.
2024-08-25 16:11:09.130 +05:30 [DBG] Connection id "0HN64MA3L11UM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 16:11:09.130 +05:30 [DBG] Connection id "0HN64MA3L11UM" disconnecting.
2024-08-25 16:11:09.130 +05:30 [DBG] Connection id "0HN64MA3L11UM" stopped.
2024-08-25 16:15:01.181 +05:30 [DBG] Connection id "0HN64MA3L11UN" accepted.
2024-08-25 16:15:01.183 +05:30 [DBG] Connection id "0HN64MA3L11UN" started.
2024-08-25 16:15:01.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 16:15:01.183 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 16:15:01.183 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:01.183 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:15:01.183 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:15:01.183 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 16:15:01.183 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:15:01.183 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:01.184 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:15:01.184 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:15:01.184 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:15:01.184 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:15:01.199 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:15:01.199 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 16:15:01.200 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 16:15:01.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:01.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:01.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:01.200 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:15:01.200 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:15:01.200 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:15:01.200 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:15:01.200 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:15:01.200 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:01.200 +05:30 [DBG] Connection id "0HN64MA3L11UN" completed keep alive response.
2024-08-25 16:15:01.200 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:15:01.200 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 17.3907ms
2024-08-25 16:15:05.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 16:15:05.809 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 16:15:05.809 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:05.809 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:15:05.809 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:15:05.809 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 16:15:05.809 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:15:05.809 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:05.810 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:15:05.810 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:15:05.810 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:15:05.810 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:15:05.811 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:15:05.811 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 16:15:05.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 16:15:05.812 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:05.812 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:05.812 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:15:05.812 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:15:05.812 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:15:05.812 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:15:05.812 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:15:05.812 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:15:05.812 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 16:15:05.812 +05:30 [DBG] Connection id "0HN64MA3L11UN" completed keep alive response.
2024-08-25 16:15:05.812 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:15:05.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 3.8842ms
2024-08-25 16:16:02.633 +05:30 [DBG] Connection id "0HN64MA3L11UN" received FIN.
2024-08-25 16:16:02.634 +05:30 [DBG] Connection id "0HN64MA3L11UN" disconnecting.
2024-08-25 16:16:02.634 +05:30 [DBG] Connection id "0HN64MA3L11UN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 16:16:02.635 +05:30 [DBG] Connection id "0HN64MA3L11UN" stopped.
2024-08-25 16:37:45.020 +05:30 [DBG] Connection id "0HN64MA3L11UO" accepted.
2024-08-25 16:37:45.021 +05:30 [DBG] Connection id "0HN64MA3L11UO" started.
2024-08-25 16:37:45.022 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null 0
2024-08-25 16:37:45.022 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 16:37:45.022 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:37:45.023 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:37:45.023 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:37:45.023 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:37:45.023 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:37:45.023 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 1.2531ms
2024-08-25 16:37:45.024 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 16:37:45.024 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 16:37:45.024 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:37:45.024 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:37:45.024 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:37:45.025 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 16:37:45.025 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:37:45.025 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:37:45.025 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000002": started reading request body.
2024-08-25 16:37:45.025 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000002": done reading request body.
2024-08-25 16:37:45.027 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 16:37:45.267 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:37:45.270 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:37:45.270 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:37:45.271 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.289 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.289 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:37:45.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:37:45.291 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:37:45.291 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.291 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.495 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 16:37:45.496 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:37:45.496 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:37:45.497 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.497 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.497 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:37:45.498 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 16:37:45.498 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:37:45.498 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:37:45.498 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.498 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.498 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:37:45.499 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:37:45.499 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:37:45.499 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:37:45.499 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.499 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.499 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:37:45.500 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:37:45.500 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:37:45.500 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:37:45.500 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 16:37:45.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 16:37:45.502 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:37:45.502 +05:30 [DBG] Committing transaction.
2024-08-25 16:37:45.504 +05:30 [DBG] Committed transaction.
2024-08-25 16:37:45.504 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.504 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.504 +05:30 [DBG] Disposing transaction.
2024-08-25 16:37:45.504 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:37:45.504 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:37:45.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:37:45.505 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:37:45.505 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:37:45.505 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:37:45.505 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.506 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.506 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:37:45.507 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:37:45.507 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:37:45.507 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:37:45.507 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 16:37:45.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 16:37:45.508 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:37:45.508 +05:30 [DBG] Committing transaction.
2024-08-25 16:37:45.509 +05:30 [DBG] Committed transaction.
2024-08-25 16:37:45.509 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.509 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:37:45.509 +05:30 [DBG] Disposing transaction.
2024-08-25 16:37:45.509 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:37:45.509 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:37:45.509 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:37:45.509 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 16:37:45.509 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 16:37:45.510 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:37:45.510 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:37:45.510 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 485.9701ms
2024-08-25 16:38:03.934 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null 0
2024-08-25 16:38:03.934 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 16:38:03.934 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:03.934 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:03.934 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:03.934 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:03.934 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:03.934 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 0.6235ms
2024-08-25 16:38:03.936 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-25 16:38:03.936 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 16:38:03.936 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 16:38:03.936 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:03.936 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:03.937 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:03.937 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:03.937 +05:30 [DBG] Authorization was successful.
2024-08-25 16:38:03.937 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:03.937 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 16:38:03.937 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000004": started reading request body.
2024-08-25 16:38:03.937 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000004": done reading request body.
2024-08-25 16:38:03.938 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:03.940 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:03.940 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:03.941 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:03.941 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:03.941 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 16:38:03.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 16:38:03.942 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:03.942 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:03.943 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:03.943 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:38:03.943 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:38:03.943 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 16:38:03.943 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:03.943 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:03.943 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 7.54ms
2024-08-25 16:38:05.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 16:38:05.870 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 16:38:05.870 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:05.870 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:05.870 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:05.870 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:05.870 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:05.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6781ms
2024-08-25 16:38:05.871 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 16:38:05.871 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 16:38:05.872 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:38:05.872 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:05.872 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:05.872 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:05.872 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:05.872 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:05.872 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:38:05.873 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:05.873 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:05.874 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:05.874 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:05.874 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:05.874 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 16:38:05.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 16:38:05.876 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:05.876 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:05.876 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:05.876 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:05.876 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:05.876 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:38:05.876 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:38:05.876 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:38:05.876 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:05.876 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:05.876 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.1471ms
2024-08-25 16:38:27.038 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null 0
2024-08-25 16:38:27.038 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 16:38:27.038 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:27.038 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:27.038 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:27.038 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:27.039 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:27.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9319ms
2024-08-25 16:38:27.040 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 142
2024-08-25 16:38:27.040 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 16:38:27.040 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 16:38:27.041 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:27.041 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:27.041 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:27.041 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:27.041 +05:30 [DBG] Authorization was successful.
2024-08-25 16:38:27.041 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:27.042 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 16:38:27.042 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000008": started reading request body.
2024-08-25 16:38:27.042 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:00000008": done reading request body.
2024-08-25 16:38:27.044 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:27.044 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.045 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.045 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.045 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 16:38:27.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 16:38:27.046 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.046 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.046 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.046 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.046 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.046 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.047 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.047 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 16:38:27.047 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 16:38:27.047 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.047 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.047 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.048 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.048 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.048 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.048 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.048 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:38:27.048 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.048 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.048 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:38:27.049 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:38:27.049 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.049 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.049 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 16:38:27.050 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 16:38:27.051 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 16:38:27.051 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.051 +05:30 [DBG] Committing transaction.
2024-08-25 16:38:27.052 +05:30 [DBG] Committed transaction.
2024-08-25 16:38:27.052 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.052 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.052 +05:30 [DBG] Disposing transaction.
2024-08-25 16:38:27.052 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.052 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:38:27.052 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.053 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.053 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.053 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:38:27.053 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.053 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.053 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:38:27.053 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:38:27.054 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.054 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.054 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 16:38:27.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 16:38:27.055 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.055 +05:30 [DBG] Committing transaction.
2024-08-25 16:38:27.056 +05:30 [DBG] Committed transaction.
2024-08-25 16:38:27.056 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.056 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.056 +05:30 [DBG] Disposing transaction.
2024-08-25 16:38:27.056 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.056 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.057 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.057 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:38:27.057 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:38:27.057 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.058 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.058 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:38:27.058 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:38:27.058 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 16:38:27.059 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.059 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.059 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 16:38:27.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 16:38:27.060 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.061 +05:30 [DBG] Committing transaction.
2024-08-25 16:38:27.061 +05:30 [DBG] Committed transaction.
2024-08-25 16:38:27.062 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.062 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.062 +05:30 [DBG] Disposing transaction.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.062 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 16:38:27.062 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 16:38:27.062 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 16:38:27.063 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 16:38:27.063 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:27.063 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:27.063 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 22.9267ms
2024-08-25 16:38:27.105 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null 0
2024-08-25 16:38:27.105 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 16:38:27.105 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:27.105 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:27.105 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:27.105 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:27.106 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:27.107 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.7569ms
2024-08-25 16:38:27.107 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 16:38:27.107 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 16:38:27.107 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 16:38:27.107 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:27.107 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:27.107 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:27.107 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:27.107 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:27.108 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 16:38:27.108 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:27.108 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:27.109 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:27.109 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.109 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.109 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 16:38:27.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 16:38:27.110 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.110 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.111 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.111 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.111 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:27.111 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:27.111 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.111 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:27.111 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:38:27.111 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:38:27.111 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 16:38:27.111 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:27.111 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:27.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.2093ms
2024-08-25 16:38:54.280 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null 0
2024-08-25 16:38:54.280 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 16:38:54.281 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:54.281 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:54.281 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:54.281 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:54.281 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:54.281 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 1.1037ms
2024-08-25 16:38:54.283 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 146
2024-08-25 16:38:54.283 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-25 16:38:54.283 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 16:38:54.283 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:54.283 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:54.284 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:54.284 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:54.284 +05:30 [DBG] Authorization was successful.
2024-08-25 16:38:54.284 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:54.284 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 16:38:54.284 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:0000000C": started reading request body.
2024-08-25 16:38:54.284 +05:30 [DBG] Connection id "0HN64MA3L11UO", Request id "0HN64MA3L11UO:0000000C": done reading request body.
2024-08-25 16:38:54.285 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:54.285 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:54.285 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:54.285 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.286 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.286 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 16:38:54.287 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-25 16:38:54.287 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:54.287 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.287 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.288 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:54.289 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:54.289 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.289 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.290 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:38:54.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:38:54.290 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:54.290 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.291 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.291 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.291 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.291 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:38:54.291 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:38:54.292 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:38:54.292 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.292 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.292 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:38:54.293 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:38:54.293 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:54.293 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:54.293 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 16:38:54.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-25 16:38:54.294 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 16:38:54.294 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:54.295 +05:30 [DBG] Committing transaction.
2024-08-25 16:38:54.295 +05:30 [DBG] Committed transaction.
2024-08-25 16:38:54.295 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.295 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.295 +05:30 [DBG] Disposing transaction.
2024-08-25 16:38:54.296 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.296 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.297 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.297 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:38:54.297 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:38:54.297 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:38:54.297 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.297 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.297 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:38:54.298 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:38:54.298 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-25 16:38:54.298 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:54.298 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:54.298 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 16:38:54.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-25 16:38:54.299 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:54.300 +05:30 [DBG] Committing transaction.
2024-08-25 16:38:54.300 +05:30 [DBG] Committed transaction.
2024-08-25 16:38:54.300 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.300 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.300 +05:30 [DBG] Disposing transaction.
2024-08-25 16:38:54.300 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.300 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.300 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.300 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.300 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.301 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.301 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.301 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.301 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-25 16:38:54.302 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 16:38:54.302 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-25 16:38:54.303 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-25 16:38:54.303 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:54.303 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:54.303 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 20.689ms
2024-08-25 16:38:54.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null 0
2024-08-25 16:38:54.333 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 16:38:54.333 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:38:54.333 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:54.333 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:54.333 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:38:54.333 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:54.333 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.799ms
2024-08-25 16:38:54.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-25 16:38:54.335 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-25 16:38:54.335 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 16:38:54.335 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:38:54.335 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:38:54.336 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:38:54.336 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:38:54.336 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:38:54.336 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 16:38:54.337 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:38:54.337 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:38:54.337 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:38:54.337 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.338 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.338 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 16:38:54.339 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-25 16:38:54.339 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.339 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.339 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:38:54.339 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:38:54.339 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.339 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:38:54.339 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:38:54.339 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:38:54.339 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-25 16:38:54.339 +05:30 [DBG] Connection id "0HN64MA3L11UO" completed keep alive response.
2024-08-25 16:38:54.339 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:38:54.339 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 4.4305ms
2024-08-25 16:39:25.909 +05:30 [DBG] Connection id "0HN64MA3L11UO" received FIN.
2024-08-25 16:39:25.909 +05:30 [DBG] Connection id "0HN64MA3L11UO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 16:39:25.909 +05:30 [DBG] Connection id "0HN64MA3L11UO" disconnecting.
2024-08-25 16:39:25.910 +05:30 [DBG] Connection id "0HN64MA3L11UO" stopped.
2024-08-25 16:39:29.335 +05:30 [DBG] Connection id "0HN64MA3L11UP" accepted.
2024-08-25 16:39:29.336 +05:30 [DBG] Connection id "0HN64MA3L11UP" started.
2024-08-25 16:39:29.336 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null 0
2024-08-25 16:39:29.336 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 16:39:29.336 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:39:29.336 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:39:29.336 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:39:29.337 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:39:29.337 +05:30 [DBG] Connection id "0HN64MA3L11UP" completed keep alive response.
2024-08-25 16:39:29.337 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.7603ms
2024-08-25 16:39:29.338 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/addresses - application/json 169
2024-08-25 16:39:29.338 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-25 16:39:29.338 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 16:39:29.338 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:39:29.339 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:39:29.339 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:39:29.339 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:39:29.339 +05:30 [DBG] Authorization was successful.
2024-08-25 16:39:29.339 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:39:29.339 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 16:39:29.339 +05:30 [DBG] Connection id "0HN64MA3L11UP", Request id "0HN64MA3L11UP:00000002": started reading request body.
2024-08-25 16:39:29.339 +05:30 [DBG] Connection id "0HN64MA3L11UP", Request id "0HN64MA3L11UP:00000002": done reading request body.
2024-08-25 16:39:29.341 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:39:29.342 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:39:29.342 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:39:29.342 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.343 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.343 +05:30 [DBG] Executing DbCommand [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 16:39:29.343 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-25 16:39:29.344 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:39:29.344 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.344 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.344 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:39:29.344 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:39:29.344 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.344 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.344 +05:30 [DBG] Executing DbCommand [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 16:39:29.345 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-25 16:39:29.345 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:39:29.345 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.345 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.345 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:39:29.345 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:39:29.345 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.346 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.346 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:39:29.346 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-25 16:39:29.346 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:39:29.346 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.347 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.347 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientAddressId.PatientAddress'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.347 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.347 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:39:29.347 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:39:29.347 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:39:29.348 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.348 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.348 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:39:29.348 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:39:29.348 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:39:29.348 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:39:29.349 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 16:39:29.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-25 16:39:29.349 +05:30 [DBG] The foreign key property 'PatientAddress.PatientAddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 16:39:29.350 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:39:29.350 +05:30 [DBG] Committing transaction.
2024-08-25 16:39:29.351 +05:30 [DBG] Committed transaction.
2024-08-25 16:39:29.351 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.351 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.351 +05:30 [DBG] Disposing transaction.
2024-08-25 16:39:29.351 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.351 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 16:39:29.351 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.351 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.351 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.352 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.352 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.352 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.352 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.352 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.353 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.353 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.353 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 16:39:29.353 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 16:39:29.353 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 16:39:29.353 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.353 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.353 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 16:39:29.354 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 16:39:29.354 +05:30 [DBG] Executing 10 update commands as a batch.
2024-08-25 16:39:29.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:39:29.354 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:39:29.354 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 16:39:29.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-25 16:39:29.356 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:39:29.356 +05:30 [DBG] Committing transaction.
2024-08-25 16:39:29.356 +05:30 [DBG] Committed transaction.
2024-08-25 16:39:29.357 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.357 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:39:29.357 +05:30 [DBG] Disposing transaction.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.357 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.358 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.358 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.358 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:39:29.358 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 10 entities written to the database.
2024-08-25 16:39:29.358 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 16:39:29.358 +05:30 [INF] Writing value of type 'PatientAddress' as Json.
2024-08-25 16:39:29.358 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-25 16:39:29.358 +05:30 [DBG] Connection id "0HN64MA3L11UP" completed keep alive response.
2024-08-25 16:39:29.358 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:39:29.358 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/addresses - 201 null application/json; charset=utf-8 20.3216ms
2024-08-25 16:40:02.880 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null 0
2024-08-25 16:40:02.880 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 16:40:02.880 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 16:40:02.880 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:40:02.880 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:40:02.880 +05:30 [DBG] The request is a preflight request.
2024-08-25 16:40:02.881 +05:30 [DBG] Connection id "0HN64MA3L11UP" completed keep alive response.
2024-08-25 16:40:02.881 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1026ms
2024-08-25 16:40:02.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 16:40:02.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 16:40:02.882 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:40:02.882 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 16:40:02.882 +05:30 [INF] CORS policy execution successful.
2024-08-25 16:40:02.883 +05:30 [DBG] Successfully validated the token.
2024-08-25 16:40:02.883 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 16:40:02.883 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 16:40:02.883 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:40:02.883 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 16:40:02.883 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 16:40:02.884 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 16:40:02.884 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 16:40:02.884 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 16:40:02.885 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 16:40:02.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 16:40:02.885 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:40:02.885 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 16:40:02.885 +05:30 [DBG] A data reader was disposed.
2024-08-25 16:40:02.886 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 16:40:02.886 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 16:40:02.886 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 16:40:02.886 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 16:40:02.886 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 16:40:02.886 +05:30 [DBG] Connection id "0HN64MA3L11UP" completed keep alive response.
2024-08-25 16:40:02.886 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 16:40:02.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.4422ms
2024-08-25 16:40:55.909 +05:30 [DBG] Connection id "0HN64MA3L11UP" received FIN.
2024-08-25 16:40:55.910 +05:30 [DBG] Connection id "0HN64MA3L11UP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 16:40:55.910 +05:30 [DBG] Connection id "0HN64MA3L11UP" disconnecting.
2024-08-25 16:40:55.910 +05:30 [DBG] Connection id "0HN64MA3L11UP" stopped.
2024-08-25 22:55:38.604 +05:30 [DBG] Hosting starting
2024-08-25 22:55:38.635 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-25 22:55:38.638 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-25 22:55:38.641 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-25 22:55:38.642 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-25 22:55:38.644 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-25 22:55:38.646 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-25 22:55:38.647 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-25 22:55:38.648 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-25 22:55:38.649 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-25 22:55:38.650 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-25 22:55:38.650 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-25 22:55:38.748 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-25 22:55:38.748 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-25 22:55:38.749 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-25 22:55:38.749 +05:30 [INF] Hosting environment: Development
2024-08-25 22:55:38.749 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-25 22:55:38.749 +05:30 [DBG] Hosting started
2024-08-25 22:55:43.035 +05:30 [DBG] Connection id "0HN655BPALQKF" accepted.
2024-08-25 22:55:43.036 +05:30 [DBG] Connection id "0HN655BPALQKF" started.
2024-08-25 22:55:43.058 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-25 22:55:43.061 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-25 22:55:43.134 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-25 22:55:43.134 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 22:55:43.135 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:55:43.135 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:55:43.150 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 22:55:43.156 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:55:43.157 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 22:55:43.206 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-25 22:55:43.361 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:55:43.374 +05:30 [DBG] Compiling query expression: 
'DbSet<Language>()
    .OrderBy(o => o.LanguageId)'
2024-08-25 22:55:43.428 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Language>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Language.LanguageId (byte) Required PK AfterSave:Throw, 0], [Property: Language.LanguageCode (string) Required, 1], [Property: Language.LanguageName (string) Required, 2] }
        SELECT l.LanguageId, l.LanguageCode, l.LanguageName
        FROM Language AS l
        ORDER BY l.LanguageId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Language>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 22:55:43.438 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:55:43.441 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-08-25 22:55:43.442 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:55:43.521 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:55:43.523 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 22:55:43.530 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-25 22:55:43.537 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:43.542 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:43.543 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:43.544 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:55:43.544 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:55:43.545 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:55:43.547 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:55:43.550 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:55:43.554 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-25 22:55:43.555 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:55:43.555 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:55:43.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 498.7426ms
2024-08-25 22:55:56.136 +05:30 [DBG] Connection id "0HN655BPALQKG" accepted.
2024-08-25 22:55:56.136 +05:30 [DBG] Connection id "0HN655BPALQKG" started.
2024-08-25 22:55:56.138 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-25 22:55:56.140 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 22:55:56.140 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:55:56.141 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:55:56.142 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:55:56.142 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:55:56.147 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:55:56.148 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 10.1309ms
2024-08-25 22:55:56.150 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 22:55:56.153 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 22:55:56.154 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 22:55:56.155 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:55:56.155 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:55:56.156 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 22:55:56.157 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:55:56.157 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 22:55:56.181 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000002": started reading request body.
2024-08-25 22:55:56.182 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000002": done reading request body.
2024-08-25 22:55:56.221 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 22:55:56.361 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:55:56.366 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-25 22:55:56.388 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:55:56.391 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:55:56.391 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:55:56.393 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.394 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.394 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 22:55:56.398 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 22:55:56.398 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:55:56.398 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.399 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.525 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 22:55:56.556 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-25 22:55:56.559 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:55:56.559 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:55:56.559 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:55:56.560 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.560 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.560 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 22:55:56.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 22:55:56.564 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:56.569 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:55:56.569 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.569 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.572 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:56.573 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:55:56.574 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:55:56.577 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:55:56.582 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.583 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.583 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:55:56.587 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:55:56.600 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:55:56.600 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:55:56.601 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 22:55:56.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 22:55:56.603 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:55:56.604 +05:30 [DBG] Committing transaction.
2024-08-25 22:55:56.607 +05:30 [DBG] Committed transaction.
2024-08-25 22:55:56.608 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.608 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.608 +05:30 [DBG] Disposing transaction.
2024-08-25 22:55:56.609 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:56.609 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:55:56.620 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:56.620 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:55:56.620 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:55:56.623 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:55:56.623 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.623 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.623 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:55:56.624 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:55:56.626 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:55:56.626 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:55:56.626 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 22:55:56.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 22:55:56.628 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:55:56.628 +05:30 [DBG] Committing transaction.
2024-08-25 22:55:56.629 +05:30 [DBG] Committed transaction.
2024-08-25 22:55:56.629 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.629 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:55:56.629 +05:30 [DBG] Disposing transaction.
2024-08-25 22:55:56.629 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:55:56.630 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:55:56.630 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:55:56.630 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 22:55:56.631 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 22:55:56.631 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:55:56.631 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:55:56.631 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 481.3995ms
2024-08-25 22:56:18.494 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-25 22:56:18.494 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 22:56:18.495 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:56:18.495 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:56:18.495 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:56:18.495 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:56:18.496 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:56:18.496 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.7487ms
2024-08-25 22:56:18.497 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 46
2024-08-25 22:56:18.498 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-25 22:56:18.498 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 22:56:18.498 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:56:18.498 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:56:18.527 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:56:18.528 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:56:18.529 +05:30 [DBG] Authorization was successful.
2024-08-25 22:56:18.530 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:56:18.530 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 22:56:18.530 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000003": started reading request body.
2024-08-25 22:56:18.530 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000003": done reading request body.
2024-08-25 22:56:18.542 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:56:18.546 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Lastname, 
            pattern: __Format_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-25 22:56:18.556 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-25 22:56:18.557 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (p.Lastname LIKE @__Format_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 22:56:18.558 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:56:18.558 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:56:18.558 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:56:18.559 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:56:18.559 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 22:56:18.561 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-25 22:56:18.562 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:56:18.562 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:56:18.563 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:56:18.565 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:56:18.565 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:56:18.567 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-25 22:56:18.567 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:56:18.567 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:56:18.567 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 70.1887ms
2024-08-25 22:56:21.714 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 22:56:21.717 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 22:56:21.718 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:56:21.718 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:56:21.718 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:56:21.718 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:56:21.718 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:56:21.718 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 4.3185ms
2024-08-25 22:56:21.719 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 22:56:21.719 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 22:56:21.719 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:56:21.720 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:56:21.720 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:56:21.721 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:56:21.721 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:56:21.722 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:56:21.722 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:56:21.725 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:56:21.726 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .OrderBy(o => o.GenderId)'
2024-08-25 22:56:21.730 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Gender>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Gender.GenderId (byte) Required PK AfterSave:Throw, 0], [Property: Gender.GenderCode (string) Required, 1], [Property: Gender.GenderName (string) Required, 2] }
        SELECT g.GenderId, g.GenderCode, g.GenderName
        FROM Gender AS g
        ORDER BY g.GenderId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Gender>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 22:56:21.730 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:56:21.731 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:56:21.731 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:56:21.731 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:56:21.731 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 22:56:21.732 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 22:56:21.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:56:21.737 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:56:21.737 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:56:21.737 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:56:21.737 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:56:21.737 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:56:21.738 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:56:21.739 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:56:21.739 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:56:21.739 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:56:21.739 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 20.0403ms
2024-08-25 22:57:34.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 22:57:34.038 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 22:57:34.038 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:57:34.039 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:57:34.039 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:57:34.039 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:57:34.039 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:57:34.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.6873ms
2024-08-25 22:57:34.039 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 143
2024-08-25 22:57:34.040 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 22:57:34.040 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 22:57:34.040 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:57:34.040 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:57:34.040 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:57:34.040 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:57:34.042 +05:30 [DBG] Authorization was successful.
2024-08-25 22:57:34.042 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:57:34.042 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 22:57:34.042 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000005": started reading request body.
2024-08-25 22:57:34.042 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000005": done reading request body.
2024-08-25 22:57:34.075 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:57:34.075 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2))'
2024-08-25 22:57:34.079 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE ((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:57:34.080 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.080 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.080 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.080 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.081 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 22:57:34.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 22:57:34.082 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.082 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.082 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.083 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .Where(g => g.GenderCode.Equals(__genderCode_0))
    .Select(s => s.GenderId)
    .FirstOrDefault()'
2024-08-25 22:57:34.085 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) g.GenderId
            FROM Gender AS g
            WHERE g.GenderCode == @__genderCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:57:34.087 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.087 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.087 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.089 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.089 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 22:57:34.090 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 22:57:34.090 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.090 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.090 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.096 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.104 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.104 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.104 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.105 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:57:34.105 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.105 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.105 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:57:34.106 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:57:34.108 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.108 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.108 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 22:57:34.109 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 22:57:34.114 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 22:57:34.116 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.116 +05:30 [DBG] Committing transaction.
2024-08-25 22:57:34.117 +05:30 [DBG] Committed transaction.
2024-08-25 22:57:34.118 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.118 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.118 +05:30 [DBG] Disposing transaction.
2024-08-25 22:57:34.118 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.119 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:57:34.119 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.119 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.119 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.119 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:57:34.119 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.119 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.119 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:57:34.119 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:57:34.120 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.120 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.120 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 22:57:34.120 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 22:57:34.121 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.121 +05:30 [DBG] Committing transaction.
2024-08-25 22:57:34.121 +05:30 [DBG] Committed transaction.
2024-08-25 22:57:34.121 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.121 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.121 +05:30 [DBG] Disposing transaction.
2024-08-25 22:57:34.121 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.121 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:57:34.122 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.122 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.122 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.123 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.123 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.123 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.123 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.123 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.123 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:57:34.123 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:57:34.123 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.123 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.123 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:57:34.123 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:57:34.124 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 22:57:34.126 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.126 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.127 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 22:57:34.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 22:57:34.127 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.127 +05:30 [DBG] Committing transaction.
2024-08-25 22:57:34.128 +05:30 [DBG] Committed transaction.
2024-08-25 22:57:34.128 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.128 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.128 +05:30 [DBG] Disposing transaction.
2024-08-25 22:57:34.128 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.129 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 22:57:34.129 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 22:57:34.130 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 22:57:34.130 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 22:57:34.130 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:57:34.130 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:57:34.130 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 90.9134ms
2024-08-25 22:57:34.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 22:57:34.168 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 22:57:34.168 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:57:34.168 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:57:34.168 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:57:34.168 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:57:34.168 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:57:34.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.4082ms
2024-08-25 22:57:34.169 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 22:57:34.169 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 22:57:34.169 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:57:34.169 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:57:34.169 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:57:34.170 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:57:34.170 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:57:34.170 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:57:34.170 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:57:34.172 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:57:34.172 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .OrderBy(o => o.IdentityTypeId)'
2024-08-25 22:57:34.173 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<IdentityType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityType.IdentityTypeId (byte) Required PK AfterSave:Throw, 0], [Property: IdentityType.IdentityTypeCode (string) Required, 1], [Property: IdentityType.IdentityTypeName (string) Required, 2] }
        SELECT i.IdentityTypeId, i.IdentityTypeCode, i.IdentityTypeName
        FROM IdentityType AS i
        ORDER BY i.IdentityTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-25 22:57:34.174 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:57:34.174 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:57:34.174 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.174 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.174 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 22:57:34.175 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 22:57:34.176 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.179 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.179 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.179 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.179 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:57:34.180 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:57:34.180 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.180 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:57:34.180 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:57:34.180 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:57:34.181 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:57:34.181 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:57:34.181 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:57:34.181 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 11.7341ms
2024-08-25 22:59:29.253 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 22:59:29.253 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 22:59:29.253 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:59:29.253 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:29.254 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:29.254 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:59:29.254 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:59:29.254 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2898ms
2024-08-25 22:59:29.255 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 22:59:29.255 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 22:59:29.255 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:59:29.255 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:29.256 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:29.256 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:59:29.256 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:59:29.257 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:59:29.257 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:59:29.258 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:59:29.265 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:29.265 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:29.266 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:29.267 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:29.267 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 22:59:29.268 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 22:59:29.268 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:29.268 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:29.269 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:29.269 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:29.269 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:29.269 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:59:29.269 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:59:29.269 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 22:59:29.270 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:59:29.270 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:59:29.270 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 14.684ms
2024-08-25 22:59:37.960 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 22:59:37.960 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 22:59:37.960 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:59:37.960 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:37.960 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:37.960 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:59:37.961 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:59:37.961 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9822ms
2024-08-25 22:59:37.962 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 22:59:37.962 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 22:59:37.963 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 22:59:37.963 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:37.963 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:37.963 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:59:37.963 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:59:37.965 +05:30 [DBG] Authorization was successful.
2024-08-25 22:59:37.965 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:59:37.965 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 22:59:37.965 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000008": started reading request body.
2024-08-25 22:59:37.965 +05:30 [DBG] Connection id "0HN655BPALQKF", Request id "0HN655BPALQKF:00000008": done reading request body.
2024-08-25 22:59:37.985 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:59:37.986 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2) && !(p.PatientId.Equals(__patientId_3)))'
2024-08-25 22:59:37.990 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE (((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)) && Not(p.PatientId == @__patientId_3)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:59:37.991 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:37.991 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:37.992 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.993 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.993 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 22:59:37.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 22:59:37.995 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:37.995 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.995 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.995 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:37.995 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:37.995 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.996 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.996 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 22:59:37.996 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 22:59:37.997 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:37.997 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.997 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:37.998 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.PatientId.Equals(__patientId_0))
    .FirstOrDefault()'
2024-08-25 22:59:38.000 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE p.PatientId == @__patientId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 22:59:38.000 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:38.000 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:38.000 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.001 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.001 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 22:59:38.001 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 22:59:38.001 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.001 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:38.001 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.001 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.002 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:38.002 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:38.003 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.003 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.003 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 22:59:38.003 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 22:59:38.003 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:38.003 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.003 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.004 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.004 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:59:38.004 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:59:38.004 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:59:38.004 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.004 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.004 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:59:38.004 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:59:38.005 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:38.005 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:38.005 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 22:59:38.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 22:59:38.006 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:38.006 +05:30 [DBG] Committing transaction.
2024-08-25 22:59:38.007 +05:30 [DBG] Committed transaction.
2024-08-25 22:59:38.007 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.007 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.007 +05:30 [DBG] Disposing transaction.
2024-08-25 22:59:38.007 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.007 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:59:38.007 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.007 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 22:59:38.007 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 22:59:38.007 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 22:59:38.008 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.008 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.008 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 22:59:38.009 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 22:59:38.009 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:38.009 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:38.010 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 22:59:38.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 22:59:38.011 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:38.011 +05:30 [DBG] Committing transaction.
2024-08-25 22:59:38.012 +05:30 [DBG] Committed transaction.
2024-08-25 22:59:38.012 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.012 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.012 +05:30 [DBG] Disposing transaction.
2024-08-25 22:59:38.012 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.012 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 22:59:38.012 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 22:59:38.012 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 22:59:38.013 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 22:59:38.013 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:59:38.013 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:59:38.013 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 50.496ms
2024-08-25 22:59:38.041 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 22:59:38.041 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 22:59:38.041 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 22:59:38.042 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:38.042 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:38.042 +05:30 [DBG] The request is a preflight request.
2024-08-25 22:59:38.042 +05:30 [DBG] Connection id "0HN655BPALQKG" completed keep alive response.
2024-08-25 22:59:38.042 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.3555ms
2024-08-25 22:59:38.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 22:59:38.043 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 22:59:38.043 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:59:38.043 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 22:59:38.044 +05:30 [INF] CORS policy execution successful.
2024-08-25 22:59:38.044 +05:30 [DBG] Successfully validated the token.
2024-08-25 22:59:38.044 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 22:59:38.044 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 22:59:38.044 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:59:38.044 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 22:59:38.045 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 22:59:38.045 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 22:59:38.045 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.045 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.045 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 22:59:38.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 22:59:38.046 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.047 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.047 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.047 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.047 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 22:59:38.047 +05:30 [DBG] A data reader was disposed.
2024-08-25 22:59:38.047 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.047 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 22:59:38.047 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 22:59:38.048 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 22:59:38.048 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 22:59:38.048 +05:30 [DBG] Connection id "0HN655BPALQKF" completed keep alive response.
2024-08-25 22:59:38.048 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 22:59:38.048 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.6012ms
2024-08-25 23:01:49.145 +05:30 [DBG] Connection id "0HN655BPALQKG" disconnecting.
2024-08-25 23:01:49.145 +05:30 [DBG] Connection id "0HN655BPALQKF" disconnecting.
2024-08-25 23:01:49.147 +05:30 [DBG] Connection id "0HN655BPALQKF" stopped.
2024-08-25 23:01:49.147 +05:30 [DBG] Connection id "0HN655BPALQKG" stopped.
2024-08-25 23:01:49.149 +05:30 [DBG] Connection id "0HN655BPALQKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:01:49.149 +05:30 [DBG] Connection id "0HN655BPALQKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:16:37.500 +05:30 [DBG] Connection id "0HN655BPALQKH" accepted.
2024-08-25 23:16:37.503 +05:30 [DBG] Connection id "0HN655BPALQKH" started.
2024-08-25 23:16:37.505 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:16:37.505 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:16:37.505 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:16:37.506 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:16:37.506 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:16:37.506 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:16:37.506 +05:30 [DBG] Connection id "0HN655BPALQKH" completed keep alive response.
2024-08-25 23:16:37.507 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 2.0347ms
2024-08-25 23:16:37.508 +05:30 [DBG] Connection id "0HN655BPALQKI" accepted.
2024-08-25 23:16:37.508 +05:30 [DBG] Connection id "0HN655BPALQKI" started.
2024-08-25 23:16:37.509 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:16:37.509 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:16:37.509 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:16:37.509 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:16:37.509 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:16:37.513 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:46:37 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:16:37.527 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:46:37 PM'.
2024-08-25 23:16:37.527 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:16:37.527 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:16:37.529 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:16:37.529 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:16:37.529 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:16:37.530 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:16:37.549 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:16:37.549 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:16:37.550 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:16:37.550 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:16:37.550 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:16:37.550 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:16:37.550 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:16:37.550 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:16:37.550 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:16:37.550 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:16:37.551 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:16:37.551 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:16:37.552 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:16:37.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 42.9887ms
2024-08-25 23:17:00.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:17:00.024 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:17:00.024 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:17:00.024 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.024 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.024 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:17:00.024 +05:30 [DBG] Connection id "0HN655BPALQKH" completed keep alive response.
2024-08-25 23:17:00.024 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.7897ms
2024-08-25 23:17:00.025 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:17:00.026 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:17:00.026 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:17:00.026 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.026 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.026 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:47:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:17:00.027 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:47:00 PM'.
2024-08-25 23:17:00.027 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 23:17:00.028 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 23:17:00.034 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 23:17:00.034 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:17:00.034 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 8.909ms
2024-08-25 23:17:00.034 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000002": started reading request body.
2024-08-25 23:17:00.035 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000002": done reading request body.
2024-08-25 23:17:00.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-25 23:17:00.038 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 23:17:00.038 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:17:00.038 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.038 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.038 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:17:00.038 +05:30 [DBG] Connection id "0HN655BPALQKH" completed keep alive response.
2024-08-25 23:17:00.038 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.8015ms
2024-08-25 23:17:00.039 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-25 23:17:00.039 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 23:17:00.039 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:17:00.040 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.040 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.040 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:47:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:17:00.041 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 5:40:56 PM', Current time: '8/25/2024 5:47:00 PM'.
2024-08-25 23:17:00.041 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:17:00.041 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:17:00.050 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:17:00.052 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => string.Equals(
        a: <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Token, 
        b: __refreshTokenId_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-25 23:17:00.057 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                AppUserId -> 0
                Username -> 1
                Firstname -> 2
                Lastname -> 3
                CustomerId -> 4
                CustomerCode -> 5
                CustomerShortName -> 6
                CustomerName -> 7
                LanguageCode -> 8
                RoleCode -> 9
            SELECT TOP(1) a.AppUserId, c.Username, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE (c.Token == @__refreshTokenId_0) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-25 23:17:00.060 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.060 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.060 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.060 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.061 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:17:00.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:17:00.062 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.062 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.062 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.063 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.063 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.063 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.063 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.063 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:17:00.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:17:00.064 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.064 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.064 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.064 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.064 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.065 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.065 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.065 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:17:00.065 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.065 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.065 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:17:00.065 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:17:00.066 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.066 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.066 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:17:00.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:17:00.067 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.067 +05:30 [DBG] Committing transaction.
2024-08-25 23:17:00.069 +05:30 [DBG] Committed transaction.
2024-08-25 23:17:00.069 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.069 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.070 +05:30 [DBG] Disposing transaction.
2024-08-25 23:17:00.070 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.070 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:17:00.071 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.071 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.071 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.071 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:17:00.071 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.072 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.072 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:17:00.072 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:17:00.072 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.073 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:17:00.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:17:00.073 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.073 +05:30 [DBG] Committing transaction.
2024-08-25 23:17:00.074 +05:30 [DBG] Committed transaction.
2024-08-25 23:17:00.074 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.074 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.074 +05:30 [DBG] Disposing transaction.
2024-08-25 23:17:00.074 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.074 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:17:00.074 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:17:00.074 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 23:17:00.074 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:17:00.075 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:17:00.075 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:17:00.075 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 35.863ms
2024-08-25 23:17:00.075 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000003": started reading request body.
2024-08-25 23:17:00.075 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000003": done reading request body.
2024-08-25 23:17:00.077 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:17:00.077 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:17:00.077 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:17:00.077 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.077 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.077 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:17:00.077 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:17:00.077 +05:30 [DBG] Authorization was successful.
2024-08-25 23:17:00.078 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:17:00.078 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:17:00.078 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000004": started reading request body.
2024-08-25 23:17:00.078 +05:30 [DBG] Connection id "0HN655BPALQKI", Request id "0HN655BPALQKI:00000004": done reading request body.
2024-08-25 23:17:00.079 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:17:00.079 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.079 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.079 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.080 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.080 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:17:00.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:17:00.081 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.081 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.081 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.081 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.081 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.081 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.081 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.081 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:17:00.082 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:17:00.082 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.082 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.082 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.082 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.082 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.082 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.082 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.082 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:17:00.083 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:17:00.083 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.083 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.083 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.083 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.083 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.083 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.083 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.083 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.083 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:17:00.084 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:17:00.084 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.084 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.084 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.084 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.084 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.084 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.084 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:17:00.084 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.084 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.084 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:17:00.085 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:17:00.085 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.085 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.085 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:17:00.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:17:00.086 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.086 +05:30 [DBG] Committing transaction.
2024-08-25 23:17:00.086 +05:30 [DBG] Committed transaction.
2024-08-25 23:17:00.086 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.086 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.086 +05:30 [DBG] Disposing transaction.
2024-08-25 23:17:00.086 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.087 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:17:00.087 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.087 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.087 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:17:00.087 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:17:00.087 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.087 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.088 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:17:00.088 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:17:00.088 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.088 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.088 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:17:00.089 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:17:00.089 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.089 +05:30 [DBG] Committing transaction.
2024-08-25 23:17:00.089 +05:30 [DBG] Committed transaction.
2024-08-25 23:17:00.089 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.089 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.089 +05:30 [DBG] Disposing transaction.
2024-08-25 23:17:00.089 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.089 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:17:00.089 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:17:00.089 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:17:00.090 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:17:00.090 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:17:00.090 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:17:00.090 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 13.3861ms
2024-08-25 23:17:00.115 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:17:00.116 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:17:00.116 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:17:00.116 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.116 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.116 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:17:00.116 +05:30 [DBG] Connection id "0HN655BPALQKH" completed keep alive response.
2024-08-25 23:17:00.116 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7801ms
2024-08-25 23:17:00.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:17:00.117 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:17:00.117 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:17:00.117 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:17:00.117 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:17:00.118 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:17:00.118 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:17:00.118 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:17:00.118 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:17:00.118 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:17:00.118 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:17:00.118 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:17:00.118 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.119 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.119 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:17:00.119 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:17:00.120 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.120 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.120 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.120 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.120 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:17:00.120 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:17:00.120 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.120 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:17:00.120 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:17:00.120 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:17:00.121 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:17:00.121 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:17:00.121 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:17:00.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.8424ms
2024-08-25 23:18:49.158 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:18:49.159 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:18:49.159 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:18:49.160 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:18:49.160 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:18:49.160 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:18:49.160 +05:30 [DBG] Connection id "0HN655BPALQKH" completed keep alive response.
2024-08-25 23:18:49.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.9815ms
2024-08-25 23:18:49.161 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:18:49.162 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:18:49.162 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:18:49.162 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:18:49.162 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:18:49.163 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:18:49.163 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:18:49.163 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:18:49.163 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:18:49.165 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:18:49.165 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:18:49.166 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:18:49.166 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:18:49.167 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:18:49.167 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:18:49.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:18:49.168 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:18:49.168 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:18:49.168 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:18:49.168 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:18:49.168 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:18:49.168 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:18:49.168 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:18:49.169 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:18:49.169 +05:30 [DBG] Connection id "0HN655BPALQKI" completed keep alive response.
2024-08-25 23:18:49.169 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:18:49.169 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 7.9535ms
2024-08-25 23:20:59.316 +05:30 [DBG] Connection id "0HN655BPALQKH" disconnecting.
2024-08-25 23:20:59.316 +05:30 [DBG] Connection id "0HN655BPALQKI" disconnecting.
2024-08-25 23:20:59.319 +05:30 [DBG] Connection id "0HN655BPALQKH" stopped.
2024-08-25 23:20:59.319 +05:30 [DBG] Connection id "0HN655BPALQKI" stopped.
2024-08-25 23:20:59.319 +05:30 [DBG] Connection id "0HN655BPALQKH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:20:59.319 +05:30 [DBG] Connection id "0HN655BPALQKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:28:20.556 +05:30 [DBG] Connection id "0HN655BPALQKJ" accepted.
2024-08-25 23:28:20.558 +05:30 [DBG] Connection id "0HN655BPALQKJ" started.
2024-08-25 23:28:20.560 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:28:20.560 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:28:20.561 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:28:20.561 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:20.561 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:20.561 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:28:20.562 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:28:20.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.9188ms
2024-08-25 23:28:20.563 +05:30 [DBG] Connection id "0HN655BPALQKK" accepted.
2024-08-25 23:28:20.563 +05:30 [DBG] Connection id "0HN655BPALQKK" started.
2024-08-25 23:28:20.563 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:28:20.564 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:28:20.564 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:28:20.564 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:20.564 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:20.566 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:28:20.566 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:28:20.567 +05:30 [DBG] Authorization was successful.
2024-08-25 23:28:20.567 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:28:20.567 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:28:20.568 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000001": started reading request body.
2024-08-25 23:28:20.568 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000001": done reading request body.
2024-08-25 23:28:20.572 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:28:20.573 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.574 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.574 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.600 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.600 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:28:20.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:28:20.602 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.602 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.602 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.603 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.603 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.603 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.603 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.603 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:28:20.603 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:28:20.603 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.604 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.604 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.604 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.604 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.604 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.604 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.604 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:28:20.604 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:28:20.605 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.605 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.605 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.605 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.605 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.605 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.605 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.606 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.606 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:28:20.606 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:28:20.606 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.606 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.606 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.606 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.607 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:28:20.607 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:28:20.607 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:28:20.607 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.607 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.607 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:28:20.607 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:28:20.608 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.608 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.608 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:28:20.609 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:28:20.609 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.609 +05:30 [DBG] Committing transaction.
2024-08-25 23:28:20.609 +05:30 [DBG] Committed transaction.
2024-08-25 23:28:20.609 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.609 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.609 +05:30 [DBG] Disposing transaction.
2024-08-25 23:28:20.609 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.609 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:28:20.610 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.610 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:28:20.610 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:28:20.610 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:28:20.610 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.611 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.611 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:28:20.611 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:28:20.612 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.612 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.612 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:28:20.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:28:20.613 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.613 +05:30 [DBG] Committing transaction.
2024-08-25 23:28:20.615 +05:30 [DBG] Committed transaction.
2024-08-25 23:28:20.615 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.615 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.615 +05:30 [DBG] Disposing transaction.
2024-08-25 23:28:20.615 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.615 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:28:20.616 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:28:20.616 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:28:20.616 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:28:20.616 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:28:20.616 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:28:20.616 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 52.6218ms
2024-08-25 23:28:20.648 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:28:20.649 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:28:20.649 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:28:20.649 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:20.650 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:20.650 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:28:20.650 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:28:20.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.7839ms
2024-08-25 23:28:20.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:28:20.651 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:28:20.651 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:28:20.651 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:20.651 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:20.652 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:28:20.652 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:28:20.652 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:28:20.652 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:28:20.653 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:28:20.653 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:20.653 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:20.653 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.655 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.655 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:28:20.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:28:20.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:20.657 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:20.657 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.657 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:20.657 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:28:20.658 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:28:20.658 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:28:20.658 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:28:20.658 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:28:20.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 7.2055ms
2024-08-25 23:28:28.780 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:28:28.780 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:28:28.780 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:28:28.781 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:28.781 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:28.781 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:28:28.781 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:28:28.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.791ms
2024-08-25 23:28:28.781 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:28:28.782 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:28:28.782 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:28.782 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:28.782 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:28.783 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:28:28.783 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:28:28.783 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:28:28.783 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:28.784 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:28:28.784 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:28.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:28.784 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:28.785 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:28.785 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:28:28.786 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:28:28.786 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:28.786 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:28.787 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:28.787 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:28.787 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:28.787 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:28:28.787 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:28:28.787 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:28.787 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:28:28.787 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:28:28.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.8802ms
2024-08-25 23:28:50.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-25 23:28:50.752 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 23:28:50.752 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:28:50.752 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:50.752 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:50.752 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:28:50.752 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:28:50.753 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.9306ms
2024-08-25 23:28:50.753 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-25 23:28:50.753 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-25 23:28:50.753 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 23:28:50.753 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:50.754 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:50.754 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-25 23:28:50.754 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:28:50.754 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 23:28:50.754 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000004": started reading request body.
2024-08-25 23:28:50.754 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000004": done reading request body.
2024-08-25 23:28:50.756 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-25 23:28:50.902 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:28:50.903 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:50.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:50.903 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:50.904 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:50.904 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:28:50.906 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:28:50.906 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:50.906 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:50.906 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.011 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-25 23:28:51.011 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:51.011 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:51.011 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.012 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.012 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:28:51.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:28:51.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.013 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:51.013 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.013 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.013 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.013 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:28:51.013 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:28:51.013 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:28:51.013 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.014 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.014 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:28:51.014 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:28:51.014 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:51.014 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:51.014 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:28:51.015 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:28:51.015 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:51.015 +05:30 [DBG] Committing transaction.
2024-08-25 23:28:51.016 +05:30 [DBG] Committed transaction.
2024-08-25 23:28:51.016 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.016 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.016 +05:30 [DBG] Disposing transaction.
2024-08-25 23:28:51.016 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.016 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:28:51.017 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.017 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:28:51.017 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:28:51.017 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:28:51.017 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.017 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.017 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:28:51.017 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:28:51.017 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:51.017 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:51.017 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:28:51.018 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:28:51.018 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:51.018 +05:30 [DBG] Committing transaction.
2024-08-25 23:28:51.018 +05:30 [DBG] Committed transaction.
2024-08-25 23:28:51.018 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.018 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.018 +05:30 [DBG] Disposing transaction.
2024-08-25 23:28:51.018 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.018 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:28:51.019 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:28:51.019 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 23:28:51.019 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-25 23:28:51.019 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:28:51.019 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:28:51.019 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 265.7339ms
2024-08-25 23:28:51.062 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:28:51.063 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:28:51.063 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:28:51.063 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:51.063 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:51.063 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:28:51.063 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:28:51.063 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.9365ms
2024-08-25 23:28:51.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:28:51.064 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:28:51.064 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:51.065 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:28:51.065 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:28:51.065 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:28:51.065 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:28:51.065 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:28:51.065 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:51.066 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:28:51.066 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:28:51.067 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:28:51.067 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.068 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.068 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:28:51.069 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:28:51.069 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.069 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:28:51.069 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:28:51.069 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.070 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:28:51.070 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:28:51.070 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:28:51.070 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:28:51.070 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:28:51.070 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:28:51.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 6.1325ms
2024-08-25 23:29:12.680 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:29:12.681 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:29:12.681 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:29:12.681 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:29:12.681 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:29:12.681 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:29:12.681 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:29:12.681 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9457ms
2024-08-25 23:29:12.682 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 143
2024-08-25 23:29:12.683 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:29:12.683 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 23:29:12.683 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:29:12.683 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:29:12.683 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:29:12.683 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:29:12.683 +05:30 [DBG] Authorization was successful.
2024-08-25 23:29:12.684 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:29:12.684 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 23:29:12.684 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000006": started reading request body.
2024-08-25 23:29:12.684 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:00000006": done reading request body.
2024-08-25 23:29:12.686 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:29:12.687 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.688 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.688 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.689 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.689 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 23:29:12.690 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-25 23:29:12.690 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.690 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.690 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.690 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.690 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.691 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.691 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.691 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:29:12.691 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:29:12.692 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.692 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.692 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.693 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.694 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.694 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.694 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.694 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:29:12.694 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.694 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.695 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:29:12.695 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:29:12.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.696 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 23:29:12.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-25 23:29:12.698 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-25 23:29:12.698 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.698 +05:30 [DBG] Committing transaction.
2024-08-25 23:29:12.699 +05:30 [DBG] Committed transaction.
2024-08-25 23:29:12.699 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.699 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.699 +05:30 [DBG] Disposing transaction.
2024-08-25 23:29:12.699 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.699 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:29:12.699 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.700 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.700 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.700 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:29:12.700 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.700 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.700 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:29:12.701 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:29:12.701 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.701 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.701 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:29:12.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:29:12.702 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.702 +05:30 [DBG] Committing transaction.
2024-08-25 23:29:12.703 +05:30 [DBG] Committed transaction.
2024-08-25 23:29:12.703 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.703 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.703 +05:30 [DBG] Disposing transaction.
2024-08-25 23:29:12.703 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.703 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.704 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.704 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:29:12.704 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:29:12.704 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.705 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.705 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:29:12.705 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:29:12.705 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-25 23:29:12.706 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.706 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.706 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 23:29:12.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-25 23:29:12.708 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.708 +05:30 [DBG] Committing transaction.
2024-08-25 23:29:12.708 +05:30 [DBG] Committed transaction.
2024-08-25 23:29:12.708 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.708 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.708 +05:30 [DBG] Disposing transaction.
2024-08-25 23:29:12.708 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.708 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.708 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.709 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.709 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.709 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.709 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.709 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-25 23:29:12.709 +05:30 [INF] Setting HTTP status code 201.
2024-08-25 23:29:12.709 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:29:12.709 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-25 23:29:12.709 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:29:12.709 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:29:12.709 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 26.7554ms
2024-08-25 23:29:12.741 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:29:12.742 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:29:12.742 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:29:12.742 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:29:12.742 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:29:12.743 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:29:12.743 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:29:12.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.5373ms
2024-08-25 23:29:12.744 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:29:12.744 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:29:12.744 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:29:12.744 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:29:12.744 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:29:12.745 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:29:12.745 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:29:12.745 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:29:12.745 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:29:12.745 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:29:12.745 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:29:12.745 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:29:12.745 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.746 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.746 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:29:12.747 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:29:12.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:29:12.747 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:29:12.747 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.747 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:29:12.747 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:29:12.747 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:29:12.747 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:29:12.747 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:29:12.747 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:29:12.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.446ms
2024-08-25 23:30:34.090 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:30:34.091 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:30:34.091 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:30:34.092 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:30:34.092 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:30:34.092 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:30:34.092 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:30:34.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 2.0837ms
2024-08-25 23:30:34.093 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:30:34.093 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:30:34.093 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:30:34.094 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:30:34.094 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:30:34.095 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:30:34.095 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:30:34.095 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:30:34.095 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:30:34.097 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:30:34.098 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:30:34.098 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:30:34.098 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:30:34.099 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:30:34.100 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:30:34.101 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:30:34.101 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:30:34.101 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:30:34.101 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:30:34.101 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:30:34.101 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:30:34.102 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:30:34.102 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:30:34.102 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:30:34.102 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:30:34.102 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:30:34.102 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 9.2655ms
2024-08-25 23:32:10.831 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:32:10.831 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:32:10.831 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:32:10.831 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:10.832 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:10.832 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:32:10.832 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:32:10.832 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7628ms
2024-08-25 23:32:10.832 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:32:10.832 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:32:10.832 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:32:10.833 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:10.833 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:10.833 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:32:10.833 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:32:10.833 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:32:10.833 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:32:10.833 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:32:10.833 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:10.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:10.834 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:10.834 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:10.834 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:32:10.834 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:32:10.835 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:10.835 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:10.835 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:10.835 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:10.835 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:10.835 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:32:10.835 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:32:10.835 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:32:10.835 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:32:10.835 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:32:10.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 2.9869ms
2024-08-25 23:32:22.812 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:32:22.812 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:32:22.812 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:32:22.812 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:22.812 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:22.812 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:32:22.812 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:32:22.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.018ms
2024-08-25 23:32:22.813 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:32:22.814 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:32:22.814 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:32:22.814 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:22.814 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:22.814 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:32:22.814 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:32:22.815 +05:30 [DBG] Authorization was successful.
2024-08-25 23:32:22.815 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:32:22.815 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:32:22.815 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:0000000A": started reading request body.
2024-08-25 23:32:22.815 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:0000000A": done reading request body.
2024-08-25 23:32:22.817 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:32:22.818 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.818 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.818 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.819 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.819 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:32:22.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:32:22.820 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.820 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.821 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.821 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.821 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.821 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.822 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.822 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:32:22.822 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:32:22.822 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.822 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.823 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.823 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.823 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.823 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.824 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.824 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:32:22.825 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:32:22.825 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.825 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.825 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.825 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.825 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.825 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.825 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.826 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.826 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:32:22.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:32:22.827 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.827 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.827 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.827 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.827 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:32:22.827 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:32:22.828 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:32:22.828 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.828 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.828 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:32:22.829 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:32:22.829 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.829 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.829 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:32:22.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:32:22.831 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.831 +05:30 [DBG] Committing transaction.
2024-08-25 23:32:22.832 +05:30 [DBG] Committed transaction.
2024-08-25 23:32:22.832 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.832 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.833 +05:30 [DBG] Disposing transaction.
2024-08-25 23:32:22.833 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.833 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:32:22.833 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.834 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:32:22.834 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:32:22.834 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:32:22.834 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.834 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.834 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:32:22.835 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:32:22.835 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.835 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.835 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:32:22.835 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:32:22.835 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.836 +05:30 [DBG] Committing transaction.
2024-08-25 23:32:22.836 +05:30 [DBG] Committed transaction.
2024-08-25 23:32:22.836 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.836 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.836 +05:30 [DBG] Disposing transaction.
2024-08-25 23:32:22.836 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.836 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:32:22.836 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:32:22.836 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:32:22.836 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:32:22.837 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:32:22.837 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:32:22.837 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 23.2202ms
2024-08-25 23:32:22.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:32:22.862 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:32:22.863 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:32:22.863 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:22.863 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:22.863 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:32:22.863 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:32:22.863 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.9266ms
2024-08-25 23:32:22.863 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:32:22.864 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:32:22.864 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:32:22.864 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:32:22.864 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:32:22.864 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:32:22.864 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:32:22.864 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:32:22.864 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:32:22.864 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:32:22.865 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:32:22.865 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:32:22.865 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.865 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.865 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:32:22.866 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:32:22.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.867 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:32:22.867 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:32:22.867 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.867 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:32:22.867 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:32:22.867 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:32:22.868 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:32:22.868 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:32:22.868 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:32:22.868 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.569ms
2024-08-25 23:33:26.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:33:26.482 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:33:26.482 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:33:26.482 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:26.482 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:26.482 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:33:26.482 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:33:26.482 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.1597ms
2024-08-25 23:33:26.483 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:33:26.483 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:33:26.483 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:26.484 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:26.484 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:26.484 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:33:26.484 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:33:26.484 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:33:26.484 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:26.485 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:33:26.485 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:26.486 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:26.486 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:26.487 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:26.487 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:33:26.488 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:33:26.488 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:26.488 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:26.488 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:26.488 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:26.488 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:26.488 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:26.488 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:26.489 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:26.489 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:33:26.489 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:33:26.489 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:26.489 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:33:26.489 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:33:26.489 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 6.1504ms
2024-08-25 23:33:30.479 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:33:30.480 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:33:30.480 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:33:30.480 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:30.480 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:30.480 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:33:30.480 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:33:30.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8436ms
2024-08-25 23:33:30.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:33:30.482 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:33:30.482 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:33:30.482 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:30.482 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:30.482 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:33:30.483 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:33:30.483 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:33:30.483 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:33:30.483 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:33:30.484 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:30.484 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:30.484 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:30.484 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:30.485 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:33:30.485 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:33:30.485 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:30.485 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:30.486 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:30.486 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:30.486 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:30.486 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:33:30.486 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:33:30.486 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:33:30.486 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:33:30.487 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:33:30.487 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.1413ms
2024-08-25 23:33:35.677 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:33:35.678 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:33:35.678 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:33:35.678 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:35.678 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:35.678 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:33:35.678 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:33:35.678 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.6912ms
2024-08-25 23:33:35.679 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:33:35.679 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:33:35.679 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:33:35.679 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:35.679 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:35.679 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:33:35.679 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:33:35.680 +05:30 [DBG] Authorization was successful.
2024-08-25 23:33:35.680 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:33:35.680 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:33:35.680 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:0000000E": started reading request body.
2024-08-25 23:33:35.680 +05:30 [DBG] Connection id "0HN655BPALQKK", Request id "0HN655BPALQKK:0000000E": done reading request body.
2024-08-25 23:33:35.681 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:33:35.682 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.682 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.682 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.683 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.683 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:33:35.684 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:33:35.685 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.685 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.685 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.685 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.685 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.685 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.686 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.686 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:33:35.687 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:33:35.687 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.687 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.687 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.688 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.688 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.688 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.688 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.688 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:33:35.689 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:33:35.689 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.689 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.689 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.690 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.690 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.690 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.690 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.690 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.690 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:33:35.691 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:33:35.691 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.691 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.691 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.691 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.691 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:33:35.691 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:33:35.691 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:33:35.691 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.692 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.692 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:33:35.692 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:33:35.693 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.693 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.693 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:33:35.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:33:35.694 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.694 +05:30 [DBG] Committing transaction.
2024-08-25 23:33:35.694 +05:30 [DBG] Committed transaction.
2024-08-25 23:33:35.694 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.694 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.695 +05:30 [DBG] Disposing transaction.
2024-08-25 23:33:35.695 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.695 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:33:35.695 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.695 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:33:35.695 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:33:35.695 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:33:35.695 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.695 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.696 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:33:35.696 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:33:35.696 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.696 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:33:35.697 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:33:35.697 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.697 +05:30 [DBG] Committing transaction.
2024-08-25 23:33:35.698 +05:30 [DBG] Committed transaction.
2024-08-25 23:33:35.698 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.698 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.698 +05:30 [DBG] Disposing transaction.
2024-08-25 23:33:35.698 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.699 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:33:35.699 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:33:35.699 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:33:35.699 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:33:35.700 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:33:35.700 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:33:35.700 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 21.0034ms
2024-08-25 23:33:35.728 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:33:35.728 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:33:35.728 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:33:35.728 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:35.728 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:35.728 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:33:35.729 +05:30 [DBG] Connection id "0HN655BPALQKJ" completed keep alive response.
2024-08-25 23:33:35.729 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.2232ms
2024-08-25 23:33:35.730 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:33:35.730 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:33:35.730 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:35.730 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:33:35.730 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:33:35.730 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:33:35.730 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:33:35.731 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:33:35.731 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:35.731 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:33:35.731 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:33:35.731 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:33:35.731 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.732 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.732 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:33:35.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:33:35.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:33:35.733 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:33:35.733 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.733 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:33:35.733 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:33:35.734 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:33:35.734 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:33:35.734 +05:30 [DBG] Connection id "0HN655BPALQKK" completed keep alive response.
2024-08-25 23:33:35.734 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:33:35.734 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.9072ms
2024-08-25 23:35:46.238 +05:30 [DBG] Connection id "0HN655BPALQKJ" disconnecting.
2024-08-25 23:35:46.238 +05:30 [DBG] Connection id "0HN655BPALQKK" disconnecting.
2024-08-25 23:35:46.241 +05:30 [DBG] Connection id "0HN655BPALQKJ" stopped.
2024-08-25 23:35:46.241 +05:30 [DBG] Connection id "0HN655BPALQKK" stopped.
2024-08-25 23:35:46.241 +05:30 [DBG] Connection id "0HN655BPALQKJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:35:46.241 +05:30 [DBG] Connection id "0HN655BPALQKK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:40:04.443 +05:30 [DBG] Connection id "0HN655BPALQKL" accepted.
2024-08-25 23:40:04.444 +05:30 [DBG] Connection id "0HN655BPALQKL" started.
2024-08-25 23:40:04.446 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:40:04.446 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:40:04.446 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:40:04.446 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:04.446 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:04.447 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:40:04.447 +05:30 [DBG] Connection id "0HN655BPALQKL" completed keep alive response.
2024-08-25 23:40:04.447 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.3416ms
2024-08-25 23:40:04.448 +05:30 [DBG] Connection id "0HN655BPALQKM" accepted.
2024-08-25 23:40:04.448 +05:30 [DBG] Connection id "0HN655BPALQKM" started.
2024-08-25 23:40:04.448 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:40:04.448 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:40:04.448 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:04.448 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:04.448 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:04.450 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:40:04.450 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:40:04.451 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:40:04.451 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:04.453 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:40:04.454 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:04.455 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:04.455 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:04.477 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:04.477 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:40:04.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:40:04.478 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:04.478 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:04.478 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:04.478 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:04.479 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:04.479 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:04.479 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:04.479 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:04.479 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:40:04.479 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:40:04.479 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:04.479 +05:30 [DBG] Connection id "0HN655BPALQKM" completed keep alive response.
2024-08-25 23:40:04.480 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:40:04.480 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 31.6791ms
2024-08-25 23:40:08.480 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:40:08.480 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:40:08.480 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:40:08.480 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:08.481 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:08.481 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:40:08.481 +05:30 [DBG] Connection id "0HN655BPALQKL" completed keep alive response.
2024-08-25 23:40:08.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.659ms
2024-08-25 23:40:08.481 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:40:08.482 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:40:08.482 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:40:08.482 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:08.482 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:08.482 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:40:08.482 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:40:08.482 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:40:08.483 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:40:08.484 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:40:08.484 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:08.484 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:08.484 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:08.485 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:08.485 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:40:08.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:40:08.486 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:08.487 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:08.487 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:08.487 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:08.487 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:08.487 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:40:08.487 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:40:08.487 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:40:08.487 +05:30 [DBG] Connection id "0HN655BPALQKM" completed keep alive response.
2024-08-25 23:40:08.487 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:40:08.487 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.979ms
2024-08-25 23:40:11.609 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:40:11.609 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:40:11.609 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:40:11.609 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:11.610 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:11.610 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:40:11.610 +05:30 [DBG] Connection id "0HN655BPALQKL" completed keep alive response.
2024-08-25 23:40:11.610 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.5527ms
2024-08-25 23:40:11.611 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:40:11.611 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:40:11.611 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:40:11.611 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:11.611 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:11.612 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:40:11.612 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:40:11.612 +05:30 [DBG] Authorization was successful.
2024-08-25 23:40:11.612 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:40:11.612 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:40:11.613 +05:30 [DBG] Connection id "0HN655BPALQKM", Request id "0HN655BPALQKM:00000003": started reading request body.
2024-08-25 23:40:11.613 +05:30 [DBG] Connection id "0HN655BPALQKM", Request id "0HN655BPALQKM:00000003": done reading request body.
2024-08-25 23:40:11.614 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:40:11.614 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.614 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.614 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.615 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.616 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:40:11.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:40:11.617 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.618 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.618 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.618 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.618 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.618 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.619 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.619 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:40:11.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:40:11.621 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.621 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.621 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.621 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.621 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.622 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.622 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.622 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:40:11.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:40:11.623 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.623 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.623 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.623 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.624 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.624 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.624 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.624 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.624 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:40:11.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:40:11.625 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.625 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.625 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.625 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.625 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:40:11.625 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:40:11.625 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:40:11.626 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.627 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.627 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:40:11.628 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:40:11.628 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.629 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.629 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:40:11.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:40:11.630 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.630 +05:30 [DBG] Committing transaction.
2024-08-25 23:40:11.630 +05:30 [DBG] Committed transaction.
2024-08-25 23:40:11.630 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.630 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.630 +05:30 [DBG] Disposing transaction.
2024-08-25 23:40:11.631 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.631 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:40:11.631 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.631 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:40:11.631 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:40:11.631 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:40:11.631 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.633 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.633 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:40:11.633 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:40:11.633 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.634 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.634 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:40:11.634 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:40:11.635 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.635 +05:30 [DBG] Committing transaction.
2024-08-25 23:40:11.637 +05:30 [DBG] Committed transaction.
2024-08-25 23:40:11.637 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.637 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.638 +05:30 [DBG] Disposing transaction.
2024-08-25 23:40:11.638 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.638 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:40:11.638 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:40:11.638 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:40:11.638 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:40:11.638 +05:30 [DBG] Connection id "0HN655BPALQKM" completed keep alive response.
2024-08-25 23:40:11.638 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:40:11.638 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 27.3302ms
2024-08-25 23:40:11.662 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:40:11.662 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:40:11.662 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:40:11.662 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:11.662 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:11.662 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:40:11.662 +05:30 [DBG] Connection id "0HN655BPALQKL" completed keep alive response.
2024-08-25 23:40:11.663 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.4715ms
2024-08-25 23:40:11.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:40:11.664 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:40:11.664 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:11.664 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:40:11.664 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:40:11.664 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:40:11.664 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:40:11.664 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:40:11.664 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:11.664 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:40:11.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:40:11.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:40:11.665 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.665 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:40:11.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:40:11.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.666 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:40:11.666 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:40:11.666 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.667 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:40:11.667 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:40:11.667 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:40:11.667 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:40:11.667 +05:30 [DBG] Connection id "0HN655BPALQKM" completed keep alive response.
2024-08-25 23:40:11.667 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:40:11.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.9591ms
2024-08-25 23:42:22.645 +05:30 [DBG] Connection id "0HN655BPALQKM" disconnecting.
2024-08-25 23:42:22.645 +05:30 [DBG] Connection id "0HN655BPALQKL" disconnecting.
2024-08-25 23:42:22.646 +05:30 [DBG] Connection id "0HN655BPALQKM" stopped.
2024-08-25 23:42:22.646 +05:30 [DBG] Connection id "0HN655BPALQKL" stopped.
2024-08-25 23:42:22.646 +05:30 [DBG] Connection id "0HN655BPALQKL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:42:22.646 +05:30 [DBG] Connection id "0HN655BPALQKM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:44:26.698 +05:30 [DBG] Connection id "0HN655BPALQKN" accepted.
2024-08-25 23:44:26.699 +05:30 [DBG] Connection id "0HN655BPALQKN" started.
2024-08-25 23:44:26.700 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-25 23:44:26.701 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:44:26.701 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:44:26.701 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:44:26.701 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:44:26.701 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:44:26.701 +05:30 [DBG] Connection id "0HN655BPALQKN" completed keep alive response.
2024-08-25 23:44:26.702 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2225ms
2024-08-25 23:44:26.703 +05:30 [DBG] Connection id "0HN655BPALQKO" accepted.
2024-08-25 23:44:26.703 +05:30 [DBG] Connection id "0HN655BPALQKO" started.
2024-08-25 23:44:26.703 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-25 23:44:26.703 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-25 23:44:26.703 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:44:26.703 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:44:26.703 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:44:26.705 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:14:26 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:44:26.706 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:14:26 PM'.
2024-08-25 23:44:26.707 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:44:26.707 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:44:26.709 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:44:26.711 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:44:26.711 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:44:26.711 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:44:26.732 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:44:26.732 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:44:26.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-25 23:44:26.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:44:26.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:44:26.733 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:44:26.733 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:44:26.733 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:44:26.733 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:44:26.733 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:44:26.734 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-25 23:44:26.734 +05:30 [DBG] Connection id "0HN655BPALQKO" completed keep alive response.
2024-08-25 23:44:26.734 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:44:26.734 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 31.2008ms
2024-08-25 23:45:21.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-25 23:45:21.110 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:45:21.110 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:45:21.110 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.110 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.110 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:45:21.110 +05:30 [DBG] Connection id "0HN655BPALQKN" completed keep alive response.
2024-08-25 23:45:21.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.7576ms
2024-08-25 23:45:21.112 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:45:21.112 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:45:21.112 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:45:21.112 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.112 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.113 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:15:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:45:21.113 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:15:21 PM'.
2024-08-25 23:45:21.114 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-25 23:45:21.114 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-25 23:45:21.115 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-25 23:45:21.115 +05:30 [DBG] Connection id "0HN655BPALQKO" completed keep alive response.
2024-08-25 23:45:21.115 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 3.0705ms
2024-08-25 23:45:21.115 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000002": started reading request body.
2024-08-25 23:45:21.115 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000002": done reading request body.
2024-08-25 23:45:21.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-25 23:45:21.116 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 23:45:21.116 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:45:21.116 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.116 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.117 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:45:21.117 +05:30 [DBG] Connection id "0HN655BPALQKN" completed keep alive response.
2024-08-25 23:45:21.117 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.8252ms
2024-08-25 23:45:21.118 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-25 23:45:21.118 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-25 23:45:21.119 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:45:21.119 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.119 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.119 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:15:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-25 23:45:21.119 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/25/2024 6:13:51 PM', Current time: '8/25/2024 6:15:21 PM'.
2024-08-25 23:45:21.120 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:45:21.120 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:45:21.122 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:45:21.123 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.123 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.123 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.124 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.124 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:45:21.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:45:21.126 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.126 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.126 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.127 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.127 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.127 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.128 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.128 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:45:21.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-25 23:45:21.129 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.129 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.129 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.129 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.129 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.129 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.129 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.130 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:45:21.130 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.130 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.130 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:45:21.130 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:45:21.131 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.131 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.131 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:45:21.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-25 23:45:21.132 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.132 +05:30 [DBG] Committing transaction.
2024-08-25 23:45:21.134 +05:30 [DBG] Committed transaction.
2024-08-25 23:45:21.135 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.135 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.135 +05:30 [DBG] Disposing transaction.
2024-08-25 23:45:21.135 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.135 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:45:21.135 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.135 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.135 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.135 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:45:21.135 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.136 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.136 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:45:21.136 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:45:21.136 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.136 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.136 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:45:21.148 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:45:21.150 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.150 +05:30 [DBG] Committing transaction.
2024-08-25 23:45:21.151 +05:30 [DBG] Committed transaction.
2024-08-25 23:45:21.152 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.152 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.152 +05:30 [DBG] Disposing transaction.
2024-08-25 23:45:21.152 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.152 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:45:21.153 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:45:21.153 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-25 23:45:21.154 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-25 23:45:21.154 +05:30 [DBG] Connection id "0HN655BPALQKO" completed keep alive response.
2024-08-25 23:45:21.154 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:45:21.154 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 35.9165ms
2024-08-25 23:45:21.155 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000003": started reading request body.
2024-08-25 23:45:21.155 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000003": done reading request body.
2024-08-25 23:45:21.156 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-25 23:45:21.156 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-25 23:45:21.156 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:45:21.156 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.156 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.156 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:45:21.157 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:45:21.157 +05:30 [DBG] Authorization was successful.
2024-08-25 23:45:21.157 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:45:21.157 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:45:21.157 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000004": started reading request body.
2024-08-25 23:45:21.157 +05:30 [DBG] Connection id "0HN655BPALQKO", Request id "0HN655BPALQKO:00000004": done reading request body.
2024-08-25 23:45:21.158 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:45:21.161 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.161 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.161 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.161 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.161 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:45:21.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-25 23:45:21.162 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.162 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.162 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.162 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.162 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.162 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:45:21.163 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-25 23:45:21.163 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.163 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.163 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.163 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.163 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:45:21.164 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:45:21.164 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.164 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.164 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.164 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.164 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.164 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.164 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.164 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.164 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:45:21.165 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-25 23:45:21.165 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.165 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.165 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.165 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.165 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.165 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.165 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:45:21.165 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.165 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.165 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:45:21.165 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:45:21.165 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.165 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.166 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:45:21.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-25 23:45:21.167 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.167 +05:30 [DBG] Committing transaction.
2024-08-25 23:45:21.167 +05:30 [DBG] Committed transaction.
2024-08-25 23:45:21.168 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.168 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.168 +05:30 [DBG] Disposing transaction.
2024-08-25 23:45:21.168 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.168 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:45:21.168 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.168 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.168 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-25 23:45:21.168 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-25 23:45:21.168 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.169 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.169 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-25 23:45:21.169 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-25 23:45:21.169 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.169 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.169 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:45:21.169 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-25 23:45:21.169 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.169 +05:30 [DBG] Committing transaction.
2024-08-25 23:45:21.170 +05:30 [DBG] Committed transaction.
2024-08-25 23:45:21.170 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.170 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.170 +05:30 [DBG] Disposing transaction.
2024-08-25 23:45:21.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.170 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-25 23:45:21.170 +05:30 [INF] Setting HTTP status code 202.
2024-08-25 23:45:21.170 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-25 23:45:21.170 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-25 23:45:21.170 +05:30 [DBG] Connection id "0HN655BPALQKO" completed keep alive response.
2024-08-25 23:45:21.170 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:45:21.170 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 13.9215ms
2024-08-25 23:45:21.193 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:45:21.193 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:45:21.193 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-25 23:45:21.194 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.194 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.194 +05:30 [DBG] The request is a preflight request.
2024-08-25 23:45:21.194 +05:30 [DBG] Connection id "0HN655BPALQKN" completed keep alive response.
2024-08-25 23:45:21.194 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.4547ms
2024-08-25 23:45:21.194 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-25 23:45:21.194 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-25 23:45:21.194 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:45:21.195 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-25 23:45:21.195 +05:30 [INF] CORS policy execution successful.
2024-08-25 23:45:21.195 +05:30 [DBG] Successfully validated the token.
2024-08-25 23:45:21.195 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-25 23:45:21.195 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-25 23:45:21.195 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:45:21.195 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-25 23:45:21.195 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-25 23:45:21.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-25 23:45:21.196 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.196 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.196 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:45:21.196 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-25 23:45:21.196 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.197 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.197 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.197 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.197 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-25 23:45:21.197 +05:30 [DBG] A data reader was disposed.
2024-08-25 23:45:21.197 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.197 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-25 23:45:21.197 +05:30 [INF] Setting HTTP status code 200.
2024-08-25 23:45:21.197 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-25 23:45:21.197 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-25 23:45:21.197 +05:30 [DBG] Connection id "0HN655BPALQKO" completed keep alive response.
2024-08-25 23:45:21.197 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-25 23:45:21.197 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.6752ms
2024-08-25 23:45:42.136 +05:30 [DBG] Connection id "0HN655BPALQKO" received FIN.
2024-08-25 23:45:42.139 +05:30 [DBG] Connection id "0HN655BPALQKN" received FIN.
2024-08-25 23:45:42.142 +05:30 [DBG] Connection id "0HN655BPALQKO" disconnecting.
2024-08-25 23:45:42.147 +05:30 [DBG] Connection id "0HN655BPALQKN" disconnecting.
2024-08-25 23:45:42.150 +05:30 [DBG] Connection id "0HN655BPALQKN" stopped.
2024-08-25 23:45:42.150 +05:30 [DBG] Connection id "0HN655BPALQKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:45:42.153 +05:30 [DBG] Connection id "0HN655BPALQKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-25 23:45:42.154 +05:30 [DBG] Connection id "0HN655BPALQKO" stopped.
2024-08-26 07:11:13.099 +05:30 [DBG] Hosting starting
2024-08-26 07:11:13.130 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-26 07:11:13.133 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-26 07:11:13.135 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-26 07:11:13.137 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-26 07:11:13.138 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-26 07:11:13.140 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-26 07:11:13.141 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-26 07:11:13.142 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-26 07:11:13.142 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-26 07:11:13.144 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-26 07:11:13.144 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-26 07:11:13.236 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-26 07:11:13.236 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-26 07:11:13.237 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-26 07:11:13.237 +05:30 [INF] Hosting environment: Development
2024-08-26 07:11:13.237 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-26 07:11:13.237 +05:30 [DBG] Hosting started
2024-08-26 07:11:27.843 +05:30 [DBG] Connection id "0HN65E0PV8E1L" accepted.
2024-08-26 07:11:27.844 +05:30 [DBG] Connection id "0HN65E0PV8E1L" started.
2024-08-26 07:11:27.862 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-26 07:11:27.863 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-26 07:11:27.943 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-26 07:11:27.944 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-26 07:11:27.945 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:11:27.945 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:11:27.959 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 07:11:27.965 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:11:27.966 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-26 07:11:28.019 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-26 07:11:28.196 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:11:28.211 +05:30 [DBG] Compiling query expression: 
'DbSet<Language>()
    .OrderBy(o => o.LanguageId)'
2024-08-26 07:11:28.269 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Language>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Language.LanguageId (byte) Required PK AfterSave:Throw, 0], [Property: Language.LanguageCode (string) Required, 1], [Property: Language.LanguageName (string) Required, 2] }
        SELECT l.LanguageId, l.LanguageCode, l.LanguageName
        FROM Language AS l
        ORDER BY l.LanguageId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Language>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-26 07:11:28.281 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:28.285 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-26 07:11:28.287 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:28.414 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:28.417 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-26 07:11:28.438 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-26 07:11:28.448 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:28.454 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:28.454 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:28.455 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:28.456 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:28.457 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:28.458 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:11:28.463 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:11:28.467 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-26 07:11:28.467 +05:30 [DBG] Connection id "0HN65E0PV8E1L" completed keep alive response.
2024-08-26 07:11:28.468 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:11:28.469 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 608.5347ms
2024-08-26 07:11:37.259 +05:30 [DBG] Connection id "0HN65E0PV8E1M" accepted.
2024-08-26 07:11:37.260 +05:30 [DBG] Connection id "0HN65E0PV8E1M" started.
2024-08-26 07:11:37.261 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-26 07:11:37.263 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-26 07:11:37.263 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:11:37.264 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:11:37.264 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:11:37.264 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:11:37.265 +05:30 [DBG] Connection id "0HN65E0PV8E1M" completed keep alive response.
2024-08-26 07:11:37.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 4.7926ms
2024-08-26 07:11:37.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-26 07:11:37.274 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-26 07:11:37.274 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 07:11:37.275 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:11:37.275 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:11:37.276 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 07:11:37.277 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:11:37.277 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 07:11:37.280 +05:30 [DBG] Connection id "0HN65E0PV8E1L", Request id "0HN65E0PV8E1L:00000002": started reading request body.
2024-08-26 07:11:37.280 +05:30 [DBG] Connection id "0HN65E0PV8E1L", Request id "0HN65E0PV8E1L:00000002": done reading request body.
2024-08-26 07:11:37.299 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-26 07:11:37.453 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:11:37.458 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-26 07:11:37.480 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:11:37.483 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:37.483 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:11:37.484 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.485 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.486 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 07:11:37.506 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 07:11:37.506 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:37.506 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.506 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.632 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-26 07:11:37.661 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-26 07:11:37.664 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:11:37.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:37.664 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:11:37.664 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.664 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.664 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 07:11:37.667 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 07:11:37.670 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:37.674 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:37.674 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.674 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.678 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:37.679 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:11:37.680 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:11:37.682 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:11:37.687 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.688 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.688 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:11:37.692 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:11:37.705 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:37.705 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:11:37.705 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 07:11:37.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 07:11:37.708 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:37.709 +05:30 [DBG] Committing transaction.
2024-08-26 07:11:37.710 +05:30 [DBG] Committed transaction.
2024-08-26 07:11:37.711 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.711 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.711 +05:30 [DBG] Disposing transaction.
2024-08-26 07:11:37.712 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:37.712 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 07:11:37.722 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:37.722 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:11:37.722 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:11:37.725 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:11:37.725 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.725 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.725 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:11:37.726 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:11:37.728 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:37.728 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:11:37.728 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 07:11:37.731 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 07:11:37.731 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:37.732 +05:30 [DBG] Committing transaction.
2024-08-26 07:11:37.732 +05:30 [DBG] Committed transaction.
2024-08-26 07:11:37.732 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.732 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:37.732 +05:30 [DBG] Disposing transaction.
2024-08-26 07:11:37.733 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:11:37.733 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 07:11:37.734 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:11:37.734 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 07:11:37.734 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 07:11:37.734 +05:30 [DBG] Connection id "0HN65E0PV8E1L" completed keep alive response.
2024-08-26 07:11:37.734 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:11:37.734 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 464.3429ms
2024-08-26 07:11:44.786 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-26 07:11:44.787 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:11:44.787 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:11:44.787 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:11:44.787 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:11:44.788 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:11:44.788 +05:30 [DBG] Connection id "0HN65E0PV8E1M" completed keep alive response.
2024-08-26 07:11:44.788 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 2.342ms
2024-08-26 07:11:44.789 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-26 07:11:44.791 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:11:44.793 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:11:44.794 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:11:44.794 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:11:44.829 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:11:44.829 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:11:44.831 +05:30 [DBG] Authorization was successful.
2024-08-26 07:11:44.831 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:11:44.832 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:11:44.832 +05:30 [DBG] Connection id "0HN65E0PV8E1L", Request id "0HN65E0PV8E1L:00000003": started reading request body.
2024-08-26 07:11:44.832 +05:30 [DBG] Connection id "0HN65E0PV8E1L", Request id "0HN65E0PV8E1L:00000003": done reading request body.
2024-08-26 07:11:44.845 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:11:44.848 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Lastname, 
            pattern: __Format_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-26 07:11:44.860 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-26 07:11:44.861 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (p.Lastname LIKE @__Format_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-26 07:11:44.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:11:44.862 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:11:44.862 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:11:44.863 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:11:44.863 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:11:44.878 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:11:44.878 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:11:44.879 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:11:44.879 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:11:44.881 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:11:44.881 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:11:44.883 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:11:44.883 +05:30 [DBG] Connection id "0HN65E0PV8E1L" completed keep alive response.
2024-08-26 07:11:44.883 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:11:44.883 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 94.0506ms
2024-08-26 07:13:55.400 +05:30 [DBG] Connection id "0HN65E0PV8E1M" disconnecting.
2024-08-26 07:13:55.400 +05:30 [DBG] Connection id "0HN65E0PV8E1L" disconnecting.
2024-08-26 07:13:55.403 +05:30 [DBG] Connection id "0HN65E0PV8E1L" stopped.
2024-08-26 07:13:55.403 +05:30 [DBG] Connection id "0HN65E0PV8E1M" stopped.
2024-08-26 07:13:55.404 +05:30 [DBG] Connection id "0HN65E0PV8E1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 07:13:55.404 +05:30 [DBG] Connection id "0HN65E0PV8E1L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 07:16:54.918 +05:30 [DBG] Connection id "0HN65E0PV8E1N" accepted.
2024-08-26 07:16:54.919 +05:30 [DBG] Connection id "0HN65E0PV8E1N" started.
2024-08-26 07:16:54.924 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-26 07:16:54.927 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:16:54.927 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:16:54.927 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:16:54.927 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:16:54.928 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:16:54.928 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:16:54.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 4.5385ms
2024-08-26 07:16:54.929 +05:30 [DBG] Connection id "0HN65E0PV8E1O" accepted.
2024-08-26 07:16:54.929 +05:30 [DBG] Connection id "0HN65E0PV8E1O" started.
2024-08-26 07:16:54.929 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-26 07:16:54.930 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:16:54.930 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:16:54.930 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:16:54.930 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:16:54.931 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:16:54.931 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:16:54.932 +05:30 [DBG] Authorization was successful.
2024-08-26 07:16:54.932 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:16:54.932 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:16:54.933 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000001": started reading request body.
2024-08-26 07:16:54.933 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000001": done reading request body.
2024-08-26 07:16:54.934 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:16:54.939 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:16:54.939 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:16:54.939 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:16:54.940 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:16:54.940 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:16:54.942 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:16:54.942 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:16:54.942 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:16:54.942 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:16:54.942 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:16:54.942 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:16:54.942 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:16:54.942 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:16:54.942 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:16:54.942 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 13.0232ms
2024-08-26 07:17:42.039 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-26 07:17:42.039 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:17:42.039 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:17:42.040 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:17:42.040 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:17:42.040 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:17:42.040 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:17:42.040 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.055ms
2024-08-26 07:17:42.041 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 40
2024-08-26 07:17:42.041 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-26 07:17:42.041 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:17:42.041 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:17:42.041 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:17:42.042 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:17:42.042 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:17:42.044 +05:30 [DBG] Authorization was successful.
2024-08-26 07:17:42.044 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:17:42.045 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:17:42.045 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000002": started reading request body.
2024-08-26 07:17:42.045 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000002": done reading request body.
2024-08-26 07:17:42.050 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:17:42.053 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:17:42.053 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:17:42.053 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:17:42.054 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:17:42.055 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:17:42.056 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-26 07:17:42.057 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:17:42.057 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:17:42.057 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:17:42.057 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:17:42.057 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:17:42.057 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-26 07:17:42.057 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:17:42.057 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:17:42.058 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 16.6062ms
2024-08-26 07:17:53.596 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 07:17:53.598 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 07:17:53.598 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:17:53.598 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:17:53.598 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:17:53.598 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:17:53.599 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:17:53.599 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 3.062ms
2024-08-26 07:17:53.599 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 07:17:53.599 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 07:17:53.600 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:17:53.600 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:17:53.600 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:17:53.600 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:17:53.600 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:17:53.601 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:17:53.601 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:17:53.604 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:17:53.605 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .OrderBy(o => o.GenderId)'
2024-08-26 07:17:53.608 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Gender>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Gender.GenderId (byte) Required PK AfterSave:Throw, 0], [Property: Gender.GenderCode (string) Required, 1], [Property: Gender.GenderName (string) Required, 2] }
        SELECT g.GenderId, g.GenderCode, g.GenderName
        FROM Gender AS g
        ORDER BY g.GenderId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Gender>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-26 07:17:53.609 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:17:53.609 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:17:53.609 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:17:53.609 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:17:53.610 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 07:17:53.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 07:17:53.612 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:17:53.613 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:17:53.613 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:17:53.613 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:17:53.614 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:17:53.614 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:17:53.614 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:17:53.615 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:17:53.615 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:17:53.615 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:17:53.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 15.6291ms
2024-08-26 07:18:35.559 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 07:18:35.560 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 07:18:35.563 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:18:35.575 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:18:35.576 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:18:35.576 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:18:35.576 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:18:35.576 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 16.7264ms
2024-08-26 07:18:35.577 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 139
2024-08-26 07:18:35.578 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 07:18:35.578 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 07:18:35.578 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:18:35.578 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:18:35.578 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:18:35.578 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:18:35.579 +05:30 [DBG] Authorization was successful.
2024-08-26 07:18:35.579 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:18:35.579 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 07:18:35.579 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000004": started reading request body.
2024-08-26 07:18:35.579 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000004": done reading request body.
2024-08-26 07:18:35.594 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:18:35.595 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2))'
2024-08-26 07:18:35.598 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE ((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:18:35.598 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.599 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.599 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.599 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.599 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-26 07:18:35.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-26 07:18:35.601 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.601 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.601 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.602 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .Where(g => g.GenderCode.Equals(__genderCode_0))
    .Select(s => s.GenderId)
    .FirstOrDefault()'
2024-08-26 07:18:35.603 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) g.GenderId
            FROM Gender AS g
            WHERE g.GenderCode == @__genderCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:18:35.606 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.606 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.606 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.607 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.607 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 07:18:35.607 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 07:18:35.607 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.607 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.607 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.613 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.621 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.621 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.621 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.622 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:18:35.622 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.622 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.622 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:18:35.622 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:18:35.624 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.624 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.624 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-26 07:18:35.627 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-26 07:18:35.634 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-26 07:18:35.636 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.636 +05:30 [DBG] Committing transaction.
2024-08-26 07:18:35.637 +05:30 [DBG] Committed transaction.
2024-08-26 07:18:35.637 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.637 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.638 +05:30 [DBG] Disposing transaction.
2024-08-26 07:18:35.638 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.638 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 07:18:35.639 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.639 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.639 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.639 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:18:35.639 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.639 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.639 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:18:35.639 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:18:35.639 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.639 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.640 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 07:18:35.640 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 07:18:35.641 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.641 +05:30 [DBG] Committing transaction.
2024-08-26 07:18:35.641 +05:30 [DBG] Committed transaction.
2024-08-26 07:18:35.641 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.641 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.641 +05:30 [DBG] Disposing transaction.
2024-08-26 07:18:35.641 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.641 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.643 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.643 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:18:35.643 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:18:35.643 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.643 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.643 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:18:35.644 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:18:35.645 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-26 07:18:35.646 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.646 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.647 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-26 07:18:35.649 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-26 07:18:35.649 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.649 +05:30 [DBG] Committing transaction.
2024-08-26 07:18:35.650 +05:30 [DBG] Committed transaction.
2024-08-26 07:18:35.650 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.650 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.650 +05:30 [DBG] Disposing transaction.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.650 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-26 07:18:35.650 +05:30 [INF] Setting HTTP status code 201.
2024-08-26 07:18:35.651 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 07:18:35.651 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 07:18:35.651 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:18:35.651 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:18:35.651 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 73.9575ms
2024-08-26 07:18:35.689 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 07:18:35.689 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 07:18:35.689 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:18:35.689 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:18:35.689 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:18:35.689 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:18:35.689 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:18:35.689 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7459ms
2024-08-26 07:18:35.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 07:18:35.690 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 07:18:35.690 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:18:35.690 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:18:35.690 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:18:35.691 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:18:35.691 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:18:35.691 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:18:35.691 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:18:35.692 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:18:35.693 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .OrderBy(o => o.IdentityTypeId)'
2024-08-26 07:18:35.694 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<IdentityType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityType.IdentityTypeId (byte) Required PK AfterSave:Throw, 0], [Property: IdentityType.IdentityTypeCode (string) Required, 1], [Property: IdentityType.IdentityTypeName (string) Required, 2] }
        SELECT i.IdentityTypeId, i.IdentityTypeCode, i.IdentityTypeName
        FROM IdentityType AS i
        ORDER BY i.IdentityTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-26 07:18:35.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:18:35.695 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:18:35.695 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.695 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.696 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 07:18:35.699 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 07:18:35.700 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.702 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.702 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.702 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.702 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:18:35.702 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:18:35.702 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.702 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:18:35.702 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:18:35.703 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:18:35.703 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:18:35.703 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:18:35.703 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:18:35.703 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 13.2016ms
2024-08-26 07:19:04.276 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null null
2024-08-26 07:19:04.277 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 07:19:04.277 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:19:04.277 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:04.277 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:04.277 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:19:04.277 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:19:04.277 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.8123ms
2024-08-26 07:19:04.278 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 156
2024-08-26 07:19:04.278 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 07:19:04.278 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 07:19:04.278 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:04.278 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:04.278 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:19:04.278 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:19:04.278 +05:30 [DBG] Authorization was successful.
2024-08-26 07:19:04.278 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:19:04.278 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 07:19:04.279 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000006": started reading request body.
2024-08-26 07:19:04.279 +05:30 [DBG] Connection id "0HN65E0PV8E1O", Request id "0HN65E0PV8E1O:00000006": done reading request body.
2024-08-26 07:19:04.288 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:19:04.288 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .Where(i => i.IdentityTypeCode.Equals(__identityTypeCode_0))
    .Select(s => s.IdentityTypeId)
    .FirstOrDefault()'
2024-08-26 07:19:04.290 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) i.IdentityTypeId
            FROM IdentityType AS i
            WHERE i.IdentityTypeCode == @__identityTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:19:04.290 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:04.290 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:04.290 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.291 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.291 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 07:19:04.291 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 07:19:04.291 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:04.291 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.291 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.292 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Where(p => p.PatientId.Equals(__patientId_0) && p.IdentityTypeId.Equals(__identityTypeId_1) && p.IdentityNumber.Equals(__Trim_2) && p.IsActive)
    .FirstOrDefault()'
2024-08-26 07:19:04.294 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientIdentity>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientIdentity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientIdentity.PatientIdentityId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientIdentity.Expiry (DateTime?), 1], [Property: PatientIdentity.IdentityNumber (string) Required, 2], [Property: PatientIdentity.IdentityTypeId (byte) Required, 3], [Property: PatientIdentity.IsActive (bool) Required, 4], [Property: PatientIdentity.IssuedBy (string) Required, 5], [Property: PatientIdentity.PatientId (long) Required, 6], [Property: PatientIdentity.PlaceIssued (string), 7] }
            SELECT TOP(1) p.PatientIdentityId, p.Expiry, p.IdentityNumber, p.IdentityTypeId, p.IsActive, p.IssuedBy, p.PatientId, p.PlaceIssued
            FROM PatientIdentity AS p
            WHERE (((p.PatientId == @__patientId_0) && (p.IdentityTypeId == @__identityTypeId_1)) && (p.IdentityNumber == @__Trim_2)) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentity>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 07:19:04.294 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:04.294 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:04.294 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.295 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.295 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 07:19:04.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 07:19:04.295 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:04.295 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.296 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.296 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.303 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.303 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:19:04.303 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:19:04.304 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:19:04.304 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.304 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.304 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:19:04.304 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:19:04.305 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:04.305 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:04.305 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-26 07:19:04.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-26 07:19:04.306 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-26 07:19:04.306 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:04.306 +05:30 [DBG] Committing transaction.
2024-08-26 07:19:04.307 +05:30 [DBG] Committed transaction.
2024-08-26 07:19:04.307 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.307 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.307 +05:30 [DBG] Disposing transaction.
2024-08-26 07:19:04.307 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.307 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.308 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.308 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 07:19:04.308 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 07:19:04.308 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 07:19:04.308 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.308 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.308 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 07:19:04.309 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 07:19:04.309 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-26 07:19:04.309 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:04.309 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:04.309 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-26 07:19:04.311 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-26 07:19:04.311 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:04.311 +05:30 [DBG] Committing transaction.
2024-08-26 07:19:04.312 +05:30 [DBG] Committed transaction.
2024-08-26 07:19:04.312 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.312 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.312 +05:30 [DBG] Disposing transaction.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.312 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-26 07:19:04.312 +05:30 [INF] Setting HTTP status code 201.
2024-08-26 07:19:04.312 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-26 07:19:04.315 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 07:19:04.315 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:19:04.316 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:19:04.316 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 37.8274ms
2024-08-26 07:19:04.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null null
2024-08-26 07:19:04.342 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 07:19:04.342 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:19:04.343 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:04.343 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:04.343 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:19:04.343 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:19:04.343 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.8196ms
2024-08-26 07:19:04.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-26 07:19:04.343 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 07:19:04.344 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 07:19:04.344 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:04.344 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:04.344 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:19:04.344 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:19:04.344 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:19:04.344 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 07:19:04.345 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:19:04.345 +05:30 [DBG] Compiling query expression: 
'DbSet<AddressType>()
    .OrderBy(o => o.AddressTypeId)'
2024-08-26 07:19:04.347 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AddressType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AddressType.AddressTypeId (byte) Required PK AfterSave:Throw, 0], [Property: AddressType.AddressTypeCode (string) Required, 1], [Property: AddressType.AddressTypeName (string) Required, 2] }
        SELECT a.AddressTypeId, a.AddressTypeCode, a.AddressTypeName
        FROM AddressType AS a
        ORDER BY a.AddressTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AddressType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-26 07:19:04.348 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:04.348 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:04.348 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.348 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.348 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 07:19:04.352 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 07:19:04.353 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:04.355 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:04.355 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.355 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:04.355 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:19:04.356 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:19:04.356 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 07:19:04.356 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:19:04.356 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:19:04.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 12.707ms
2024-08-26 07:19:12.819 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 07:19:12.819 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 07:19:12.820 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:19:12.820 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:12.820 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:12.820 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:19:12.820 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:19:12.820 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.6537ms
2024-08-26 07:19:12.821 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 07:19:12.821 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 07:19:12.821 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:19:12.821 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:12.821 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:12.822 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:19:12.822 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:19:12.823 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:19:12.823 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:19:12.823 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:19:12.824 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:12.824 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:12.824 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:12.825 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:12.825 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 07:19:12.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 07:19:12.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:12.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:12.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:12.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:12.826 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:12.826 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:12.826 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:12.826 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:12.826 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:19:12.826 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:19:12.826 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 07:19:12.826 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:19:12.826 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:19:12.827 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.5342ms
2024-08-26 07:19:14.029 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 07:19:14.029 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 07:19:14.029 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 07:19:14.031 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:14.031 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:14.031 +05:30 [DBG] The request is a preflight request.
2024-08-26 07:19:14.031 +05:30 [DBG] Connection id "0HN65E0PV8E1N" completed keep alive response.
2024-08-26 07:19:14.031 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 2.6635ms
2024-08-26 07:19:14.033 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 07:19:14.033 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 07:19:14.033 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:19:14.035 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 07:19:14.035 +05:30 [INF] CORS policy execution successful.
2024-08-26 07:19:14.036 +05:30 [DBG] Successfully validated the token.
2024-08-26 07:19:14.036 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 07:19:14.037 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 07:19:14.037 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:19:14.041 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 07:19:14.042 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 07:19:14.042 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 07:19:14.043 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 07:19:14.043 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 07:19:14.043 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 07:19:14.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 07:19:14.044 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:14.044 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 07:19:14.044 +05:30 [DBG] A data reader was disposed.
2024-08-26 07:19:14.044 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 07:19:14.044 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 07:19:14.044 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 07:19:14.044 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 07:19:14.045 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 07:19:14.045 +05:30 [DBG] Connection id "0HN65E0PV8E1O" completed keep alive response.
2024-08-26 07:19:14.045 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 07:19:14.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 11.9126ms
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1O" disconnecting.
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1N" disconnecting.
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1O" stopped.
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1N" stopped.
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 07:21:24.886 +05:30 [DBG] Connection id "0HN65E0PV8E1N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 08:33:46.740 +05:30 [DBG] Connection id "0HN65E0PV8E1P" accepted.
2024-08-26 08:33:46.741 +05:30 [DBG] Connection id "0HN65E0PV8E1P" started.
2024-08-26 08:33:46.743 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:33:46.743 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:33:46.743 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:33:46.743 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:33:46.743 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:33:46.744 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:33:46.744 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:33:46.744 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1578ms
2024-08-26 08:33:46.745 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" accepted.
2024-08-26 08:33:46.745 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" started.
2024-08-26 08:33:46.745 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:33:46.745 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:33:46.746 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:46.746 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:33:46.746 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:33:46.747 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:03:46 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:33:46.755 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:03:46 AM'.
2024-08-26 08:33:46.757 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:33:46.757 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:46.758 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:33:46.758 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:33:46.758 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:33:46.758 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:33:46.808 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:33:46.808 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:33:46.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:33:46.809 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:33:46.809 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:33:46.809 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:33:46.809 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:33:46.809 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:33:46.809 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:33:46.809 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:33:46.810 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:46.810 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:33:46.810 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:33:46.810 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 64.3202ms
2024-08-26 08:33:59.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:33:59.205 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:33:59.205 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:33:59.205 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:33:59.205 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:33:59.205 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:33:59.205 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:33:59.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1267ms
2024-08-26 08:33:59.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:33:59.207 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:33:59.207 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:59.207 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:33:59.207 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:33:59.208 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:03:59 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:33:59.208 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:03:59 AM'.
2024-08-26 08:33:59.208 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:33:59.208 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:59.209 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:33:59.209 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:33:59.210 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:33:59.210 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:33:59.211 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:33:59.211 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:33:59.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:33:59.212 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:33:59.212 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:33:59.212 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:33:59.212 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:33:59.212 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:33:59.212 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:33:59.212 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:33:59.213 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:33:59.213 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:33:59.213 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:33:59.213 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 6.3052ms
2024-08-26 08:35:57.797 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:35:57.797 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:35:57.797 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:35:57.799 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:35:57.799 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:35:57.800 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:35:57.800 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:35:57.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 3.0637ms
2024-08-26 08:35:57.804 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:35:57.804 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:35:57.804 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:35:57.805 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:35:57.805 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:35:57.806 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:05:57 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:35:57.806 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:05:57 AM'.
2024-08-26 08:35:57.806 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:35:57.807 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:35:57.808 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:35:57.808 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:35:57.808 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:35:57.808 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:35:57.809 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:35:57.809 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:35:57.810 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:35:57.810 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:35:57.810 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:35:57.810 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:35:57.810 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:35:57.810 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:35:57.811 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:35:57.811 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:35:57.811 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:35:57.811 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:35:57.811 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:35:57.811 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 7.2696ms
2024-08-26 08:36:14.687 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:36:14.687 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:36:14.687 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:36:14.687 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:36:14.687 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:36:14.688 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:36:14.688 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:36:14.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2166ms
2024-08-26 08:36:14.689 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:36:14.689 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:36:14.689 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:14.689 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:36:14.689 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:36:14.690 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:06:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:36:14.690 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:06:14 AM'.
2024-08-26 08:36:14.690 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:36:14.690 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:14.691 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:36:14.691 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:36:14.691 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:36:14.691 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:36:14.691 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:36:14.691 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:36:14.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:36:14.692 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:36:14.693 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:36:14.693 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:36:14.693 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:36:14.693 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:36:14.693 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:36:14.693 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:36:14.693 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:14.693 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:36:14.693 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:36:14.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.9694ms
2024-08-26 08:36:51.364 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:36:51.365 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:36:51.365 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:36:51.365 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:36:51.365 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:36:51.365 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:36:51.365 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:36:51.365 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1973ms
2024-08-26 08:36:51.368 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:36:51.368 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:36:51.368 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:51.368 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:36:51.368 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:36:51.368 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:06:51 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:36:51.368 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:06:51 AM'.
2024-08-26 08:36:51.368 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:36:51.368 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:51.369 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:36:51.370 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:36:51.370 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:36:51.370 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:36:51.374 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:36:51.374 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:36:51.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:36:51.375 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:36:51.375 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:36:51.376 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:36:51.376 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:36:51.376 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:36:51.376 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:36:51.376 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:36:51.376 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:36:51.376 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:36:51.376 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:36:51.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 8.9237ms
2024-08-26 08:37:07.439 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:37:07.440 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:37:07.440 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:37:07.440 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:07.440 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:07.440 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:37:07.440 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:37:07.440 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6864ms
2024-08-26 08:37:07.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:37:07.441 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:37:07.441 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:07.441 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:07.442 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:07.442 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:07 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:37:07.443 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:07 AM'.
2024-08-26 08:37:07.443 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:37:07.443 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:07.443 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:37:07.444 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:07.444 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:07.444 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:07.445 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:07.445 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:37:07.445 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:37:07.446 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:07.446 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:07.446 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:07.446 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:07.446 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:07.446 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:37:07.446 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:37:07.446 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:07.446 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:07.446 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:37:07.446 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.9037ms
2024-08-26 08:37:20.416 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 08:37:20.416 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 08:37:20.416 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:37:20.417 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.417 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.417 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:37:20.417 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:37:20.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 2.105ms
2024-08-26 08:37:20.418 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 134
2024-08-26 08:37:20.418 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 08:37:20.419 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:37:20.419 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.419 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.420 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:20 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:37:20.423 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:20 AM'.
2024-08-26 08:37:20.426 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 08:37:20.427 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 08:37:20.431 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 08:37:20.432 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:20.432 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 14.1368ms
2024-08-26 08:37:20.433 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000007": started reading request body.
2024-08-26 08:37:20.433 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000007": done reading request body.
2024-08-26 08:37:20.434 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 08:37:20.435 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 08:37:20.435 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:37:20.435 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.436 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.436 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:37:20.436 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:37:20.437 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 1.9711ms
2024-08-26 08:37:20.440 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-26 08:37:20.442 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 08:37:20.443 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 08:37:20.443 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.443 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.448 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:20 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 08:37:20.448 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 1:56:37 AM', Current time: '8/26/2024 3:07:20 AM'.
2024-08-26 08:37:20.448 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:37:20.448 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 08:37:20.455 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:37:20.456 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => string.Equals(
        a: <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Token, 
        b: __refreshTokenId_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-26 08:37:20.459 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                AppUserId -> 0
                Username -> 1
                Firstname -> 2
                Lastname -> 3
                CustomerId -> 4
                CustomerCode -> 5
                CustomerShortName -> 6
                CustomerName -> 7
                LanguageCode -> 8
                RoleCode -> 9
            SELECT TOP(1) a.AppUserId, c.Username, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE (c.Token == @__refreshTokenId_0) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 08:37:20.462 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.462 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.462 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.462 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.463 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 08:37:20.466 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 08:37:20.466 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.466 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.466 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.467 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.467 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.467 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.467 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.467 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 08:37:20.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 08:37:20.468 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.468 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.468 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.469 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.469 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.469 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.469 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.469 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:37:20.469 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.469 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.470 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:37:20.470 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:37:20.470 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.470 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.471 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 08:37:20.475 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 08:37:20.476 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.476 +05:30 [DBG] Committing transaction.
2024-08-26 08:37:20.478 +05:30 [DBG] Committed transaction.
2024-08-26 08:37:20.479 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.479 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.479 +05:30 [DBG] Disposing transaction.
2024-08-26 08:37:20.479 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.479 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:37:20.479 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.479 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.479 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.479 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:37:20.479 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.479 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.480 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:37:20.480 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:37:20.480 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.480 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.480 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:37:20.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:37:20.482 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.482 +05:30 [DBG] Committing transaction.
2024-08-26 08:37:20.482 +05:30 [DBG] Committed transaction.
2024-08-26 08:37:20.482 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.482 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.482 +05:30 [DBG] Disposing transaction.
2024-08-26 08:37:20.482 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.482 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:37:20.483 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:37:20.483 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 08:37:20.483 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 08:37:20.483 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:20.483 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:37:20.483 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 42.7211ms
2024-08-26 08:37:20.483 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000008": started reading request body.
2024-08-26 08:37:20.483 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000008": done reading request body.
2024-08-26 08:37:20.485 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 134
2024-08-26 08:37:20.485 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 08:37:20.485 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:37:20.485 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.485 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.485 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:37:20.485 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:37:20.485 +05:30 [DBG] Authorization was successful.
2024-08-26 08:37:20.485 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:37:20.485 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:37:20.486 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000009": started reading request body.
2024-08-26 08:37:20.486 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:00000009": done reading request body.
2024-08-26 08:37:20.492 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:37:20.492 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2) && !(p.PatientId.Equals(__patientId_3)))'
2024-08-26 08:37:20.495 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE (((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)) && Not(p.PatientId == @__patientId_3)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 08:37:20.495 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.495 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.496 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.496 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.496 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 08:37:20.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 08:37:20.497 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.497 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.497 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.497 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.497 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.497 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.498 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.498 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 08:37:20.498 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 08:37:20.498 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.498 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.498 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.499 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.PatientId.Equals(__patientId_0))
    .FirstOrDefault()'
2024-08-26 08:37:20.500 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE p.PatientId == @__patientId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 08:37:20.500 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.501 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.501 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.501 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.501 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:37:20.501 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:37:20.501 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.502 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.502 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.502 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.503 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.503 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.503 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.503 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.503 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:37:20.504 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:37:20.504 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.504 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.504 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.504 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.504 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.504 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.504 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:37:20.504 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.504 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.504 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:37:20.505 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:37:20.505 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.505 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.505 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 08:37:20.505 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 08:37:20.505 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.505 +05:30 [DBG] Committing transaction.
2024-08-26 08:37:20.505 +05:30 [DBG] Committed transaction.
2024-08-26 08:37:20.506 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.506 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.506 +05:30 [DBG] Disposing transaction.
2024-08-26 08:37:20.506 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.506 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:37:20.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.506 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.506 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:37:20.506 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:37:20.506 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.507 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.507 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:37:20.507 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:37:20.507 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.507 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.507 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:37:20.508 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:37:20.508 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.508 +05:30 [DBG] Committing transaction.
2024-08-26 08:37:20.508 +05:30 [DBG] Committed transaction.
2024-08-26 08:37:20.508 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.508 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.508 +05:30 [DBG] Disposing transaction.
2024-08-26 08:37:20.508 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.508 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:37:20.508 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 08:37:20.509 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 08:37:20.509 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:37:20.509 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:20.509 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:37:20.509 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 23.997ms
2024-08-26 08:37:20.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 08:37:20.535 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 08:37:20.535 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:37:20.535 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.535 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.535 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:37:20.535 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:37:20.535 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6067ms
2024-08-26 08:37:20.536 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 08:37:20.536 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 08:37:20.537 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:37:20.537 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:20.537 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:20.537 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:37:20.537 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:37:20.537 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:37:20.537 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:37:20.537 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:37:20.538 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:20.538 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:20.538 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.538 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.538 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 08:37:20.539 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 08:37:20.539 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.539 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.539 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.539 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.539 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:20.539 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:20.539 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.539 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:20.539 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:37:20.539 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:37:20.539 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:37:20.539 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:20.539 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:37:20.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.0732ms
2024-08-26 08:37:30.568 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:37:30.569 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:37:30.569 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:37:30.569 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:30.569 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:30.569 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:37:30.569 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:37:30.569 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7879ms
2024-08-26 08:37:30.570 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:37:30.570 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:37:30.570 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:30.571 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:37:30.571 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:37:30.571 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:37:30.571 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:37:30.571 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:37:30.571 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:30.572 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:37:30.572 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:37:30.572 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:37:30.572 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:37:30.573 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:37:30.573 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:37:30.574 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:37:30.574 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:30.574 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:37:30.574 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:37:30.574 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:37:30.574 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:37:30.575 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:37:30.575 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:37:30.575 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:37:30.575 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:37:30.575 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:37:30.575 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.8201ms
2024-08-26 08:38:20.046 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:38:20.046 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:38:20.046 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:38:20.046 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:20.046 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:20.046 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:38:20.046 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:38:20.046 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.3162ms
2024-08-26 08:38:20.047 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:38:20.047 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:38:20.047 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:20.047 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:20.047 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:20.047 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:38:20.047 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:38:20.048 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:38:20.048 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:20.048 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:38:20.048 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:20.048 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:20.048 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:20.050 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:20.050 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:38:20.050 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:38:20.050 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:20.050 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:20.051 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:20.051 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:20.051 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:20.051 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:38:20.051 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:38:20.051 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:20.051 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:38:20.051 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:38:20.051 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.3146ms
2024-08-26 08:38:24.622 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 08:38:24.623 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 08:38:24.623 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:38:24.623 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:24.623 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:24.623 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:38:24.623 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:38:24.623 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9112ms
2024-08-26 08:38:24.624 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 134
2024-08-26 08:38:24.624 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 08:38:24.624 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:38:24.624 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:24.624 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:24.625 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:38:24.625 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:38:24.625 +05:30 [DBG] Authorization was successful.
2024-08-26 08:38:24.625 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:38:24.626 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:38:24.626 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:0000000D": started reading request body.
2024-08-26 08:38:24.626 +05:30 [DBG] Connection id "0HN65E0PV8E1Q", Request id "0HN65E0PV8E1Q:0000000D": done reading request body.
2024-08-26 08:38:24.642 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:38:24.642 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.643 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.643 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.643 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.643 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 08:38:24.644 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 08:38:24.644 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.644 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.644 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.644 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.644 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.645 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.645 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.645 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 08:38:24.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 08:38:24.646 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.646 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.646 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.647 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.647 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.647 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.647 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.648 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:38:24.648 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:38:24.648 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.648 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.648 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.649 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.649 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.649 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.649 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.649 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.649 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:38:24.650 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 08:38:24.650 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.650 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.650 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.650 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.650 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:38:24.650 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:38:24.650 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:38:24.650 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.650 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.650 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:38:24.651 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:38:24.651 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.651 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.651 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 08:38:24.651 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 08:38:24.651 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.651 +05:30 [DBG] Committing transaction.
2024-08-26 08:38:24.652 +05:30 [DBG] Committed transaction.
2024-08-26 08:38:24.652 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.652 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.652 +05:30 [DBG] Disposing transaction.
2024-08-26 08:38:24.652 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.652 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:38:24.652 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.652 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 08:38:24.652 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 08:38:24.653 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 08:38:24.653 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.654 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.654 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 08:38:24.654 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 08:38:24.654 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.655 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.655 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:38:24.655 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 08:38:24.655 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.655 +05:30 [DBG] Committing transaction.
2024-08-26 08:38:24.656 +05:30 [DBG] Committed transaction.
2024-08-26 08:38:24.656 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.656 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.656 +05:30 [DBG] Disposing transaction.
2024-08-26 08:38:24.656 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.656 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 08:38:24.656 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 08:38:24.656 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 08:38:24.656 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 08:38:24.656 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:38:24.656 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:38:24.656 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 32.4808ms
2024-08-26 08:38:24.702 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 08:38:24.703 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 08:38:24.703 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:38:24.703 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:24.703 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:24.703 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:38:24.703 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:38:24.703 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.0624ms
2024-08-26 08:38:24.704 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 08:38:24.705 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 08:38:24.705 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:38:24.705 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:24.705 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:24.705 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:38:24.705 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:38:24.705 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:38:24.705 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:38:24.706 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:38:24.706 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:24.706 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:24.706 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.706 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.706 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 08:38:24.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 08:38:24.707 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:24.708 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:24.708 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.708 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:24.708 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:38:24.709 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:38:24.709 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 08:38:24.709 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:38:24.710 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:38:24.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.9811ms
2024-08-26 08:38:28.246 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 08:38:28.247 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:38:28.247 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 08:38:28.247 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:28.247 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:28.247 +05:30 [DBG] The request is a preflight request.
2024-08-26 08:38:28.248 +05:30 [DBG] Connection id "0HN65E0PV8E1P" completed keep alive response.
2024-08-26 08:38:28.248 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.4782ms
2024-08-26 08:38:28.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 08:38:28.250 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 08:38:28.250 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:28.250 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 08:38:28.250 +05:30 [INF] CORS policy execution successful.
2024-08-26 08:38:28.251 +05:30 [DBG] Successfully validated the token.
2024-08-26 08:38:28.251 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 08:38:28.255 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 08:38:28.256 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:28.256 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 08:38:28.256 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 08:38:28.256 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 08:38:28.256 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 08:38:28.258 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 08:38:28.258 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:38:28.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 08:38:28.259 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:28.260 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 08:38:28.260 +05:30 [DBG] A data reader was disposed.
2024-08-26 08:38:28.260 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 08:38:28.260 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 08:38:28.260 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 08:38:28.260 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 08:38:28.261 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 08:38:28.261 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" completed keep alive response.
2024-08-26 08:38:28.264 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 08:38:28.264 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 14.0572ms
2024-08-26 08:40:39.238 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" disconnecting.
2024-08-26 08:40:39.238 +05:30 [DBG] Connection id "0HN65E0PV8E1P" disconnecting.
2024-08-26 08:40:39.240 +05:30 [DBG] Connection id "0HN65E0PV8E1P" stopped.
2024-08-26 08:40:39.240 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" stopped.
2024-08-26 08:40:39.241 +05:30 [DBG] Connection id "0HN65E0PV8E1P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 08:40:39.241 +05:30 [DBG] Connection id "0HN65E0PV8E1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:11:17.923 +05:30 [DBG] Connection id "0HN65E0PV8E1R" accepted.
2024-08-26 09:11:17.923 +05:30 [DBG] Connection id "0HN65E0PV8E1R" started.
2024-08-26 09:11:17.924 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:11:17.924 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:11:17.924 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:11:17.924 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:17.924 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:17.924 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:11:17.924 +05:30 [DBG] Connection id "0HN65E0PV8E1R" completed keep alive response.
2024-08-26 09:11:17.924 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.5937ms
2024-08-26 09:11:17.925 +05:30 [DBG] Connection id "0HN65E0PV8E1S" accepted.
2024-08-26 09:11:17.926 +05:30 [DBG] Connection id "0HN65E0PV8E1S" started.
2024-08-26 09:11:17.926 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 134
2024-08-26 09:11:17.926 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:11:17.926 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:11:17.926 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:17.926 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:17.930 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 3:22:20 AM', Current time: '8/26/2024 3:41:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:11:17.931 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 3:22:20 AM', Current time: '8/26/2024 3:41:17 AM'.
2024-08-26 09:11:17.931 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 09:11:17.932 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 09:11:17.933 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 09:11:17.934 +05:30 [DBG] Connection id "0HN65E0PV8E1S" completed keep alive response.
2024-08-26 09:11:17.934 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 8.2913ms
2024-08-26 09:11:17.934 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000001": started reading request body.
2024-08-26 09:11:17.935 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000001": done reading request body.
2024-08-26 09:11:17.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 09:11:17.936 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:11:17.936 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:11:17.936 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:17.937 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:17.937 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:11:17.937 +05:30 [DBG] Connection id "0HN65E0PV8E1R" completed keep alive response.
2024-08-26 09:11:17.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 1.5696ms
2024-08-26 09:11:17.938 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-26 09:11:17.938 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:11:17.938 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:11:17.939 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:17.939 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:17.948 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 3:22:20 AM', Current time: '8/26/2024 3:41:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:11:17.948 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 3:22:20 AM', Current time: '8/26/2024 3:41:17 AM'.
2024-08-26 09:11:17.948 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:11:17.949 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:11:17.950 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:11:17.951 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.951 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.951 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.966 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.966 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:11:17.967 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:11:17.967 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.967 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.967 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.967 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.967 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.967 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.968 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.968 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:11:17.968 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:11:17.968 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.968 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.968 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.969 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.969 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.969 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.969 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.969 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:11:17.969 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.969 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.969 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:11:17.970 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:11:17.970 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.970 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.970 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:11:17.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:11:17.971 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.971 +05:30 [DBG] Committing transaction.
2024-08-26 09:11:17.973 +05:30 [DBG] Committed transaction.
2024-08-26 09:11:17.973 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.973 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.973 +05:30 [DBG] Disposing transaction.
2024-08-26 09:11:17.973 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.973 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:11:17.973 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.973 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.973 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.973 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:11:17.973 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.974 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.974 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:11:17.974 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:11:17.974 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.974 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.974 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:11:17.975 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:11:17.975 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.975 +05:30 [DBG] Committing transaction.
2024-08-26 09:11:17.976 +05:30 [DBG] Committed transaction.
2024-08-26 09:11:17.976 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.976 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.976 +05:30 [DBG] Disposing transaction.
2024-08-26 09:11:17.976 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.976 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:11:17.976 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:11:17.976 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 09:11:17.976 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:11:17.976 +05:30 [DBG] Connection id "0HN65E0PV8E1S" completed keep alive response.
2024-08-26 09:11:17.976 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:11:17.977 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 38.6877ms
2024-08-26 09:11:17.977 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000002": started reading request body.
2024-08-26 09:11:17.977 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000002": done reading request body.
2024-08-26 09:11:17.979 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 134
2024-08-26 09:11:17.979 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:11:17.979 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:11:17.979 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:17.979 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:17.979 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:11:17.979 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:11:17.979 +05:30 [DBG] Authorization was successful.
2024-08-26 09:11:17.979 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:11:17.979 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:11:17.979 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000003": started reading request body.
2024-08-26 09:11:17.979 +05:30 [DBG] Connection id "0HN65E0PV8E1S", Request id "0HN65E0PV8E1S:00000003": done reading request body.
2024-08-26 09:11:17.981 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:11:17.981 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.981 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.981 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.982 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.982 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:11:17.982 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:11:17.982 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.982 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.982 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.983 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.983 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.983 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.983 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.983 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:11:17.983 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:11:17.984 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.984 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.984 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.984 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.984 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.984 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.984 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.984 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:11:17.984 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:11:17.985 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.985 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.985 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.985 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.985 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.985 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.985 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.985 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.985 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:11:17.985 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:11:17.985 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.986 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.986 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.986 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.986 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.986 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.986 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:11:17.986 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.986 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.986 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:11:17.987 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:11:17.987 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.987 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.987 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:11:17.988 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:11:17.988 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.988 +05:30 [DBG] Committing transaction.
2024-08-26 09:11:17.988 +05:30 [DBG] Committed transaction.
2024-08-26 09:11:17.988 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.988 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.988 +05:30 [DBG] Disposing transaction.
2024-08-26 09:11:17.988 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.988 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:11:17.988 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.988 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.988 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:11:17.988 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:11:17.989 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.989 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.989 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:11:17.989 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:11:17.989 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:17.989 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:17.989 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:11:17.989 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:11:17.990 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:17.990 +05:30 [DBG] Committing transaction.
2024-08-26 09:11:17.990 +05:30 [DBG] Committed transaction.
2024-08-26 09:11:17.990 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.990 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:17.990 +05:30 [DBG] Disposing transaction.
2024-08-26 09:11:17.990 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:17.990 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:11:17.990 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:11:17.990 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:11:17.990 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:11:17.990 +05:30 [DBG] Connection id "0HN65E0PV8E1S" completed keep alive response.
2024-08-26 09:11:17.990 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:11:17.990 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 11.6655ms
2024-08-26 09:11:18.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:11:18.017 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:11:18.017 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:11:18.017 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:18.018 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:18.018 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:11:18.018 +05:30 [DBG] Connection id "0HN65E0PV8E1R" completed keep alive response.
2024-08-26 09:11:18.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.8317ms
2024-08-26 09:11:18.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:11:18.019 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:11:18.019 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:11:18.019 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:11:18.019 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:11:18.019 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:11:18.019 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:11:18.019 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:11:18.019 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:11:18.020 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:11:18.020 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:11:18.020 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:11:18.020 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:11:18.020 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:11:18.020 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:11:18.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:11:18.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:18.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:18.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:18.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:18.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:11:18.021 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:11:18.021 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:11:18.021 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:11:18.021 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:11:18.021 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:11:18.021 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:11:18.021 +05:30 [DBG] Connection id "0HN65E0PV8E1S" completed keep alive response.
2024-08-26 09:11:18.021 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:11:18.021 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.0005ms
2024-08-26 09:13:29.263 +05:30 [DBG] Connection id "0HN65E0PV8E1R" disconnecting.
2024-08-26 09:13:29.264 +05:30 [DBG] Connection id "0HN65E0PV8E1S" disconnecting.
2024-08-26 09:13:29.264 +05:30 [DBG] Connection id "0HN65E0PV8E1S" stopped.
2024-08-26 09:13:29.264 +05:30 [DBG] Connection id "0HN65E0PV8E1R" stopped.
2024-08-26 09:13:29.264 +05:30 [DBG] Connection id "0HN65E0PV8E1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:13:29.265 +05:30 [DBG] Connection id "0HN65E0PV8E1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:19:31.902 +05:30 [DBG] Connection id "0HN65E0PV8E1T" accepted.
2024-08-26 09:19:31.902 +05:30 [DBG] Connection id "0HN65E0PV8E1T" started.
2024-08-26 09:19:31.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:19:31.903 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:19:31.903 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:19:31.903 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:19:31.903 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:19:31.903 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:19:31.903 +05:30 [DBG] Connection id "0HN65E0PV8E1T" completed keep alive response.
2024-08-26 09:19:31.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6367ms
2024-08-26 09:19:31.904 +05:30 [DBG] Connection id "0HN65E0PV8E1U" accepted.
2024-08-26 09:19:31.904 +05:30 [DBG] Connection id "0HN65E0PV8E1U" started.
2024-08-26 09:19:31.904 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:19:31.905 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:19:31.905 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:19:31.905 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:19:31.905 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:19:31.905 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:19:31.905 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:19:31.906 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:19:31.906 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:19:31.906 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:19:31.907 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:19:31.907 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:19:31.907 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:19:31.936 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:19:31.937 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:19:31.937 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:19:31.937 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:19:31.937 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:19:31.937 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:19:31.937 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:19:31.937 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:19:31.937 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:19:31.937 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:19:31.937 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:19:31.938 +05:30 [DBG] Connection id "0HN65E0PV8E1U" completed keep alive response.
2024-08-26 09:19:31.938 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:19:31.938 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 33.4033ms
2024-08-26 09:20:11.877 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-26 09:20:11.877 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-26 09:20:11.877 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:20:11.878 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:11.878 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:11.878 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:20:11.878 +05:30 [DBG] Connection id "0HN65E0PV8E1T" completed keep alive response.
2024-08-26 09:20:11.878 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 0.9305ms
2024-08-26 09:20:11.879 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-26 09:20:11.879 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-26 09:20:11.879 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 09:20:11.879 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:11.879 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:11.879 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:20:11.879 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:20:11.879 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 09:20:11.879 +05:30 [DBG] Connection id "0HN65E0PV8E1U", Request id "0HN65E0PV8E1U:00000002": started reading request body.
2024-08-26 09:20:11.880 +05:30 [DBG] Connection id "0HN65E0PV8E1U", Request id "0HN65E0PV8E1U:00000002": done reading request body.
2024-08-26 09:20:11.880 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-26 09:20:11.993 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:20:11.993 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:11.994 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:11.994 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:11.994 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:11.994 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:20:11.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:20:11.996 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:11.996 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:11.996 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.101 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-26 09:20:12.101 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:12.102 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:12.102 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.102 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.102 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:20:12.102 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:20:12.103 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.103 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:12.103 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.103 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.103 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.103 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:20:12.103 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:20:12.103 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:20:12.103 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.103 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.103 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:20:12.103 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:20:12.103 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:12.103 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:12.104 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:20:12.104 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:20:12.104 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:12.104 +05:30 [DBG] Committing transaction.
2024-08-26 09:20:12.105 +05:30 [DBG] Committed transaction.
2024-08-26 09:20:12.105 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.105 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.105 +05:30 [DBG] Disposing transaction.
2024-08-26 09:20:12.105 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.105 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:20:12.106 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.106 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:20:12.106 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:20:12.106 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:20:12.106 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.106 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.106 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:20:12.106 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:20:12.106 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:12.107 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:12.107 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:20:12.107 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:20:12.107 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:12.107 +05:30 [DBG] Committing transaction.
2024-08-26 09:20:12.107 +05:30 [DBG] Committed transaction.
2024-08-26 09:20:12.107 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.107 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.107 +05:30 [DBG] Disposing transaction.
2024-08-26 09:20:12.108 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.108 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:20:12.108 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:20:12.108 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 09:20:12.108 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-26 09:20:12.108 +05:30 [DBG] Connection id "0HN65E0PV8E1U" completed keep alive response.
2024-08-26 09:20:12.108 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:20:12.108 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 229.0362ms
2024-08-26 09:20:12.143 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:20:12.143 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:20:12.144 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:20:12.144 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:12.144 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:12.144 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:20:12.144 +05:30 [DBG] Connection id "0HN65E0PV8E1T" completed keep alive response.
2024-08-26 09:20:12.144 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.983ms
2024-08-26 09:20:12.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:20:12.145 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:20:12.145 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:20:12.145 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:12.145 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:12.145 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:20:12.145 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:20:12.146 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:20:12.146 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:20:12.146 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:20:12.147 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:12.147 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:12.147 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.147 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.147 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:20:12.148 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:20:12.148 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.148 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:12.148 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:12.148 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.148 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:12.148 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:20:12.148 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:20:12.149 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:20:12.149 +05:30 [DBG] Connection id "0HN65E0PV8E1U" completed keep alive response.
2024-08-26 09:20:12.149 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:20:12.149 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.3027ms
2024-08-26 09:20:27.154 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:20:27.155 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:20:27.155 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:20:27.155 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:27.155 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:27.155 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:20:27.155 +05:30 [DBG] Connection id "0HN65E0PV8E1T" completed keep alive response.
2024-08-26 09:20:27.155 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.6382ms
2024-08-26 09:20:27.156 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 143
2024-08-26 09:20:27.156 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:20:27.156 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 09:20:27.156 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:27.156 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:27.156 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:20:27.156 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:20:27.156 +05:30 [DBG] Authorization was successful.
2024-08-26 09:20:27.156 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:20:27.156 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 09:20:27.156 +05:30 [DBG] Connection id "0HN65E0PV8E1U", Request id "0HN65E0PV8E1U:00000004": started reading request body.
2024-08-26 09:20:27.156 +05:30 [DBG] Connection id "0HN65E0PV8E1U", Request id "0HN65E0PV8E1U:00000004": done reading request body.
2024-08-26 09:20:27.157 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:20:27.157 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.157 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.157 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.158 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.158 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-26 09:20:27.158 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-26 09:20:27.159 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.159 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.159 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.159 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.159 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.159 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.159 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.159 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:20:27.160 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:20:27.160 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.160 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.160 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.160 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.160 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.160 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.160 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.160 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:20:27.160 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.160 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.161 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:20:27.161 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:20:27.161 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.161 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.161 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-26 09:20:27.162 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-26 09:20:27.162 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-26 09:20:27.162 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.162 +05:30 [DBG] Committing transaction.
2024-08-26 09:20:27.163 +05:30 [DBG] Committed transaction.
2024-08-26 09:20:27.163 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.163 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.163 +05:30 [DBG] Disposing transaction.
2024-08-26 09:20:27.163 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.163 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:20:27.163 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.163 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.163 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.163 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:20:27.163 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.163 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.163 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:20:27.164 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:20:27.164 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.164 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.164 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:20:27.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:20:27.166 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.166 +05:30 [DBG] Committing transaction.
2024-08-26 09:20:27.166 +05:30 [DBG] Committed transaction.
2024-08-26 09:20:27.166 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.166 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.166 +05:30 [DBG] Disposing transaction.
2024-08-26 09:20:27.166 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.166 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.166 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:20:27.167 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:20:27.167 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.167 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.167 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:20:27.167 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:20:27.167 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-26 09:20:27.167 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.168 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.168 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-26 09:20:27.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-26 09:20:27.170 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.170 +05:30 [DBG] Committing transaction.
2024-08-26 09:20:27.170 +05:30 [DBG] Committed transaction.
2024-08-26 09:20:27.170 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.170 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.170 +05:30 [DBG] Disposing transaction.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.170 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-26 09:20:27.170 +05:30 [INF] Setting HTTP status code 201.
2024-08-26 09:20:27.171 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:20:27.171 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-26 09:20:27.171 +05:30 [DBG] Connection id "0HN65E0PV8E1U" completed keep alive response.
2024-08-26 09:20:27.171 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:20:27.171 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 14.8383ms
2024-08-26 09:20:27.196 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:20:27.196 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:20:27.197 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:20:27.197 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:27.197 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:27.197 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:20:27.197 +05:30 [DBG] Connection id "0HN65E0PV8E1T" completed keep alive response.
2024-08-26 09:20:27.197 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.4872ms
2024-08-26 09:20:27.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:20:27.198 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:20:27.198 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:20:27.198 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:20:27.198 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:20:27.198 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:20:27.198 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:20:27.199 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:20:27.199 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:20:27.199 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:20:27.199 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:20:27.199 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:20:27.199 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.200 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.200 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:20:27.200 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:20:27.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.200 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:20:27.200 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:20:27.200 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.200 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:20:27.200 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:20:27.200 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:20:27.200 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:20:27.200 +05:30 [DBG] Connection id "0HN65E0PV8E1U" completed keep alive response.
2024-08-26 09:20:27.201 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:20:27.201 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.942ms
2024-08-26 09:22:37.835 +05:30 [DBG] Connection id "0HN65E0PV8E1T" disconnecting.
2024-08-26 09:22:37.835 +05:30 [DBG] Connection id "0HN65E0PV8E1U" disconnecting.
2024-08-26 09:22:37.836 +05:30 [DBG] Connection id "0HN65E0PV8E1T" stopped.
2024-08-26 09:22:37.836 +05:30 [DBG] Connection id "0HN65E0PV8E1U" stopped.
2024-08-26 09:22:37.836 +05:30 [DBG] Connection id "0HN65E0PV8E1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:22:37.836 +05:30 [DBG] Connection id "0HN65E0PV8E1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:33:23.383 +05:30 [DBG] Connection id "0HN65E0PV8E1V" accepted.
2024-08-26 09:33:23.383 +05:30 [DBG] Connection id "0HN65E0PV8E1V" started.
2024-08-26 09:33:23.384 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:33:23.384 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:33:23.384 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:33:23.384 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:33:23.384 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:33:23.384 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:33:23.384 +05:30 [DBG] Connection id "0HN65E0PV8E1V" completed keep alive response.
2024-08-26 09:33:23.385 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7824ms
2024-08-26 09:33:23.386 +05:30 [DBG] Connection id "0HN65E0PV8E20" accepted.
2024-08-26 09:33:23.387 +05:30 [DBG] Connection id "0HN65E0PV8E20" started.
2024-08-26 09:33:23.387 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:33:23.387 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:33:23.387 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:33:23.387 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:33:23.388 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:33:23.388 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:33:23.388 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:33:23.388 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:33:23.388 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:33:23.389 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:33:23.390 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:33:23.390 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:33:23.390 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:33:23.408 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:33:23.408 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:33:23.408 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:33:23.408 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:33:23.408 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:33:23.408 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:33:23.409 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:33:23.409 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:33:23.409 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:33:23.409 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:33:23.409 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:33:23.409 +05:30 [DBG] Connection id "0HN65E0PV8E20" completed keep alive response.
2024-08-26 09:33:23.409 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:33:23.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 22.0405ms
2024-08-26 09:34:12.541 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:34:12.542 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:34:12.542 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:34:12.543 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:12.543 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:12.543 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:34:12.543 +05:30 [DBG] Connection id "0HN65E0PV8E1V" completed keep alive response.
2024-08-26 09:34:12.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.87ms
2024-08-26 09:34:12.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:34:12.544 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:34:12.544 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:34:12.544 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:12.544 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:12.544 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:34:12.544 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:34:12.545 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:34:12.545 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:34:12.545 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:34:12.545 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:12.545 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:12.546 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:12.546 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:12.546 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:34:12.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:34:12.547 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:12.547 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:12.547 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:12.547 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:12.547 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:12.547 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:34:12.547 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:34:12.548 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:34:12.548 +05:30 [DBG] Connection id "0HN65E0PV8E20" completed keep alive response.
2024-08-26 09:34:12.548 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:34:12.548 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.7849ms
2024-08-26 09:34:14.955 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:34:14.955 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:34:14.959 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:34:14.960 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:14.960 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:14.960 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:34:14.960 +05:30 [DBG] Connection id "0HN65E0PV8E1V" completed keep alive response.
2024-08-26 09:34:14.961 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 5.6121ms
2024-08-26 09:34:14.963 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:34:14.965 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:34:14.965 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:34:14.966 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:14.966 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:14.967 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:34:14.967 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:34:14.967 +05:30 [DBG] Authorization was successful.
2024-08-26 09:34:14.967 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:34:14.967 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:34:14.967 +05:30 [DBG] Connection id "0HN65E0PV8E20", Request id "0HN65E0PV8E20:00000003": started reading request body.
2024-08-26 09:34:14.968 +05:30 [DBG] Connection id "0HN65E0PV8E20", Request id "0HN65E0PV8E20:00000003": done reading request body.
2024-08-26 09:34:14.969 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:34:14.969 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.969 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.969 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.970 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.970 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:34:14.972 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:34:14.972 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.972 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.972 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.973 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.973 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.973 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.973 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.973 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:34:14.974 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:34:14.974 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.974 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.974 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.974 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.974 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.974 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.975 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.975 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:34:14.975 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:34:14.975 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:14.975 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.975 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.975 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.976 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.976 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.976 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.976 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.976 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:34:14.976 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:34:14.976 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.976 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.976 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.976 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:14.976 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:34:14.977 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:34:14.977 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:34:14.977 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.977 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.977 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:34:14.977 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:34:14.977 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.978 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.978 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:34:14.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:34:14.978 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.978 +05:30 [DBG] Committing transaction.
2024-08-26 09:34:14.978 +05:30 [DBG] Committed transaction.
2024-08-26 09:34:14.979 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.979 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.979 +05:30 [DBG] Disposing transaction.
2024-08-26 09:34:14.979 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:14.979 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:34:14.979 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:14.979 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:34:14.979 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:34:14.979 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:34:14.979 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.979 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.979 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:34:14.979 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:34:14.980 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:14.980 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:14.980 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:34:14.980 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:34:14.980 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:14.980 +05:30 [DBG] Committing transaction.
2024-08-26 09:34:14.981 +05:30 [DBG] Committed transaction.
2024-08-26 09:34:14.981 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.981 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:14.981 +05:30 [DBG] Disposing transaction.
2024-08-26 09:34:14.981 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:14.981 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:34:14.981 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:34:14.982 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:34:14.982 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:34:14.982 +05:30 [DBG] Connection id "0HN65E0PV8E20" completed keep alive response.
2024-08-26 09:34:14.982 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:34:14.982 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 18.771ms
2024-08-26 09:34:15.008 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:34:15.009 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:34:15.009 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:34:15.009 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:15.009 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:15.009 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:34:15.009 +05:30 [DBG] Connection id "0HN65E0PV8E1V" completed keep alive response.
2024-08-26 09:34:15.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 1.0427ms
2024-08-26 09:34:15.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:34:15.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:34:15.011 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:34:15.011 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:34:15.011 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:34:15.011 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:34:15.011 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:34:15.011 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:34:15.011 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:34:15.011 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:34:15.011 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:34:15.011 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:34:15.011 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:34:15.012 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:34:15.012 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:34:15.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:34:15.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:15.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:15.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:15.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:15.013 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:34:15.013 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:34:15.013 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:34:15.013 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:34:15.013 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:34:15.013 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:34:15.013 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:34:15.013 +05:30 [DBG] Connection id "0HN65E0PV8E20" completed keep alive response.
2024-08-26 09:34:15.013 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:34:15.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.9654ms
2024-08-26 09:36:25.709 +05:30 [DBG] Connection id "0HN65E0PV8E1V" disconnecting.
2024-08-26 09:36:25.709 +05:30 [DBG] Connection id "0HN65E0PV8E20" disconnecting.
2024-08-26 09:36:25.710 +05:30 [DBG] Connection id "0HN65E0PV8E1V" stopped.
2024-08-26 09:36:25.710 +05:30 [DBG] Connection id "0HN65E0PV8E20" stopped.
2024-08-26 09:36:25.711 +05:30 [DBG] Connection id "0HN65E0PV8E20" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:36:25.711 +05:30 [DBG] Connection id "0HN65E0PV8E1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:39:42.881 +05:30 [DBG] Connection id "0HN65E0PV8E21" accepted.
2024-08-26 09:39:42.881 +05:30 [DBG] Connection id "0HN65E0PV8E21" started.
2024-08-26 09:39:42.881 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:39:42.882 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:39:42.883 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:39:42.883 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:39:42.883 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:39:42.884 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:39:42.884 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:39:42.884 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 2.1815ms
2024-08-26 09:39:42.887 +05:30 [DBG] Connection id "0HN65E0PV8E22" accepted.
2024-08-26 09:39:42.887 +05:30 [DBG] Connection id "0HN65E0PV8E22" started.
2024-08-26 09:39:42.887 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:39:42.887 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:39:42.888 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:39:42.895 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:39:42.895 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:39:42.895 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:09:42 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:39:42.896 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:09:42 AM'.
2024-08-26 09:39:42.896 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:39:42.896 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:39:42.896 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:39:42.897 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:39:42.897 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:39:42.897 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:39:42.916 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:39:42.916 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:39:42.916 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:39:42.916 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:39:42.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:39:42.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:39:42.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:39:42.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:39:42.917 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:39:42.917 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:39:42.917 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:39:42.917 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:39:42.917 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:39:42.917 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:39:42.917 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:39:42.917 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:39:42.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 30.0284ms
2024-08-26 09:40:14.067 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:14.067 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:14.067 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:14.067 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:14.067 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:14.067 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:14.067 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:14.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6452ms
2024-08-26 09:40:14.068 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:14.068 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:14.068 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:14.068 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:14.068 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:14.068 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:40:14.069 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:14 AM'.
2024-08-26 09:40:14.069 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:14.069 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:14.069 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:14.069 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:14.069 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:14.069 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:14.070 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:14.070 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:14.070 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:14.070 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:14.070 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:14.070 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:14.070 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:14.070 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:14.070 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:14.070 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:14.070 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:14.070 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:14.071 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:40:14.071 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:14.071 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:14.071 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:14.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.7878ms
2024-08-26 09:40:17.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:40:17.518 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:40:17.518 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:17.518 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:17.519 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:17.519 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:17.519 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:17.519 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8652ms
2024-08-26 09:40:17.520 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:40:17.520 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:40:17.520 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:17.520 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:17.520 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:17.520 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:17 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:40:17.520 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:17 AM'.
2024-08-26 09:40:17.520 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:17.521 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:17.521 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:17.522 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:17.522 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:17.522 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:17.523 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:17.523 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:40:17.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:40:17.525 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:17.525 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:17.525 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:17.525 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:17.525 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:17.525 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:17.525 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:40:17.525 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:17.525 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:17.525 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:17.526 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.9286ms
2024-08-26 09:40:25.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:40:25.718 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:40:25.719 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:25.719 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.719 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.719 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:25.719 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:25.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.7057ms
2024-08-26 09:40:25.721 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:40:25.722 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:40:25.722 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:25.722 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.723 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.723 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:25 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:40:25.724 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:25 AM'.
2024-08-26 09:40:25.724 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 09:40:25.726 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 09:40:25.726 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 09:40:25.726 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:25.726 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 5.2038ms
2024-08-26 09:40:25.726 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000004": started reading request body.
2024-08-26 09:40:25.726 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000004": done reading request body.
2024-08-26 09:40:25.728 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 09:40:25.728 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:40:25.730 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:25.730 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.730 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.730 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:25.731 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:25.732 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 3.8479ms
2024-08-26 09:40:25.733 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-26 09:40:25.733 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:40:25.733 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:40:25.734 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.734 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.735 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:25 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-26 09:40:25.737 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/26/2024 4:05:12 AM', Current time: '8/26/2024 4:10:25 AM'.
2024-08-26 09:40:25.738 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:25.738 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:40:25.739 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:25.740 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.740 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.741 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.743 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.743 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:40:25.745 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:40:25.745 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.745 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.745 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.746 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.746 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.746 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.746 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.746 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:40:25.746 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:40:25.747 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.747 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.747 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.747 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.747 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.747 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.747 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.747 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:25.747 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.747 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.747 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:25.748 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:25.748 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.748 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.748 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:40:25.748 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:40:25.748 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.748 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:25.750 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:25.750 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.750 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.750 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:25.750 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.750 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:25.750 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.750 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.751 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.751 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:25.751 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.751 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.751 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:25.751 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:25.751 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.751 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.751 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:25.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:25.752 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.752 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:25.753 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:25.753 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.753 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.753 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:25.753 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.753 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:25.753 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:25.753 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 09:40:25.753 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:40:25.753 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:25.753 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:25.754 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 20.9967ms
2024-08-26 09:40:25.754 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000005": started reading request body.
2024-08-26 09:40:25.754 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000005": done reading request body.
2024-08-26 09:40:25.756 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:40:25.756 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:40:25.756 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:25.757 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.757 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.757 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:40:25.757 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:40:25.757 +05:30 [DBG] Authorization was successful.
2024-08-26 09:40:25.757 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:25.757 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:25.757 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000006": started reading request body.
2024-08-26 09:40:25.757 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000006": done reading request body.
2024-08-26 09:40:25.758 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:25.758 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.758 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.758 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.758 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.759 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:40:25.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:40:25.760 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.760 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.760 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.760 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.760 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.760 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.760 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.760 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:40:25.761 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:40:25.761 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.761 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.761 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.761 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.761 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.761 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.761 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.761 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:25.762 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:25.762 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.762 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.762 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.762 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.762 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.762 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.762 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.762 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.763 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:25.763 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:25.763 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.763 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.763 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.763 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.763 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.763 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.764 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:25.764 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.764 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.764 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:25.765 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:25.765 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.765 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.765 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:40:25.766 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:40:25.766 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.766 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:25.766 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:25.766 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.766 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.766 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:25.766 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.766 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:25.767 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.767 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.767 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:25.767 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:25.767 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.767 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.767 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:25.767 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:25.767 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.767 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.768 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:25.768 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:25.768 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.768 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:25.768 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:25.768 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.768 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.768 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:25.768 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.769 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:25.769 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:40:25.769 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:40:25.769 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:25.769 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:25.769 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:25.769 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 12.7691ms
2024-08-26 09:40:25.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:25.792 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:25.792 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:25.792 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.792 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.792 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:25.792 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:25.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.4535ms
2024-08-26 09:40:25.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:25.793 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:25.793 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:25.793 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:25.793 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:25.793 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:40:25.793 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:40:25.793 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:25.793 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:25.794 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:25.794 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:25.794 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:25.794 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.794 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.794 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:25.795 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:25.795 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.795 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.795 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.795 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.795 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:25.795 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:25.795 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.795 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:25.795 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:25.795 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:40:25.795 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:25.795 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:25.795 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:25.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.6093ms
2024-08-26 09:40:34.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:40:34.396 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:40:34.396 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:34.396 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:34.397 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:34.397 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:34.397 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:34.397 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.4587ms
2024-08-26 09:40:34.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:40:34.399 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:40:34.399 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:34.399 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:34.399 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:34.399 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:40:34.399 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:40:34.399 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:34.399 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:34.400 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:34.400 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:34.400 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:34.401 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:34.401 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:34.401 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:40:34.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:40:34.402 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:34.402 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:34.402 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:34.402 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:34.403 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:34.403 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:34.403 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:40:34.403 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:40:34.403 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:34.403 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:34.403 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 4.7444ms
2024-08-26 09:40:37.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:40:37.855 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:40:37.855 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:37.855 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:37.855 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:37.856 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:37.856 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:37.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.0854ms
2024-08-26 09:40:37.857 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:40:37.857 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:40:37.857 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:37.858 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:37.858 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:37.858 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:40:37.858 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:40:37.858 +05:30 [DBG] Authorization was successful.
2024-08-26 09:40:37.858 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:37.858 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:37.858 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000009": started reading request body.
2024-08-26 09:40:37.858 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:00000009": done reading request body.
2024-08-26 09:40:37.859 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:37.862 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.862 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.862 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.869 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.878 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:40:37.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:40:37.879 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.879 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.879 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.879 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.880 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.880 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.880 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.880 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:40:37.880 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:40:37.880 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.881 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.881 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.881 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.881 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.881 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.881 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.882 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:37.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:37.883 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.883 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.883 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.883 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.884 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.884 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.884 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.884 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.884 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:37.885 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:40:37.885 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.885 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.885 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.885 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.885 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:37.885 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:37.885 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:37.885 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.886 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.886 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:37.886 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:37.887 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.887 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.887 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:40:37.887 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:40:37.888 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.888 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:37.888 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:37.888 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.888 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.888 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:37.888 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.888 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:37.889 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.889 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:40:37.889 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:40:37.889 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:40:37.889 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.889 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.889 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:40:37.890 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:40:37.890 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.890 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.890 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:37.891 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:40:37.891 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.891 +05:30 [DBG] Committing transaction.
2024-08-26 09:40:37.892 +05:30 [DBG] Committed transaction.
2024-08-26 09:40:37.892 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.892 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.892 +05:30 [DBG] Disposing transaction.
2024-08-26 09:40:37.892 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.892 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:40:37.893 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:40:37.893 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:40:37.893 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:40:37.893 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:37.893 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:37.893 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 35.9565ms
2024-08-26 09:40:37.913 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:37.913 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:37.913 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:40:37.913 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:37.913 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:37.913 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:40:37.913 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:40:37.913 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.3572ms
2024-08-26 09:40:37.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:40:37.914 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:40:37.914 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:37.914 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:40:37.914 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:40:37.914 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:40:37.914 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:40:37.914 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:40:37.914 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:37.915 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:40:37.915 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:40:37.915 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:40:37.915 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.916 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.916 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:37.916 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:40:37.916 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.916 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.916 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.917 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:40:37.917 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:40:37.917 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.917 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:40:37.917 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:40:37.917 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:40:37.917 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:40:37.917 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:40:37.917 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:40:37.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.1279ms
2024-08-26 09:41:51.962 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:41:51.963 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:41:51.963 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:41:51.963 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:51.963 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:51.963 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:41:51.963 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:41:51.963 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.3371ms
2024-08-26 09:41:51.963 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:41:51.963 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:41:51.964 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:51.964 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:51.964 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:51.964 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:41:51.964 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:41:51.964 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:41:51.964 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:51.964 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:41:51.965 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:51.965 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:51.965 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:51.965 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:51.965 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:41:51.965 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:41:51.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:51.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:51.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:51.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:51.966 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:51.966 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:51.966 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:51.966 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:51.966 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:41:51.966 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:41:51.966 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:51.966 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:41:51.966 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:41:51.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.8026ms
2024-08-26 09:41:54.241 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:41:54.241 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:41:54.241 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:41:54.241 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:54.241 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:54.241 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:41:54.242 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:41:54.242 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.794ms
2024-08-26 09:41:54.242 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:41:54.243 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:41:54.243 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:41:54.243 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:54.243 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:54.243 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:41:54.243 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:41:54.243 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:41:54.243 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:41:54.244 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:41:54.245 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:54.245 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:54.245 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:54.245 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:54.245 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:41:54.246 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:41:54.246 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:54.246 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:54.247 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:54.247 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:54.247 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:54.248 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:41:54.248 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:41:54.248 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:41:54.248 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:41:54.248 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:41:54.248 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.7585ms
2024-08-26 09:41:57.214 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:41:57.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:41:57.215 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:41:57.215 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:57.215 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:57.215 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:41:57.215 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:41:57.215 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.8831ms
2024-08-26 09:41:57.216 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:41:57.216 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:41:57.216 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:41:57.216 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:57.216 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:57.221 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:41:57.221 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:41:57.221 +05:30 [DBG] Authorization was successful.
2024-08-26 09:41:57.221 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:41:57.221 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:41:57.221 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:0000000D": started reading request body.
2024-08-26 09:41:57.222 +05:30 [DBG] Connection id "0HN65E0PV8E22", Request id "0HN65E0PV8E22:0000000D": done reading request body.
2024-08-26 09:41:57.222 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:41:57.224 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.224 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.224 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.233 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.233 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:41:57.238 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:41:57.239 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.239 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.239 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.240 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.240 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.240 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.240 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.240 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:41:57.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:41:57.241 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.241 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.241 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.242 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.242 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.242 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.242 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.243 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:41:57.243 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:41:57.243 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.244 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.244 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.244 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.245 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.245 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.245 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.246 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.246 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:41:57.246 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:41:57.246 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.246 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.246 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.246 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.246 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:41:57.247 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:41:57.247 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:41:57.247 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.247 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.247 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:41:57.247 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:41:57.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.247 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.247 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:41:57.248 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:41:57.248 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.248 +05:30 [DBG] Committing transaction.
2024-08-26 09:41:57.248 +05:30 [DBG] Committed transaction.
2024-08-26 09:41:57.248 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.248 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.248 +05:30 [DBG] Disposing transaction.
2024-08-26 09:41:57.248 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.248 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:41:57.248 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.248 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:41:57.248 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:41:57.249 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:41:57.249 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.249 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.249 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:41:57.249 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:41:57.249 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.249 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.249 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:41:57.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:41:57.250 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.250 +05:30 [DBG] Committing transaction.
2024-08-26 09:41:57.251 +05:30 [DBG] Committed transaction.
2024-08-26 09:41:57.251 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.251 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.251 +05:30 [DBG] Disposing transaction.
2024-08-26 09:41:57.251 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.251 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:41:57.251 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:41:57.251 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:41:57.251 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:41:57.251 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:41:57.252 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:41:57.252 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 35.419ms
2024-08-26 09:41:57.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:41:57.273 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:41:57.273 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:41:57.273 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:57.273 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:57.273 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:41:57.273 +05:30 [DBG] Connection id "0HN65E0PV8E21" completed keep alive response.
2024-08-26 09:41:57.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6897ms
2024-08-26 09:41:57.274 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:41:57.274 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:41:57.274 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:57.274 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:41:57.275 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:41:57.275 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:41:57.275 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:41:57.275 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:41:57.275 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:57.275 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:41:57.275 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:41:57.275 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:41:57.275 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.276 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.276 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:41:57.276 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:41:57.276 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.276 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.276 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.276 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.276 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:41:57.276 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:41:57.276 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.276 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:41:57.276 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:41:57.276 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:41:57.277 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:41:57.277 +05:30 [DBG] Connection id "0HN65E0PV8E22" completed keep alive response.
2024-08-26 09:41:57.277 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:41:57.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.5225ms
2024-08-26 09:44:08.186 +05:30 [DBG] Connection id "0HN65E0PV8E21" disconnecting.
2024-08-26 09:44:08.186 +05:30 [DBG] Connection id "0HN65E0PV8E22" disconnecting.
2024-08-26 09:44:08.187 +05:30 [DBG] Connection id "0HN65E0PV8E21" stopped.
2024-08-26 09:44:08.187 +05:30 [DBG] Connection id "0HN65E0PV8E22" stopped.
2024-08-26 09:44:08.188 +05:30 [DBG] Connection id "0HN65E0PV8E22" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:44:08.188 +05:30 [DBG] Connection id "0HN65E0PV8E21" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:45:13.359 +05:30 [DBG] Connection id "0HN65E0PV8E23" accepted.
2024-08-26 09:45:13.359 +05:30 [DBG] Connection id "0HN65E0PV8E23" started.
2024-08-26 09:45:13.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:45:13.360 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:45:13.360 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:13.361 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:45:13.361 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:45:13.361 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:45:13.361 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:45:13.361 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:13.362 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:45:13.363 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:45:13.363 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:45:13.363 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:45:13.364 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:45:13.364 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:45:13.365 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:45:13.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:13.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:13.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:13.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:13.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:13.365 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:45:13.366 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:45:13.366 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:45:13.366 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:45:13.366 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:45:13.366 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:13.366 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:45:13.366 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:45:13.366 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 6.2566ms
2024-08-26 09:45:38.353 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:45:38.353 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:45:38.353 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:38.353 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:45:38.353 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:45:38.353 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:45:38.353 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:45:38.353 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:38.354 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:45:38.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:45:38.355 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:45:38.355 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:45:38.355 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:45:38.355 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:45:38.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:45:38.356 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:38.356 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:38.356 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:38.356 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:38.356 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:45:38.357 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:45:38.357 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:45:38.357 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:45:38.357 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:45:38.357 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:45:38.357 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:45:38.357 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:45:38.357 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:45:38.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.6519ms
2024-08-26 09:46:06.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:46:06.358 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:46:06.358 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:46:06.358 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:46:06.359 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:46:06.359 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:46:06.359 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:46:06.359 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:46:06.360 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:46:06.360 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:46:06.361 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:46:06.361 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:46:06.361 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:46:06.361 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:46:06.362 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:46:06.362 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:46:06.362 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:46:06.362 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:46:06.362 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:46:06.363 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:46:06.363 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:46:06.363 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:46:06.363 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:46:06.363 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:46:06.363 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:46:06.363 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:46:06.363 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:46:06.364 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:46:06.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 6.294ms
2024-08-26 09:47:34.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:47:34.336 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:47:34.336 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:47:34.336 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:47:34.336 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:47:34.336 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:47:34.337 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:47:34.337 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:47:34.337 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:47:34.338 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:47:34.338 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:47:34.338 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:47:34.338 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:47:34.339 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:47:34.339 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:47:34.339 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:47:34.340 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:47:34.340 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:47:34.340 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:47:34.340 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:47:34.340 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:47:34.340 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:47:34.340 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:47:34.340 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:47:34.341 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:47:34.341 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:47:34.341 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:47:34.341 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:47:34.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.4929ms
2024-08-26 09:48:36.361 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:48:36.361 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:48:36.362 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:48:36.362 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:48:36.362 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:48:36.362 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:48:36.362 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:48:36.362 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:48:36.363 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:48:36.363 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:48:36.363 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:48:36.363 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:48:36.363 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:48:36.363 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:48:36.364 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:48:36.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:48:36.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:48:36.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:48:36.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:48:36.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:48:36.364 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:48:36.364 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:48:36.364 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:48:36.364 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:48:36.364 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:48:36.364 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:48:36.364 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:48:36.364 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:48:36.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.673ms
2024-08-26 09:49:42.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:49:42.362 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:49:42.362 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:49:42.363 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:49:42.363 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:49:42.363 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:49:42.363 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:49:42.363 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:49:42.364 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:49:42.364 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:49:42.364 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:49:42.364 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:49:42.365 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:49:42.365 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:49:42.365 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:49:42.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:49:42.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:49:42.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:49:42.366 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:49:42.366 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:49:42.366 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:49:42.366 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:49:42.366 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:49:42.366 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:49:42.366 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:49:42.366 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:49:42.366 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:49:42.366 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:49:42.366 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.2752ms
2024-08-26 09:50:38.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:50:38.360 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:50:38.360 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:38.360 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:50:38.360 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:50:38.361 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:50:38.361 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:50:38.361 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:38.362 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:50:38.362 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:50:38.363 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:50:38.363 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:50:38.364 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:50:38.364 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:50:38.364 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:50:38.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:38.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:38.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:38.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:38.365 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:38.365 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:50:38.365 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:50:38.365 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:50:38.365 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:50:38.365 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:50:38.365 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:38.365 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:50:38.365 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:50:38.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.7234ms
2024-08-26 09:50:52.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:50:52.360 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:50:52.360 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:52.360 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:50:52.360 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:50:52.360 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:50:52.360 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:50:52.360 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:52.362 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:50:52.362 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:50:52.362 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:50:52.363 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:50:52.363 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:50:52.363 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:50:52.364 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:50:52.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:52.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:52.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:52.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:52.364 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:50:52.364 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:50:52.364 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:50:52.364 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:50:52.365 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:50:52.365 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:50:52.365 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:50:52.365 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:50:52.365 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:50:52.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 5.1939ms
2024-08-26 09:51:03.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:51:03.654 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:51:03.654 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:03.654 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:03.654 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:03.654 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:51:03.654 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:51:03.654 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:03.655 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:51:03.655 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:03.656 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:03.656 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:03.656 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:03.656 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:51:03.657 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:51:03.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:03.657 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:03.657 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:03.657 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:03.657 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:03.657 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:51:03.657 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:51:03.657 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:03.657 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:51:03.657 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:51:03.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.7587ms
2024-08-26 09:51:13.166 +05:30 [DBG] Connection id "0HN65E0PV8E24" accepted.
2024-08-26 09:51:13.166 +05:30 [DBG] Connection id "0HN65E0PV8E24" started.
2024-08-26 09:51:13.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:51:13.167 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:51:13.167 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:51:13.167 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.167 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.167 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:51:13.167 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:51:13.167 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.626ms
2024-08-26 09:51:13.168 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 162
2024-08-26 09:51:13.168 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:51:13.168 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:51:13.169 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.169 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.169 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:51:13.169 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 09:51:13.169 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 09:51:13.169 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 09:51:13.169 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:51:13.169 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 1.3129ms
2024-08-26 09:51:13.170 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000A": started reading request body.
2024-08-26 09:51:13.170 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000A": done reading request body.
2024-08-26 09:51:13.171 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 09:51:13.172 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:51:13.172 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:51:13.172 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.172 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.172 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:51:13.173 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:51:13.173 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 1.6341ms
2024-08-26 09:51:13.173 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 4
2024-08-26 09:51:13.173 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:51:13.173 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:51:13.173 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.174 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.174 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:51:13.174 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:51:13.174 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:51:13.175 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:51:13.177 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:13.177 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:13.177 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.178 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.178 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:51:13.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:51:13.179 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:13.179 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.179 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.180 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:13.180 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:13.180 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.180 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.180 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:51:13.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:51:13.181 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:13.181 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:13.181 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.181 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.181 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:13.182 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:51:13.182 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:51:13.182 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:51:13.182 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.182 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.182 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:51:13.183 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:51:13.184 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:13.184 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:13.184 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:51:13.185 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:51:13.185 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:13.185 +05:30 [DBG] Committing transaction.
2024-08-26 09:51:13.186 +05:30 [DBG] Committed transaction.
2024-08-26 09:51:13.186 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.186 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.186 +05:30 [DBG] Disposing transaction.
2024-08-26 09:51:13.186 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:13.186 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:51:13.187 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:13.187 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:51:13.187 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:51:13.187 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:51:13.187 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.187 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.187 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:51:13.188 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:51:13.188 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:13.188 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:13.188 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:51:13.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:51:13.189 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:13.189 +05:30 [DBG] Committing transaction.
2024-08-26 09:51:13.190 +05:30 [DBG] Committed transaction.
2024-08-26 09:51:13.190 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.190 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:13.190 +05:30 [DBG] Disposing transaction.
2024-08-26 09:51:13.190 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:13.190 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:51:13.190 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:51:13.190 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 09:51:13.190 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:51:13.190 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:51:13.190 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:51:13.190 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 17.1829ms
2024-08-26 09:51:13.191 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000B": started reading request body.
2024-08-26 09:51:13.191 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000B": done reading request body.
2024-08-26 09:51:13.193 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:51:13.193 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:51:13.193 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:51:13.193 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.193 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.193 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:51:13.193 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:51:13.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.7558ms
2024-08-26 09:51:13.194 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 210
2024-08-26 09:51:13.194 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:51:13.194 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:51:13.194 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:13.194 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:13.195 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:51:13.195 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:51:13.195 +05:30 [DBG] Authorization was successful.
2024-08-26 09:51:13.195 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:51:13.195 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:51:13.195 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000C": started reading request body.
2024-08-26 09:51:13.195 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000C": done reading request body.
2024-08-26 09:51:13.197 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:51:13.202 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "UpdatePatientRequest request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to Health.Api.Models.Requests.Patient.UpdatePatientRequest. Path: $ | LineNumber: 0 | BytePositionInLine: 210.
   at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-26 09:51:13.204 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:51:13.204 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 400 null text/plain; charset=utf-8 10.0969ms
2024-08-26 09:51:58.487 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:51:58.488 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:51:58.488 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:58.488 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:51:58.488 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:51:58.488 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:51:58.488 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:51:58.488 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:58.489 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:51:58.489 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:51:58.489 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:51:58.489 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:51:58.490 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:51:58.490 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:51:58.490 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:51:58.490 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:58.491 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:51:58.491 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:51:58.491 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:51:58.491 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:51:58.491 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:51:58.491 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:51:58.491 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:51:58.491 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:51:58.491 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:51:58.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.6646ms
2024-08-26 09:52:06.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:52:06.343 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:52:06.343 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:52:06.343 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.343 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.343 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:52:06.343 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:52:06.343 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.7739ms
2024-08-26 09:52:06.344 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:52:06.344 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:52:06.344 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:52:06.344 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.344 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.344 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:52:06.344 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 09:52:06.344 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 09:52:06.344 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 09:52:06.345 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:52:06.345 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 401 0 null 1.0532ms
2024-08-26 09:52:06.345 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000E": started reading request body.
2024-08-26 09:52:06.345 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000E": done reading request body.
2024-08-26 09:52:06.346 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 09:52:06.347 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:52:06.347 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:52:06.347 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.347 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.347 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:52:06.347 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:52:06.347 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.4647ms
2024-08-26 09:52:06.347 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-26 09:52:06.347 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 09:52:06.347 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:52:06.348 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.348 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.348 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:52:06.348 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:52:06.348 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:52:06.349 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:52:06.350 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.350 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.350 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.351 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.351 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:52:06.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:52:06.352 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.352 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.352 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.353 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.355 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-08-26 09:52:06.355 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.356 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.356 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:52:06.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 09:52:06.358 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.358 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.358 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.358 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.358 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.358 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.358 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.358 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:52:06.358 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.359 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.359 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:52:06.359 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:52:06.360 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.360 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.360 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:52:06.361 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 09:52:06.361 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.361 +05:30 [DBG] Committing transaction.
2024-08-26 09:52:06.362 +05:30 [DBG] Committed transaction.
2024-08-26 09:52:06.362 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.362 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.362 +05:30 [DBG] Disposing transaction.
2024-08-26 09:52:06.362 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.362 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:52:06.363 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.363 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.363 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.363 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:52:06.363 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.363 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.363 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:52:06.363 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:52:06.364 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.364 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.364 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:52:06.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:52:06.364 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.364 +05:30 [DBG] Committing transaction.
2024-08-26 09:52:06.365 +05:30 [DBG] Committed transaction.
2024-08-26 09:52:06.365 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.365 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.365 +05:30 [DBG] Disposing transaction.
2024-08-26 09:52:06.365 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.366 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:52:06.366 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:52:06.366 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 09:52:06.366 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 09:52:06.366 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:52:06.366 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:52:06.366 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 18.8808ms
2024-08-26 09:52:06.367 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000F": started reading request body.
2024-08-26 09:52:06.367 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:0000000F": done reading request body.
2024-08-26 09:52:06.368 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:52:06.368 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:52:06.368 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:52:06.368 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.368 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.368 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:52:06.368 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:52:06.368 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.3025ms
2024-08-26 09:52:06.369 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 138
2024-08-26 09:52:06.369 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:52:06.369 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:52:06.369 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.369 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.369 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:52:06.369 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:52:06.369 +05:30 [DBG] Authorization was successful.
2024-08-26 09:52:06.369 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:52:06.369 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:52:06.369 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:00000010": started reading request body.
2024-08-26 09:52:06.370 +05:30 [DBG] Connection id "0HN65E0PV8E23", Request id "0HN65E0PV8E23:00000010": done reading request body.
2024-08-26 09:52:06.371 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:52:06.371 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.371 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.371 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.372 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.372 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:52:06.373 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:52:06.373 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.373 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.373 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.373 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.373 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.373 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.374 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.374 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:52:06.374 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:52:06.374 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.374 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.374 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.375 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.375 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.375 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.375 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.375 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:52:06.376 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:52:06.376 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.376 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.376 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.376 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.376 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.376 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.377 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.377 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.377 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:52:06.377 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:52:06.378 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.378 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.378 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.378 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.378 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.378 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.378 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:52:06.378 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.378 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.378 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:52:06.378 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:52:06.379 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.379 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.379 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:52:06.379 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:52:06.379 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.379 +05:30 [DBG] Committing transaction.
2024-08-26 09:52:06.379 +05:30 [DBG] Committed transaction.
2024-08-26 09:52:06.379 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.379 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.379 +05:30 [DBG] Disposing transaction.
2024-08-26 09:52:06.380 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.380 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:52:06.380 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.380 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.380 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:52:06.380 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:52:06.380 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.380 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.380 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:52:06.381 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:52:06.381 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.381 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.381 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:52:06.381 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:52:06.381 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.382 +05:30 [DBG] Committing transaction.
2024-08-26 09:52:06.382 +05:30 [DBG] Committed transaction.
2024-08-26 09:52:06.382 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.382 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.382 +05:30 [DBG] Disposing transaction.
2024-08-26 09:52:06.382 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.382 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:52:06.382 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:52:06.382 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:52:06.382 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:52:06.382 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:52:06.382 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:52:06.382 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 13.5832ms
2024-08-26 09:52:06.407 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:52:06.408 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:52:06.408 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:52:06.408 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.408 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.408 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:52:06.408 +05:30 [DBG] Connection id "0HN65E0PV8E24" completed keep alive response.
2024-08-26 09:52:06.408 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.4713ms
2024-08-26 09:52:06.409 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:52:06.409 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:52:06.409 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:52:06.409 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:52:06.409 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:52:06.409 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:52:06.409 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:52:06.409 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:52:06.409 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:52:06.410 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:52:06.410 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:52:06.410 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:52:06.411 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.411 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.411 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:52:06.411 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:52:06.411 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.412 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:52:06.412 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:52:06.412 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.412 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:52:06.412 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:52:06.412 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:52:06.412 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:52:06.412 +05:30 [DBG] Connection id "0HN65E0PV8E23" completed keep alive response.
2024-08-26 09:52:06.412 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:52:06.412 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.1262ms
2024-08-26 09:54:16.823 +05:30 [DBG] Connection id "0HN65E0PV8E24" disconnecting.
2024-08-26 09:54:16.823 +05:30 [DBG] Connection id "0HN65E0PV8E23" disconnecting.
2024-08-26 09:54:16.824 +05:30 [DBG] Connection id "0HN65E0PV8E24" stopped.
2024-08-26 09:54:16.824 +05:30 [DBG] Connection id "0HN65E0PV8E23" stopped.
2024-08-26 09:54:16.824 +05:30 [DBG] Connection id "0HN65E0PV8E23" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:54:16.824 +05:30 [DBG] Connection id "0HN65E0PV8E24" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:54:28.352 +05:30 [DBG] Connection id "0HN65E0PV8E25" accepted.
2024-08-26 09:54:28.352 +05:30 [DBG] Connection id "0HN65E0PV8E25" started.
2024-08-26 09:54:28.352 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:54:28.352 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:54:28.352 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:54:28.352 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:28.352 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:28.352 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:54:28.352 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:54:28.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.2531ms
2024-08-26 09:54:28.353 +05:30 [DBG] Connection id "0HN65E0PV8E26" accepted.
2024-08-26 09:54:28.353 +05:30 [DBG] Connection id "0HN65E0PV8E26" started.
2024-08-26 09:54:28.353 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:54:28.353 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:54:28.353 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:54:28.353 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:28.353 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:28.354 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:54:28.354 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:54:28.354 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:54:28.354 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:54:28.354 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:54:28.354 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:54:28.354 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:54:28.354 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:54:28.354 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:54:28.355 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:54:28.355 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:54:28.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:28.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:28.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:28.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:28.355 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:28.355 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:54:28.355 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:54:28.355 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:54:28.355 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:54:28.355 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:54:28.355 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:54:28.355 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:54:28.355 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:54:28.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.2873ms
2024-08-26 09:54:35.690 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:54:35.691 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:54:35.691 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:54:35.691 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:35.691 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:35.691 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:54:35.691 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:54:35.691 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.7296ms
2024-08-26 09:54:35.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:54:35.693 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:54:35.693 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:54:35.693 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:35.693 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:35.705 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:54:35.705 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:54:35.705 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:54:35.705 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:54:35.707 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:54:35.707 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:54:35.707 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:54:35.707 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:54:35.707 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:54:35.708 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:54:35.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:54:35.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:35.708 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:54:35.709 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:54:35.709 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:54:35.709 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:54:35.710 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:54:35.710 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:54:35.710 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:54:35.710 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:54:35.710 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:54:35.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 17.5486ms
2024-08-26 09:54:40.552 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:54:40.552 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:54:40.552 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:54:40.552 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:40.552 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:40.552 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:54:40.552 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:54:40.552 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9822ms
2024-08-26 09:54:40.554 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 124
2024-08-26 09:54:40.554 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:54:40.554 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:54:40.554 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:54:40.554 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:54:40.554 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:54:40.554 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:54:40.554 +05:30 [DBG] Authorization was successful.
2024-08-26 09:54:40.554 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:54:40.554 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:54:40.554 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:00000003": started reading request body.
2024-08-26 09:54:40.555 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:00000003": done reading request body.
2024-08-26 09:54:40.556 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:54:40.558 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "UpdatePatientRequest request" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.DateTime. Path: $.dateOfBirth | LineNumber: 0 | BytePositionInLine: 123.
 ---> System.FormatException: The JSON value is not in a supported DateTime format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Utf8JsonReader.GetDateTime()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-26 09:54:40.561 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:54:40.561 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 400 null text/plain; charset=utf-8 7.6066ms
2024-08-26 09:55:25.513 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:55:25.513 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:55:25.514 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:55:25.514 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:55:25.514 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:55:25.514 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:55:25.514 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:55:25.514 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1037ms
2024-08-26 09:55:25.515 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:55:25.515 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:55:25.515 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:55:25.515 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:55:25.515 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:55:25.516 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:55:25.516 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:55:25.516 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:55:25.516 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:55:25.516 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:55:25.516 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:55:25.517 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:55:25.517 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:55:25.517 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:55:25.517 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:55:25.518 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:55:25.518 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:55:25.518 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:55:25.518 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:55:25.518 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:55:25.518 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:55:25.518 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:55:25.518 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:55:25.518 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:55:25.518 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:55:25.518 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:55:25.518 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.0625ms
2024-08-26 09:56:37.901 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-26 09:56:37.901 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:56:37.901 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:56:37.901 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:37.901 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:37.901 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:56:37.901 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:56:37.901 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.6311ms
2024-08-26 09:56:37.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-26 09:56:37.902 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-26 09:56:37.902 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:56:37.902 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:37.902 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:37.902 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:56:37.902 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:56:37.902 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:56:37.902 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:56:37.902 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:56:37.903 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:37.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:37.903 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:37.903 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:37.903 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:56:37.903 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-26 09:56:37.904 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:37.904 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:37.904 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:37.904 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:37.904 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:37.904 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:56:37.904 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:56:37.904 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-26 09:56:37.904 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:56:37.904 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:56:37.904 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 2.2728ms
2024-08-26 09:56:50.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-26 09:56:50.919 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:56:50.920 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:56:50.920 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:50.920 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:50.920 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:56:50.920 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:56:50.920 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 1.0869ms
2024-08-26 09:56:50.921 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients - application/json 124
2024-08-26 09:56:50.921 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-26 09:56:50.921 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:56:50.921 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:50.921 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:50.921 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:56:50.922 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:56:50.922 +05:30 [DBG] Authorization was successful.
2024-08-26 09:56:50.922 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:56:50.922 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:56:50.922 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:00000006": started reading request body.
2024-08-26 09:56:50.923 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:00000006": done reading request body.
2024-08-26 09:56:50.924 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:56:50.924 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.924 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.925 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.926 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.926 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:56:50.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime), @__patientId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE (((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)) AND (`p`.`PatientId` <> @__patientId_3)
LIMIT 1
2024-08-26 09:56:50.927 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.927 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.927 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.928 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.928 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.928 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.928 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.928 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:56:50.929 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-26 09:56:50.929 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.929 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.929 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.930 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.930 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.930 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.930 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.930 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:56:50.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:56:50.931 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.931 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.931 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.931 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.931 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.932 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.932 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.932 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.932 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:56:50.932 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE `p`.`PatientId` = @__patientId_0
LIMIT 1
2024-08-26 09:56:50.933 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.933 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.933 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.933 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.933 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:56:50.933 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:56:50.933 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:56:50.933 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.933 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.933 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:56:50.934 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:56:50.934 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.934 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.934 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:56:50.935 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-26 09:56:50.935 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.935 +05:30 [DBG] Committing transaction.
2024-08-26 09:56:50.937 +05:30 [DBG] Committed transaction.
2024-08-26 09:56:50.937 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.937 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.937 +05:30 [DBG] Disposing transaction.
2024-08-26 09:56:50.937 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.937 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:56:50.937 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.937 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 09:56:50.938 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 09:56:50.938 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 09:56:50.938 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.938 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.938 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 09:56:50.938 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 09:56:50.939 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.939 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.939 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:56:50.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 09:56:50.940 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.940 +05:30 [DBG] Committing transaction.
2024-08-26 09:56:50.940 +05:30 [DBG] Committed transaction.
2024-08-26 09:56:50.940 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.940 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.940 +05:30 [DBG] Disposing transaction.
2024-08-26 09:56:50.940 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.941 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 09:56:50.941 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 09:56:50.941 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-26 09:56:50.941 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients => UpdatePatientAsync'
2024-08-26 09:56:50.941 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:56:50.941 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:56:50.941 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients - 202 null application/json; charset=utf-8 20.1087ms
2024-08-26 09:56:50.967 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:56:50.968 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:56:50.968 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 09:56:50.968 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:50.968 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:50.968 +05:30 [DBG] The request is a preflight request.
2024-08-26 09:56:50.968 +05:30 [DBG] Connection id "0HN65E0PV8E25" completed keep alive response.
2024-08-26 09:56:50.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.3778ms
2024-08-26 09:56:50.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:56:50.968 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:56:50.968 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:56:50.968 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:56:50.968 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:56:50.969 +05:30 [DBG] Successfully validated the token.
2024-08-26 09:56:50.969 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 09:56:50.969 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:56:50.969 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:56:50.969 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:56:50.969 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:56:50.969 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:56:50.970 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.970 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.970 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:56:50.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:56:50.971 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.971 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.971 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.971 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.971 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:56:50.971 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:56:50.971 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.972 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:56:50.972 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:56:50.972 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:56:50.972 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:56:50.972 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:56:50.972 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:56:50.972 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 4.1201ms
2024-08-26 09:58:05.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:58:05.936 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:58:05.936 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:05.936 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:58:05.936 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:58:05.936 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:58:05.936 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:58:05.936 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:05.937 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:58:05.937 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:58:05.937 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:58:05.937 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:58:05.937 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:58:05.938 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:05.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:05.938 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:05.938 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:05.938 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:05.939 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:05.939 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:05.939 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:58:05.939 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:58:05.939 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:58:05.939 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:58:05.939 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:58:05.939 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:05.939 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:58:05.939 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:58:05.939 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.5252ms
2024-08-26 09:58:30.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:58:30.533 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:58:30.533 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:30.533 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:58:30.533 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:58:30.533 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:58:30.534 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:58:30.534 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:30.534 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:58:30.534 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:58:30.534 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:58:30.535 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:58:30.535 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:58:30.535 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:30.536 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:30.536 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:30.536 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:30.536 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:30.536 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:30.536 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:30.536 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:58:30.536 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:58:30.536 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:58:30.536 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:58:30.536 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:58:30.536 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:30.536 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:58:30.536 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:58:30.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.7605ms
2024-08-26 09:58:43.912 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:58:43.913 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:58:43.913 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:43.913 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:58:43.913 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:58:43.913 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:58:43.913 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:58:43.913 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:43.913 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:58:43.913 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:58:43.913 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:58:43.913 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:58:43.914 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:58:43.914 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:43.914 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:58:43.914 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:43.914 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:43.914 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:43.914 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:43.914 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:58:43.914 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:58:43.914 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:58:43.914 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:58:43.915 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:58:43.915 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:58:43.915 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:58:43.915 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:58:43.915 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:58:43.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 2.3753ms
2024-08-26 09:59:01.115 +05:30 [DBG] Connection id "0HN65E0PV8E25" disconnecting.
2024-08-26 09:59:01.116 +05:30 [DBG] Connection id "0HN65E0PV8E25" stopped.
2024-08-26 09:59:01.116 +05:30 [DBG] Connection id "0HN65E0PV8E25" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 09:59:03.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:59:03.217 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:59:03.217 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:03.217 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:59:03.217 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:59:03.217 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:59:03.217 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:59:03.217 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:03.217 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:59:03.218 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:59:03.218 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:59:03.218 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:59:03.218 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:59:03.218 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:59:03.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:59:03.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:03.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:03.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:03.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:03.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:03.220 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:59:03.220 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:59:03.220 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:59:03.220 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:59:03.220 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:59:03.220 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:03.220 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:59:03.220 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:59:03.220 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.7986ms
2024-08-26 09:59:14.400 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 09:59:14.400 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 09:59:14.400 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:14.400 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 09:59:14.400 +05:30 [INF] CORS policy execution successful.
2024-08-26 09:59:14.400 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 09:59:14.401 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 09:59:14.401 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:14.401 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 09:59:14.401 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 09:59:14.401 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 09:59:14.402 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 09:59:14.402 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 09:59:14.402 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:59:14.402 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 09:59:14.402 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:14.403 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:14.403 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:14.403 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:14.403 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 09:59:14.403 +05:30 [DBG] A data reader was disposed.
2024-08-26 09:59:14.403 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 09:59:14.403 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 09:59:14.403 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 09:59:14.403 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 09:59:14.403 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 09:59:14.403 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 09:59:14.403 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 09:59:14.403 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 3.1943ms
2024-08-26 10:00:02.169 +05:30 [DBG] Connection id "0HN65E0PV8E27" accepted.
2024-08-26 10:00:02.170 +05:30 [DBG] Connection id "0HN65E0PV8E27" started.
2024-08-26 10:00:02.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null null
2024-08-26 10:00:02.170 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:00:02.170 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:00:02.170 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.170 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.170 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:00:02.170 +05:30 [DBG] Connection id "0HN65E0PV8E27" completed keep alive response.
2024-08-26 10:00:02.170 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.4507ms
2024-08-26 10:00:02.171 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 179
2024-08-26 10:00:02.171 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:00:02.171 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 10:00:02.171 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.171 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.171 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 10:00:02.171 +05:30 [DBG] Policy authentication schemes  did not succeed
2024-08-26 10:00:02.171 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-26 10:00:02.172 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-26 10:00:02.172 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 10:00:02.172 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 401 0 null 0.8413ms
2024-08-26 10:00:02.172 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000D": started reading request body.
2024-08-26 10:00:02.172 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000D": done reading request body.
2024-08-26 10:00:02.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - null null
2024-08-26 10:00:02.173 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 10:00:02.173 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:00:02.173 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.174 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.174 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:00:02.174 +05:30 [DBG] Connection id "0HN65E0PV8E27" completed keep alive response.
2024-08-26 10:00:02.174 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/refreshtoken - 204 null null 0.3638ms
2024-08-26 10:00:02.174 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - application/json 2
2024-08-26 10:00:02.175 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/refreshtoken'
2024-08-26 10:00:02.175 +05:30 [DBG] Request matched endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 10:00:02.175 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.175 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.175 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-26 10:00:02.175 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:00:02.175 +05:30 [INF] Executing endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 10:00:02.176 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:00:02.176 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.176 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.176 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.177 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.177 +05:30 [DBG] Executing DbCommand [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.178 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AppUserId`, `c`.`Username`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE (`c`.`Token` = @__refreshTokenId_0) AND `c`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.178 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.178 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.178 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.179 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.179 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.179 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.180 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.180 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.181 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.181 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.182 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.182 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.182 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.182 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.182 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.182 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:00:02.182 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.183 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.183 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:00:02.183 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:00:02.183 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.183 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.183 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 10:00:02.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-26 10:00:02.184 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.184 +05:30 [DBG] Committing transaction.
2024-08-26 10:00:02.185 +05:30 [DBG] Committed transaction.
2024-08-26 10:00:02.185 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.185 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.185 +05:30 [DBG] Disposing transaction.
2024-08-26 10:00:02.185 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.185 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 10:00:02.185 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.185 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.185 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.186 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:00:02.186 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.186 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.186 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:00:02.186 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:00:02.186 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.186 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.186 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 10:00:02.187 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 10:00:02.187 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.187 +05:30 [DBG] Committing transaction.
2024-08-26 10:00:02.187 +05:30 [DBG] Committed transaction.
2024-08-26 10:00:02.187 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.187 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.187 +05:30 [DBG] Disposing transaction.
2024-08-26 10:00:02.187 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.187 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 10:00:02.188 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 10:00:02.188 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-26 10:00:02.188 +05:30 [INF] Executed endpoint 'HTTP: PATCH /api/users/refreshtoken => RefreshTokenAsync'
2024-08-26 10:00:02.188 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 10:00:02.188 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:00:02.188 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5242/api/users/refreshtoken - 200 null application/json; charset=utf-8 13.7069ms
2024-08-26 10:00:02.188 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000E": started reading request body.
2024-08-26 10:00:02.188 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000E": done reading request body.
2024-08-26 10:00:02.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null null
2024-08-26 10:00:02.190 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:00:02.190 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:00:02.190 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.190 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.190 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:00:02.191 +05:30 [DBG] Connection id "0HN65E0PV8E27" completed keep alive response.
2024-08-26 10:00:02.191 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.6435ms
2024-08-26 10:00:02.191 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 179
2024-08-26 10:00:02.191 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:00:02.191 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 10:00:02.191 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.191 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.192 +05:30 [DBG] Successfully validated the token.
2024-08-26 10:00:02.192 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 10:00:02.192 +05:30 [DBG] Authorization was successful.
2024-08-26 10:00:02.192 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:00:02.192 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 10:00:02.192 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000F": started reading request body.
2024-08-26 10:00:02.192 +05:30 [DBG] Connection id "0HN65E0PV8E26", Request id "0HN65E0PV8E26:0000000F": done reading request body.
2024-08-26 10:00:02.211 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:00:02.212 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.212 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.214 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.216 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.216 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 10:00:02.218 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 10:00:02.218 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.218 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.218 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.219 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.219 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.219 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.220 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.220 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.221 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:00:02.221 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.221 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.221 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.221 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.221 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.221 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.221 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.221 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:00:02.221 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.223 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.223 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:00:02.223 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:00:02.224 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.224 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.224 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-26 10:00:02.225 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-26 10:00:02.225 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-26 10:00:02.225 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.225 +05:30 [DBG] Committing transaction.
2024-08-26 10:00:02.226 +05:30 [DBG] Committed transaction.
2024-08-26 10:00:02.226 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.226 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.226 +05:30 [DBG] Disposing transaction.
2024-08-26 10:00:02.226 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.226 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.227 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.227 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:00:02.227 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:00:02.227 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.227 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.227 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:00:02.227 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:00:02.228 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-26 10:00:02.228 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.228 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.228 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-26 10:00:02.230 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-26 10:00:02.230 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.230 +05:30 [DBG] Committing transaction.
2024-08-26 10:00:02.231 +05:30 [DBG] Committed transaction.
2024-08-26 10:00:02.231 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.231 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.231 +05:30 [DBG] Disposing transaction.
2024-08-26 10:00:02.231 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.231 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.231 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.231 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.232 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.232 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.232 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.232 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.232 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-26 10:00:02.232 +05:30 [INF] Setting HTTP status code 201.
2024-08-26 10:00:02.232 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-26 10:00:02.233 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-26 10:00:02.233 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 10:00:02.233 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:00:02.233 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 41.6432ms
2024-08-26 10:00:02.260 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null null
2024-08-26 10:00:02.260 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 10:00:02.260 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:00:02.260 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.260 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.260 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:00:02.260 +05:30 [DBG] Connection id "0HN65E0PV8E27" completed keep alive response.
2024-08-26 10:00:02.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.3887ms
2024-08-26 10:00:02.261 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-26 10:00:02.261 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 10:00:02.261 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:00:02.261 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:00:02.261 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:00:02.261 +05:30 [DBG] Successfully validated the token.
2024-08-26 10:00:02.261 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 10:00:02.261 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:00:02.261 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:00:02.261 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:00:02.262 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:00:02.262 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:00:02.262 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.262 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.262 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 10:00:02.263 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 10:00:02.263 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.263 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.263 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:00:02.263 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:00:02.263 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.263 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:00:02.263 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 10:00:02.263 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 10:00:02.263 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:00:02.263 +05:30 [DBG] Connection id "0HN65E0PV8E26" completed keep alive response.
2024-08-26 10:00:02.263 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:00:02.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 2.7712ms
2024-08-26 10:02:13.314 +05:30 [DBG] Connection id "0HN65E0PV8E26" disconnecting.
2024-08-26 10:02:13.314 +05:30 [DBG] Connection id "0HN65E0PV8E27" disconnecting.
2024-08-26 10:02:13.315 +05:30 [DBG] Connection id "0HN65E0PV8E27" stopped.
2024-08-26 10:02:13.315 +05:30 [DBG] Connection id "0HN65E0PV8E26" stopped.
2024-08-26 10:02:13.316 +05:30 [DBG] Connection id "0HN65E0PV8E27" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 10:02:13.316 +05:30 [DBG] Connection id "0HN65E0PV8E26" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 10:04:11.064 +05:30 [DBG] Connection id "0HN65E0PV8E28" accepted.
2024-08-26 10:04:11.065 +05:30 [DBG] Connection id "0HN65E0PV8E28" started.
2024-08-26 10:04:11.065 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-26 10:04:11.065 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 10:04:11.065 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:04:11.066 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:11.066 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:11.066 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:04:11.066 +05:30 [DBG] Connection id "0HN65E0PV8E28" completed keep alive response.
2024-08-26 10:04:11.066 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.6515ms
2024-08-26 10:04:11.067 +05:30 [DBG] Connection id "0HN65E0PV8E29" accepted.
2024-08-26 10:04:11.067 +05:30 [DBG] Connection id "0HN65E0PV8E29" started.
2024-08-26 10:04:11.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-26 10:04:11.067 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-26 10:04:11.067 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 10:04:11.067 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:11.067 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:11.068 +05:30 [DBG] Successfully validated the token.
2024-08-26 10:04:11.068 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 10:04:11.068 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:04:11.068 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 10:04:11.069 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:04:11.069 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:11.070 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:11.070 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:11.071 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:11.071 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 10:04:11.071 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-26 10:04:11.072 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:11.072 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:11.072 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:11.072 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:11.072 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:11.072 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:11.072 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:11.072 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:11.072 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 10:04:11.072 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 10:04:11.073 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-26 10:04:11.073 +05:30 [DBG] Connection id "0HN65E0PV8E29" completed keep alive response.
2024-08-26 10:04:11.073 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:04:11.073 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 6.1286ms
2024-08-26 10:04:16.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null null
2024-08-26 10:04:16.519 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:04:16.519 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:04:16.519 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:16.519 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:16.519 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:04:16.519 +05:30 [DBG] Connection id "0HN65E0PV8E28" completed keep alive response.
2024-08-26 10:04:16.520 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 0.7312ms
2024-08-26 10:04:16.520 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/identities - application/json 187
2024-08-26 10:04:16.520 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-26 10:04:16.521 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-26 10:04:16.521 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:16.521 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:16.521 +05:30 [DBG] Successfully validated the token.
2024-08-26 10:04:16.521 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 10:04:16.522 +05:30 [DBG] Authorization was successful.
2024-08-26 10:04:16.522 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:04:16.522 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-26 10:04:16.522 +05:30 [DBG] Connection id "0HN65E0PV8E29", Request id "0HN65E0PV8E29:00000002": started reading request body.
2024-08-26 10:04:16.522 +05:30 [DBG] Connection id "0HN65E0PV8E29", Request id "0HN65E0PV8E29:00000002": done reading request body.
2024-08-26 10:04:16.551 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:04:16.552 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Where(p => p.PatientIdentityId.Equals(__patientIdentityId_0) && p.IsActive)
    .FirstOrDefault()'
2024-08-26 10:04:16.555 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientIdentity>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientIdentity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientIdentity.PatientIdentityId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientIdentity.Expiry (DateTime?), 1], [Property: PatientIdentity.IdentityNumber (string) Required, 2], [Property: PatientIdentity.IdentityTypeId (byte) Required, 3], [Property: PatientIdentity.IsActive (bool) Required, 4], [Property: PatientIdentity.IssuedBy (string) Required, 5], [Property: PatientIdentity.PatientId (long) Required, 6], [Property: PatientIdentity.PlaceIssued (string), 7] }
            SELECT TOP(1) p.PatientIdentityId, p.Expiry, p.IdentityNumber, p.IdentityTypeId, p.IsActive, p.IssuedBy, p.PatientId, p.PlaceIssued
            FROM PatientIdentity AS p
            WHERE (p.PatientIdentityId == @__patientIdentityId_0) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentity>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-26 10:04:16.556 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.556 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.556 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.558 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.558 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.559 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.560 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.560 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.560 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.560 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.560 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.560 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.561 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.561 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 10:04:16.561 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-26 10:04:16.561 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.562 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.562 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.562 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.562 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.562 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.562 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.562 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.563 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.563 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.563 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.563 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.564 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.564 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.564 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.564 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.564 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.564 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientIdentityId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (`p`.`PatientIdentityId` = @__patientIdentityId_0) AND `p`.`IsActive`
LIMIT 1
2024-08-26 10:04:16.565 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.565 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.565 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.565 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.565 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:04:16.565 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:04:16.565 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:04:16.565 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.566 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.566 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:04:16.566 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:04:16.567 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.567 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.567 +05:30 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-26 10:04:16.567 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientIdentity` SET `Expiry` = @p0, `IdentityNumber` = @p1, `IdentityTypeId` = @p2, `IsActive` = @p3, `IssuedBy` = @p4, `PatientId` = @p5, `PlaceIssued` = @p6
WHERE `PatientIdentityId` = @p7;
SELECT ROW_COUNT();
2024-08-26 10:04:16.567 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.567 +05:30 [DBG] Committing transaction.
2024-08-26 10:04:16.567 +05:30 [DBG] Committed transaction.
2024-08-26 10:04:16.567 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.567 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.567 +05:30 [DBG] Disposing transaction.
2024-08-26 10:04:16.568 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.568 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 10:04:16.568 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.568 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-26 10:04:16.568 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-26 10:04:16.568 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-26 10:04:16.568 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.568 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.568 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-26 10:04:16.568 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-26 10:04:16.568 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.568 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.568 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 10:04:16.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-26 10:04:16.570 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.570 +05:30 [DBG] Committing transaction.
2024-08-26 10:04:16.571 +05:30 [DBG] Committed transaction.
2024-08-26 10:04:16.571 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.571 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.571 +05:30 [DBG] Disposing transaction.
2024-08-26 10:04:16.571 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.571 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-26 10:04:16.571 +05:30 [INF] Setting HTTP status code 202.
2024-08-26 10:04:16.571 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-26 10:04:16.571 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/identities => UpdatePatientIdentityAsync'
2024-08-26 10:04:16.571 +05:30 [DBG] Connection id "0HN65E0PV8E29" completed keep alive response.
2024-08-26 10:04:16.571 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:04:16.571 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/identities - 202 null application/json; charset=utf-8 51.3262ms
2024-08-26 10:04:16.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null null
2024-08-26 10:04:16.593 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 10:04:16.593 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-26 10:04:16.593 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:16.593 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:16.593 +05:30 [DBG] The request is a preflight request.
2024-08-26 10:04:16.594 +05:30 [DBG] Connection id "0HN65E0PV8E28" completed keep alive response.
2024-08-26 10:04:16.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.347ms
2024-08-26 10:04:16.594 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-26 10:04:16.594 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-26 10:04:16.594 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:04:16.594 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-26 10:04:16.594 +05:30 [INF] CORS policy execution successful.
2024-08-26 10:04:16.594 +05:30 [DBG] Successfully validated the token.
2024-08-26 10:04:16.594 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-26 10:04:16.594 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-26 10:04:16.595 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:04:16.595 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-26 10:04:16.595 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-26 10:04:16.595 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-26 10:04:16.595 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.595 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.596 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 10:04:16.596 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-26 10:04:16.596 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.596 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.596 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-26 10:04:16.596 +05:30 [DBG] A data reader was disposed.
2024-08-26 10:04:16.596 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.596 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-26 10:04:16.596 +05:30 [INF] Setting HTTP status code 200.
2024-08-26 10:04:16.596 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-26 10:04:16.596 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-26 10:04:16.596 +05:30 [DBG] Connection id "0HN65E0PV8E29" completed keep alive response.
2024-08-26 10:04:16.596 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-26 10:04:16.596 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 2.387ms
2024-08-26 10:06:27.583 +05:30 [DBG] Connection id "0HN65E0PV8E28" disconnecting.
2024-08-26 10:06:27.583 +05:30 [DBG] Connection id "0HN65E0PV8E29" disconnecting.
2024-08-26 10:06:27.585 +05:30 [DBG] Connection id "0HN65E0PV8E28" stopped.
2024-08-26 10:06:27.585 +05:30 [DBG] Connection id "0HN65E0PV8E29" stopped.
2024-08-26 10:06:27.585 +05:30 [DBG] Connection id "0HN65E0PV8E29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-26 10:06:27.585 +05:30 [DBG] Connection id "0HN65E0PV8E28" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-27 10:09:21.735 +05:30 [DBG] Connection id "0HN65E0PV8E2A" accepted.
2024-08-27 10:09:21.737 +05:30 [DBG] Connection id "0HN65E0PV8E2A" started.
2024-08-27 10:09:21.740 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-27 10:09:21.755 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-27 10:09:21.756 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-27 10:09:21.756 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-27 10:09:21.757 +05:30 [INF] CORS policy execution successful.
2024-08-27 10:09:21.757 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:09:21.757 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-27 10:09:21.758 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-27 10:09:21.770 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-27 10:09:21.773 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-27 10:09:21.773 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-27 10:09:21.773 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-27 10:09:21.853 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-27 10:09:21.853 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-27 10:09:21.855 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-27 10:09:21.855 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-27 10:09:21.855 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-27 10:09:21.855 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-27 10:09:21.855 +05:30 [DBG] A data reader was disposed.
2024-08-27 10:09:21.855 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-27 10:09:21.855 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-27 10:09:21.856 +05:30 [INF] Setting HTTP status code 200.
2024-08-27 10:09:21.856 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-27 10:09:21.856 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-27 10:09:21.856 +05:30 [DBG] Connection id "0HN65E0PV8E2A" completed keep alive response.
2024-08-27 10:09:21.856 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-27 10:09:21.856 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 116.8226ms
2024-08-27 10:11:33.082 +05:30 [DBG] Connection id "0HN65E0PV8E2A" disconnecting.
2024-08-27 10:11:33.083 +05:30 [DBG] Connection id "0HN65E0PV8E2A" stopped.
2024-08-27 10:11:33.086 +05:30 [DBG] Connection id "0HN65E0PV8E2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-27 10:42:55.528 +05:30 [INF] Application is shutting down...
2024-08-27 10:42:55.530 +05:30 [DBG] Hosting stopping
2024-08-27 10:42:55.545 +05:30 [DBG] Hosting stopped
2024-08-27 10:43:06.979 +05:30 [DBG] Hosting starting
2024-08-27 10:43:07.008 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-27 10:43:07.011 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-27 10:43:07.012 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-27 10:43:07.014 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-27 10:43:07.015 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-27 10:43:07.017 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-27 10:43:07.018 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-27 10:43:07.019 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-27 10:43:07.019 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-27 10:43:07.021 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-27 10:43:07.021 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-27 10:43:07.118 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-27 10:43:07.118 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-27 10:43:07.119 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-27 10:43:07.119 +05:30 [INF] Hosting environment: Development
2024-08-27 10:43:07.119 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-27 10:43:07.119 +05:30 [DBG] Hosting started
2024-08-27 10:43:17.780 +05:30 [DBG] Connection id "0HN66ARR19B27" accepted.
2024-08-27 10:43:17.781 +05:30 [DBG] Connection id "0HN66ARR19B28" accepted.
2024-08-27 10:43:17.781 +05:30 [DBG] Connection id "0HN66ARR19B27" started.
2024-08-27 10:43:17.781 +05:30 [DBG] Connection id "0HN66ARR19B28" started.
2024-08-27 10:43:17.801 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-27 10:43:17.804 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-27 10:43:17.873 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-27 10:43:17.874 +05:30 [DBG] Request did not match any endpoints
2024-08-27 10:43:17.887 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:43:17.911 +05:30 [DBG] Connection id "0HN66ARR19B27" completed keep alive response.
2024-08-27 10:43:17.912 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 110.8488ms
2024-08-27 10:43:17.923 +05:30 [DBG] Connection id "0HN66ARR19B29" accepted.
2024-08-27 10:43:17.923 +05:30 [DBG] Connection id "0HN66ARR19B29" started.
2024-08-27 10:43:17.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - null null
2024-08-27 10:43:17.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - null null
2024-08-27 10:43:17.925 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-08-27 10:43:17.925 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-08-27 10:43:17.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - null null
2024-08-27 10:43:17.925 +05:30 [DBG] Request did not match any endpoints
2024-08-27 10:43:17.926 +05:30 [DBG] Request did not match any endpoints
2024-08-27 10:43:17.926 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-08-27 10:43:17.926 +05:30 [DBG] Request did not match any endpoints
2024-08-27 10:43:17.927 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:43:17.927 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:43:17.927 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:43:17.944 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-27 10:43:17.944 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-27 10:43:17.945 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-27 10:43:17.945 +05:30 [DBG] Connection id "0HN66ARR19B27" completed keep alive response.
2024-08-27 10:43:17.945 +05:30 [DBG] Connection id "0HN66ARR19B28" completed keep alive response.
2024-08-27 10:43:17.945 +05:30 [DBG] Connection id "0HN66ARR19B29" completed keep alive response.
2024-08-27 10:43:17.945 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - 200 143943 text/css 20.969ms
2024-08-27 10:43:17.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 21.1443ms
2024-08-27 10:43:17.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 20.8852ms
2024-08-27 10:43:18.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-27 10:43:18.075 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-27 10:43:18.075 +05:30 [DBG] Request did not match any endpoints
2024-08-27 10:43:18.077 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-27 10:43:18.079 +05:30 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-08-27 10:43:18.151 +05:30 [DBG] Connection id "0HN66ARR19B28" completed keep alive response.
2024-08-27 10:43:18.151 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.7461ms
2024-08-27 10:45:29.270 +05:30 [DBG] Connection id "0HN66ARR19B27" disconnecting.
2024-08-27 10:45:29.270 +05:30 [DBG] Connection id "0HN66ARR19B28" disconnecting.
2024-08-27 10:45:29.270 +05:30 [DBG] Connection id "0HN66ARR19B29" disconnecting.
2024-08-27 10:45:29.273 +05:30 [DBG] Connection id "0HN66ARR19B29" stopped.
2024-08-27 10:45:29.273 +05:30 [DBG] Connection id "0HN66ARR19B28" stopped.
2024-08-27 10:45:29.273 +05:30 [DBG] Connection id "0HN66ARR19B27" stopped.
2024-08-27 10:45:29.275 +05:30 [DBG] Connection id "0HN66ARR19B29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-27 10:45:29.275 +05:30 [DBG] Connection id "0HN66ARR19B27" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-27 10:45:29.275 +05:30 [DBG] Connection id "0HN66ARR19B28" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 17:41:23.965 +05:30 [DBG] Hosting starting
2024-08-28 17:41:23.997 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-28 17:41:24.001 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-28 17:41:24.003 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-28 17:41:24.004 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-28 17:41:24.006 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-28 17:41:24.007 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-28 17:41:24.009 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-28 17:41:24.010 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-28 17:41:24.010 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-28 17:41:24.012 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-28 17:41:24.013 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-28 17:41:24.108 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-28 17:41:24.108 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-28 17:41:24.109 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-28 17:41:24.109 +05:30 [INF] Hosting environment: Development
2024-08-28 17:41:24.109 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-28 17:41:24.109 +05:30 [DBG] Hosting started
2024-08-28 17:41:48.111 +05:30 [DBG] Connection id "0HN67BABMLKUT" accepted.
2024-08-28 17:41:48.112 +05:30 [DBG] Connection id "0HN67BABMLKUU" accepted.
2024-08-28 17:41:48.112 +05:30 [DBG] Connection id "0HN67BABMLKUT" started.
2024-08-28 17:41:48.112 +05:30 [DBG] Connection id "0HN67BABMLKUU" started.
2024-08-28 17:41:48.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/index.html - null null
2024-08-28 17:41:48.139 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-28 17:41:48.207 +05:30 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-28 17:41:48.208 +05:30 [DBG] Request did not match any endpoints
2024-08-28 17:41:48.222 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:41:48.246 +05:30 [DBG] Connection id "0HN67BABMLKUT" completed keep alive response.
2024-08-28 17:41:48.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/index.html - 200 null text/html;charset=utf-8 110.4523ms
2024-08-28 17:41:48.255 +05:30 [DBG] Connection id "0HN67BABMLKUV" accepted.
2024-08-28 17:41:48.255 +05:30 [DBG] Connection id "0HN67BABMLKUV" started.
2024-08-28 17:41:48.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - null null
2024-08-28 17:41:48.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - null null
2024-08-28 17:41:48.256 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-08-28 17:41:48.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - null null
2024-08-28 17:41:48.256 +05:30 [DBG] Request did not match any endpoints
2024-08-28 17:41:48.256 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-08-28 17:41:48.256 +05:30 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-08-28 17:41:48.257 +05:30 [DBG] Request did not match any endpoints
2024-08-28 17:41:48.257 +05:30 [DBG] Request did not match any endpoints
2024-08-28 17:41:48.258 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:41:48.258 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:41:48.258 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:41:48.274 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-28 17:41:48.274 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-28 17:41:48.276 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-28 17:41:48.276 +05:30 [DBG] Connection id "0HN67BABMLKUV" completed keep alive response.
2024-08-28 17:41:48.276 +05:30 [DBG] Connection id "0HN67BABMLKUU" completed keep alive response.
2024-08-28 17:41:48.276 +05:30 [DBG] Connection id "0HN67BABMLKUT" completed keep alive response.
2024-08-28 17:41:48.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui.css - 200 143943 text/css 20.88ms
2024-08-28 17:41:48.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 20.8362ms
2024-08-28 17:41:48.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 20.8595ms
2024-08-28 17:41:48.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - null null
2024-08-28 17:41:48.406 +05:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-28 17:41:48.406 +05:30 [DBG] Request did not match any endpoints
2024-08-28 17:41:48.408 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:41:48.415 +05:30 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-08-28 17:41:48.485 +05:30 [DBG] Connection id "0HN67BABMLKUU" completed keep alive response.
2024-08-28 17:41:48.486 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.8759ms
2024-08-28 17:42:02.615 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 17:42:02.628 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 17:42:02.629 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:42:02.630 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:42:02.630 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 17:42:02.633 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:42:02.701 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-28 17:42:02.856 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 17:42:02.868 +05:30 [DBG] Compiling query expression: 
'DbSet<ServiceCategory>()
    .OrderBy(o => o.ServiceCategoryId)'
2024-08-28 17:42:02.922 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ServiceCategory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ServiceCategory.ServiceCategoryId (byte) Required PK AfterSave:Throw, 0], [Property: ServiceCategory.ServiceCategoryCode (string) Required, 1], [Property: ServiceCategory.ServiceCategoryName (string) Required, 2] }
        SELECT s.ServiceCategoryId, s.ServiceCategoryCode, s.ServiceCategoryName
        FROM ServiceCategory AS s
        ORDER BY s.ServiceCategoryId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ServiceCategory>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 17:42:02.934 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 17:42:02.937 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-28 17:42:02.939 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 17:42:03.026 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 17:42:03.028 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`ServiceCategoryId`, `s`.`ServiceCategoryCode`, `s`.`ServiceCategoryName`
FROM `ServiceCategory` AS `s`
ORDER BY `s`.`ServiceCategoryId`
2024-08-28 17:42:03.039 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`ServiceCategoryId`, `s`.`ServiceCategoryCode`, `s`.`ServiceCategoryName`
FROM `ServiceCategory` AS `s`
ORDER BY `s`.`ServiceCategoryId`
2024-08-28 17:42:03.046 +05:30 [DBG] Context 'HASDbContext' started tracking 'ServiceCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:42:03.052 +05:30 [DBG] A data reader was disposed.
2024-08-28 17:42:03.053 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 17:42:03.054 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 17:42:03.055 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 17:42:03.056 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 17:42:03.058 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:42:03.058 +05:30 [DBG] Connection id "0HN67BABMLKUU" completed keep alive response.
2024-08-28 17:42:03.058 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 17:42:03.059 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 443.7897ms
2024-08-28 17:43:13.474 +05:30 [INF] Application is shutting down...
2024-08-28 17:43:13.476 +05:30 [DBG] Hosting stopping
2024-08-28 17:43:13.491 +05:30 [DBG] Connection id "0HN67BABMLKUT" disconnecting.
2024-08-28 17:43:13.491 +05:30 [DBG] Connection id "0HN67BABMLKUU" disconnecting.
2024-08-28 17:43:13.491 +05:30 [DBG] Connection id "0HN67BABMLKUV" disconnecting.
2024-08-28 17:43:13.492 +05:30 [DBG] Connection id "0HN67BABMLKUU" stopped.
2024-08-28 17:43:13.492 +05:30 [DBG] Connection id "0HN67BABMLKUV" stopped.
2024-08-28 17:43:13.492 +05:30 [DBG] Connection id "0HN67BABMLKUT" stopped.
2024-08-28 17:43:13.493 +05:30 [DBG] Connection id "0HN67BABMLKUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 17:43:13.493 +05:30 [DBG] Connection id "0HN67BABMLKUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 17:43:13.493 +05:30 [DBG] Connection id "0HN67BABMLKUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 17:43:13.496 +05:30 [DBG] Hosting stopped
2024-08-28 17:43:17.667 +05:30 [DBG] Hosting starting
2024-08-28 17:43:17.697 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-28 17:43:17.701 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-28 17:43:17.703 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-28 17:43:17.705 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-28 17:43:17.707 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-28 17:43:17.708 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-28 17:43:17.709 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-28 17:43:17.710 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-28 17:43:17.710 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-28 17:43:17.712 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-28 17:43:17.712 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-28 17:43:17.806 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-28 17:43:17.806 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-28 17:43:17.807 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-28 17:43:17.807 +05:30 [INF] Hosting environment: Development
2024-08-28 17:43:17.807 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-28 17:43:17.807 +05:30 [DBG] Hosting started
2024-08-28 17:43:22.533 +05:30 [DBG] Connection id "0HN67BB7R4UJV" accepted.
2024-08-28 17:43:22.534 +05:30 [DBG] Connection id "0HN67BB7R4UJV" started.
2024-08-28 17:43:22.556 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 17:43:22.559 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-28 17:43:22.627 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 17:43:22.628 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:43:22.637 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 17:43:22.642 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 17:43:22.643 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:43:22.677 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-28 17:43:22.824 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 17:43:22.837 +05:30 [DBG] Compiling query expression: 
'DbSet<HealthVital>()
    .OrderBy(o => o.HealthVitalId)'
2024-08-28 17:43:22.890 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthVital>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthVital.HealthVitalId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthVital.HealthVitalCode (string) Required MaxLength(50), 1], [Property: HealthVital.HealthVitalName (string) Required MaxLength(100), 2], [Property: HealthVital.HealthVitalUnit (string) Required MaxLength(50), 3] }
        SELECT h.HealthVitalId, h.HealthVitalCode, h.HealthVitalName, h.HealthVitalUnit
        FROM healthvital AS h
        ORDER BY h.HealthVitalId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthVital>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 17:43:22.900 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 17:43:22.903 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-08-28 17:43:22.905 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 17:43:22.995 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 17:43:22.997 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 17:43:23.005 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 17:43:23.012 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.017 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.017 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.018 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.019 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.020 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 17:43:23.022 +05:30 [DBG] A data reader was disposed.
2024-08-28 17:43:23.023 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 17:43:23.024 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 17:43:23.025 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 17:43:23.027 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 17:43:23.032 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 17:43:23.032 +05:30 [DBG] Connection id "0HN67BB7R4UJV" completed keep alive response.
2024-08-28 17:43:23.033 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 17:43:23.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 479.1466ms
2024-08-28 17:45:33.953 +05:30 [DBG] Connection id "0HN67BB7R4UJV" disconnecting.
2024-08-28 17:45:33.957 +05:30 [DBG] Connection id "0HN67BB7R4UJV" stopped.
2024-08-28 17:45:33.959 +05:30 [DBG] Connection id "0HN67BB7R4UJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:03:55.245 +05:30 [INF] Application is shutting down...
2024-08-28 18:03:55.247 +05:30 [DBG] Hosting stopping
2024-08-28 18:03:55.260 +05:30 [DBG] Hosting stopped
2024-08-28 18:04:01.302 +05:30 [DBG] Hosting starting
2024-08-28 18:04:01.332 +05:30 [INF] User profile is available. Using '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-08-28 18:04:01.335 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-217504d6-7f4a-4672-9b36-33d900917618.xml'.
2024-08-28 18:04:01.337 +05:30 [DBG] Reading data from file '/Users/yogesh.kadalgikar/.aspnet/DataProtection-Keys/key-809ba8dd-9a34-4378-bb9f-579de200ad95.xml'.
2024-08-28 18:04:01.339 +05:30 [DBG] Found key {217504d6-7f4a-4672-9b36-33d900917618}.
2024-08-28 18:04:01.340 +05:30 [DBG] Found key {809ba8dd-9a34-4378-bb9f-579de200ad95}.
2024-08-28 18:04:01.342 +05:30 [DBG] Considering key {217504d6-7f4a-4672-9b36-33d900917618} with expiration date 2024-11-21 14:47:07Z as default key.
2024-08-28 18:04:01.343 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-28 18:04:01.344 +05:30 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-08-28 18:04:01.344 +05:30 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-08-28 18:04:01.345 +05:30 [DBG] Using key {217504d6-7f4a-4672-9b36-33d900917618} as the default key.
2024-08-28 18:04:01.346 +05:30 [DBG] Key ring with default key {217504d6-7f4a-4672-9b36-33d900917618} was loaded during application startup.
2024-08-28 18:04:01.438 +05:30 [INF] Now listening on: http://localhost:5242
2024-08-28 18:04:01.438 +05:30 [DBG] Loaded hosting startup assembly health-api
2024-08-28 18:04:01.439 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-08-28 18:04:01.439 +05:30 [INF] Hosting environment: Development
2024-08-28 18:04:01.439 +05:30 [INF] Content root path: /Users/yogesh.kadalgikar/code/my-app/health-api
2024-08-28 18:04:01.439 +05:30 [DBG] Hosting started
2024-08-28 18:24:27.923 +05:30 [DBG] Connection id "0HN67C26ITGID" accepted.
2024-08-28 18:24:27.927 +05:30 [DBG] Connection id "0HN67C26ITGID" started.
2024-08-28 18:24:27.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-28 18:24:27.950 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-28 18:24:28.038 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-28 18:24:28.039 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:24:28.042 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:24:28.042 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:24:28.058 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 18:24:28.064 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:24:28.065 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:24:28.134 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-28 18:24:28.350 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:24:28.362 +05:30 [DBG] Compiling query expression: 
'DbSet<Language>()
    .OrderBy(o => o.LanguageId)'
2024-08-28 18:24:28.416 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Language>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Language.LanguageId (byte) Required PK AfterSave:Throw, 0], [Property: Language.LanguageCode (string) Required, 1], [Property: Language.LanguageName (string) Required, 2] }
        SELECT l.LanguageId, l.LanguageCode, l.LanguageName
        FROM Language AS l
        ORDER BY l.LanguageId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Language>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:24:28.426 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:24:28.429 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-08-28 18:24:28.431 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:24:28.523 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:24:28.525 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-28 18:24:28.534 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-28 18:24:28.541 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:24:28.549 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:24:28.549 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:24:28.551 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:24:28.560 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:24:28.563 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:24:28.567 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:24:28.572 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:24:28.581 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:24:28.582 +05:30 [DBG] Connection id "0HN67C26ITGID" completed keep alive response.
2024-08-28 18:24:28.585 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:24:28.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 639.0572ms
2024-08-28 18:26:01.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/languages - null null
2024-08-28 18:26:01.224 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/languages'
2024-08-28 18:26:01.224 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:26:01.225 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:26:01.225 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:26:01.226 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 18:26:01.226 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:26:01.226 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:26:01.245 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:26:01.247 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:26:01.247 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:26:01.247 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:26:01.248 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:26:01.248 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-28 18:26:01.251 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`LanguageId`, `l`.`LanguageCode`, `l`.`LanguageName`
FROM `Language` AS `l`
ORDER BY `l`.`LanguageId`
2024-08-28 18:26:01.252 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:26:01.252 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:26:01.252 +05:30 [DBG] Context 'HASDbContext' started tracking 'Language' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:26:01.252 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:26:01.252 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:26:01.252 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:26:01.252 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:26:01.253 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:26:01.253 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/languages => GetLanguagesAsync'
2024-08-28 18:26:01.254 +05:30 [DBG] Connection id "0HN67C26ITGID" completed keep alive response.
2024-08-28 18:26:01.254 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:26:01.254 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/languages - 200 null application/json; charset=utf-8 32.1905ms
2024-08-28 18:28:11.924 +05:30 [DBG] Connection id "0HN67C26ITGID" disconnecting.
2024-08-28 18:28:11.926 +05:30 [DBG] Connection id "0HN67C26ITGID" stopped.
2024-08-28 18:28:11.929 +05:30 [DBG] Connection id "0HN67C26ITGID" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:34:03.598 +05:30 [DBG] Connection id "0HN67C26ITGIE" accepted.
2024-08-28 18:34:03.600 +05:30 [DBG] Connection id "0HN67C26ITGIE" started.
2024-08-28 18:34:03.609 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - null null
2024-08-28 18:34:03.613 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-28 18:34:03.614 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:03.615 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:03.615 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:03.615 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:03.616 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:03.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/users/login - 204 null null 7.2062ms
2024-08-28 18:34:03.617 +05:30 [DBG] Connection id "0HN67C26ITGIF" accepted.
2024-08-28 18:34:03.617 +05:30 [DBG] Connection id "0HN67C26ITGIF" started.
2024-08-28 18:34:03.617 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/users/login - application/json 78
2024-08-28 18:34:03.620 +05:30 [DBG] 1 candidate(s) found for the request path '/api/users/login'
2024-08-28 18:34:03.621 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-28 18:34:03.621 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:03.621 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:03.623 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-28 18:34:03.624 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:03.624 +05:30 [INF] Executing endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-28 18:34:03.628 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000001": started reading request body.
2024-08-28 18:34:03.628 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000001": done reading request body.
2024-08-28 18:34:03.647 +05:30 [INF] Login initiated for 202301131, admin@example.com
2024-08-28 18:34:03.775 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:03.780 +05:30 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Join(
        inner: DbSet<CustomerAppUser>(), 
        outerKeySelector: appUser => appUser.AppUserId, 
        innerKeySelector: customerAppUser => customerAppUser.AppUserId, 
        resultSelector: (appUser, customerAppUser) => new { 
            appUser = appUser, 
            customerAppUser = customerAppUser
         })
    .Join(
        inner: DbSet<Customer>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.customerAppUser.CustomerId, 
        innerKeySelector: customer => customer.CustomerId, 
        resultSelector: (<>h__TransparentIdentifier0, customer) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            customer = customer
         })
    .Join(
        inner: DbSet<Language>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.LanguageId, 
        innerKeySelector: lang => lang.LanguageId, 
        resultSelector: (<>h__TransparentIdentifier1, lang) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            lang = lang
         })
    .Join(
        inner: DbSet<AppUserRole>(), 
        outerKeySelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.AppUserRoleId, 
        innerKeySelector: role => role.AppUserRoleId, 
        resultSelector: (<>h__TransparentIdentifier2, role) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            role = role
         })
    .Where(<>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username.Equals(__request_Username_0) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode.Equals(__request_CustomerCode_1) && <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.IsActive)
    .Select(<>h__TransparentIdentifier3 => new LoginResponse{ 
        Username = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Username, 
        Secret = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.customerAppUser.Password, 
        AppUserId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.AppUserId, 
        Firstname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Firstname, 
        Lastname = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.appUser.Lastname, 
        CustomerId = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerId, 
        CustomerCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerCode, 
        CustomerShortName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerShortName, 
        CustomerName = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.customer.CustomerName, 
        LanguageCode = <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.lang.LanguageCode, 
        RoleCode = <>h__TransparentIdentifier3.role.AppUserRoleCode 
    }
    )
    .FirstOrDefault()'
2024-08-28 18:34:03.802 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<LoginResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<LoginResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                Username -> 0
                Secret -> 1
                AppUserId -> 2
                Firstname -> 3
                Lastname -> 4
                CustomerId -> 5
                CustomerCode -> 6
                CustomerShortName -> 7
                CustomerName -> 8
                LanguageCode -> 9
                RoleCode -> 10
            SELECT TOP(1) c.Username, c.Password AS Secret, a.AppUserId, a.Firstname, a.Lastname, c0.CustomerId, c0.CustomerCode, c0.CustomerShortName, c0.CustomerName, l.LanguageCode, a0.AppUserRoleCode AS RoleCode
            FROM AppUser AS a
            INNER JOIN CustomerAppUser AS c ON a.AppUserId == c.AppUserId
            INNER JOIN Customer AS c0 ON c.CustomerId == c0.CustomerId
            INNER JOIN Language AS l ON c.LanguageId == l.LanguageId
            INNER JOIN AppUserRole AS a0 ON c.AppUserRoleId == a0.AppUserRoleId
            WHERE ((c.Username == @__request_Username_0) && (c0.CustomerCode == @__request_CustomerCode_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LoginResponse>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:03.805 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:03.806 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:03.807 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:03.835 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:03.836 +05:30 [DBG] Executing DbCommand [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-28 18:34:03.839 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?' (Size = 4000), @__request_CustomerCode_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Username`, `c`.`Password` AS `Secret`, `a`.`AppUserId`, `a`.`Firstname`, `a`.`Lastname`, `c0`.`CustomerId`, `c0`.`CustomerCode`, `c0`.`CustomerShortName`, `c0`.`CustomerName`, `l`.`LanguageCode`, `a0`.`AppUserRoleCode` AS `RoleCode`
FROM `AppUser` AS `a`
INNER JOIN `CustomerAppUser` AS `c` ON `a`.`AppUserId` = `c`.`AppUserId`
INNER JOIN `Customer` AS `c0` ON `c`.`CustomerId` = `c0`.`CustomerId`
INNER JOIN `Language` AS `l` ON `c`.`LanguageId` = `l`.`LanguageId`
INNER JOIN `AppUserRole` AS `a0` ON `c`.`AppUserRoleId` = `a0`.`AppUserRoleId`
WHERE ((`c`.`Username` = @__request_Username_0) AND (`c0`.`CustomerCode` = @__request_CustomerCode_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-28 18:34:03.840 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:03.840 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:03.840 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:03.968 +05:30 [INF] Login successful for 202301131, admin@example.com
2024-08-28 18:34:04.009 +05:30 [DBG] Compiling query expression: 
'DbSet<CustomerAppUser>()
    .Where(cau => cau.CustomerId.Equals(__customerId_0) && cau.AppUserId.Equals(__appUserId_1) && cau.IsActive)
    .FirstOrDefault()'
2024-08-28 18:34:04.015 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerAppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerAppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerAppUser.CustomerAppUserId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerAppUser.AppUserId (long) Required, 1], [Property: CustomerAppUser.AppUserRoleId (byte) Required, 2], [Property: CustomerAppUser.CustomerId (long) Required, 3], [Property: CustomerAppUser.IsActive (bool) Required, 4], [Property: CustomerAppUser.LanguageId (byte) Required, 5], [Property: CustomerAppUser.Password (string) Required, 6], [Property: CustomerAppUser.Token (string), 7], [Property: CustomerAppUser.Username (string) Required, 8] }
            SELECT TOP(1) c.CustomerAppUserId, c.AppUserId, c.AppUserRoleId, c.CustomerId, c.IsActive, c.LanguageId, c.Password, c.Token, c.Username
            FROM CustomerAppUser AS c
            WHERE ((c.CustomerId == @__customerId_0) && (c.AppUserId == @__appUserId_1)) && c.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerAppUser>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:04.015 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:04.016 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:04.016 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.016 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.016 +05:30 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-28 18:34:04.018 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Int64), @__appUserId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`CustomerAppUserId`, `c`.`AppUserId`, `c`.`AppUserRoleId`, `c`.`CustomerId`, `c`.`IsActive`, `c`.`LanguageId`, `c`.`Password`, `c`.`Token`, `c`.`Username`
FROM `CustomerAppUser` AS `c`
WHERE ((`c`.`CustomerId` = @__customerId_0) AND (`c`.`AppUserId` = @__appUserId_1)) AND `c`.`IsActive`
LIMIT 1
2024-08-28 18:34:04.021 +05:30 [DBG] Context 'HASDbContext' started tracking 'CustomerAppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:04.026 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:04.026 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.026 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.030 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:04.031 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:04.031 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:04.034 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:04.039 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.040 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.041 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:04.047 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:04.067 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:04.067 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:04.067 +05:30 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-28 18:34:04.072 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = Byte), @p2='?' (DbType = Int64), @p3='?' (DbType = SByte), @p4='?' (DbType = Byte), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CustomerAppUser` SET `AppUserId` = @p0, `AppUserRoleId` = @p1, `CustomerId` = @p2, `IsActive` = @p3, `LanguageId` = @p4, `Password` = @p5, `Token` = @p6, `Username` = @p7
WHERE `CustomerAppUserId` = @p8;
SELECT ROW_COUNT();
2024-08-28 18:34:04.075 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:04.079 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:04.081 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:04.083 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.083 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.086 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:04.087 +05:30 [DBG] An entity of type 'CustomerAppUser' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:04.088 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:34:04.104 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:04.105 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:04.105 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:04.108 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:04.108 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.108 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.108 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:04.109 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:04.111 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:04.111 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:04.111 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-28 18:34:04.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-28 18:34:04.114 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:04.114 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:04.114 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:04.114 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.115 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:04.115 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:04.115 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:04.115 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:34:04.116 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:34:04.116 +05:30 [INF] Writing value of type 'String' as Json.
2024-08-28 18:34:04.116 +05:30 [INF] Executed endpoint 'HTTP: POST /api/users/login => LoginAsync'
2024-08-28 18:34:04.116 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:04.116 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:04.117 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/users/login - 200 null application/json; charset=utf-8 499.1696ms
2024-08-28 18:34:15.411 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - null null
2024-08-28 18:34:15.412 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-28 18:34:15.412 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:15.412 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:15.412 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:15.412 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:15.413 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:15.413 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/search - 204 null null 1.4575ms
2024-08-28 18:34:15.413 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/search - application/json 45
2024-08-28 18:34:15.415 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/search'
2024-08-28 18:34:15.416 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-28 18:34:15.416 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:15.416 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:15.452 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:15.452 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:15.455 +05:30 [DBG] Authorization was successful.
2024-08-28 18:34:15.455 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:15.455 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-28 18:34:15.456 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000002": started reading request body.
2024-08-28 18:34:15.456 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000002": done reading request body.
2024-08-28 18:34:15.464 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:15.467 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .GroupJoin(
        inner: DbSet<PatientPhone>()
            .Where(ph => ph.IsActive), 
        outerKeySelector: p => p.PatientId, 
        innerKeySelector: ph => ph.PatientId, 
        resultSelector: (p, patientPhoneGroup) => new { 
            p = p, 
            patientPhoneGroup = patientPhoneGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.patientPhoneGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier0, ppg) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            ppg = ppg
         })
    .GroupJoin(
        inner: DbSet<PatientEmail>()
            .Where(pe => pe.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pe => pe.PatientId, 
        resultSelector: (<>h__TransparentIdentifier1, patientEmailGroup) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            patientEmailGroup = patientEmailGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.patientEmailGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier2, peg) => new { 
            <>h__TransparentIdentifier2 = <>h__TransparentIdentifier2, 
            peg = peg
         })
    .GroupJoin(
        inner: DbSet<PatientIdentity>()
            .Where(pi => pi.IsActive), 
        outerKeySelector: <>h__TransparentIdentifier3 => <>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
        innerKeySelector: pi => pi.PatientId, 
        resultSelector: (<>h__TransparentIdentifier3, patientIdentityGroup) => new { 
            <>h__TransparentIdentifier3 = <>h__TransparentIdentifier3, 
            patientIdentityGroup = patientIdentityGroup
         })
    .SelectMany(
        collectionSelector: <>h__TransparentIdentifier4 => <>h__TransparentIdentifier4.patientIdentityGroup
            .DefaultIfEmpty(), 
        resultSelector: (<>h__TransparentIdentifier4, pig) => new { 
            <>h__TransparentIdentifier4 = <>h__TransparentIdentifier4, 
            pig = pig
         })
    .Join(
        inner: DbSet<Gender>(), 
        outerKeySelector: <>h__TransparentIdentifier5 => <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.GenderId, 
        innerKeySelector: g => g.GenderId, 
        resultSelector: (<>h__TransparentIdentifier5, g) => new { 
            PatientId = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientId, 
            PatientCode = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.PatientCode, 
            Firstname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Firstname, 
            Middlename = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Middlename, 
            Lastname = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.Lastname, 
            DateOfBirth = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.p.DateOfBirth, 
            Gender = g.GenderName, 
            PhoneNumber = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.<>h__TransparentIdentifier2.<>h__TransparentIdentifier1.ppg.PhoneNumber, 
            EmailAddress = <>h__TransparentIdentifier5.<>h__TransparentIdentifier4.<>h__TransparentIdentifier3.peg.EmailAddress, 
            IdentityNumber = <>h__TransparentIdentifier5.pig.IdentityNumber
         })
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Firstname, 
            pattern: __Format_1))
    .Where(p => __Functions_0
        .Like(
            matchExpression: p.Lastname, 
            pattern: __Format_2))
    .Select(s => new PatientMinimalDetail{ 
        PatientId = s.PatientId, 
        PatientCode = s.PatientCode, 
        Firstname = s.Firstname, 
        Middlename = s.Middlename, 
        Lastname = s.Lastname, 
        DateOfBirth = s.DateOfBirth, 
        Gender = s.Gender, 
        PhoneNumber = s.PhoneNumber, 
        EmailAddress = s.EmailAddress, 
        IdentityNumber = s.IdentityNumber 
    }
    )
    .Take(__p_3)'
2024-08-28 18:34:15.478 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-08-28 18:34:15.480 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PatientMinimalDetail>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            PatientId -> 0
            PatientCode -> 1
            Firstname -> 2
            Middlename -> 3
            Lastname -> 4
            DateOfBirth -> 5
            Gender -> 6
            PhoneNumber -> 7
            EmailAddress -> 8
            IdentityNumber -> 9
        SELECT TOP(@__p_3) p.PatientId, p.PatientCode, p.Firstname, p.Middlename, p.Lastname, p.DateOfBirth, g.GenderName AS Gender, t.PhoneNumber, t0.EmailAddress, t1.IdentityNumber
        FROM Patient AS p
        LEFT JOIN 
        (
            SELECT p0.PatientId, p0.PhoneNumber
            FROM PatientPhone AS p0
            WHERE p0.IsActive
        ) AS t ON p.PatientId == t.PatientId
        LEFT JOIN 
        (
            SELECT p1.EmailAddress, p1.PatientId
            FROM PatientEmail AS p1
            WHERE p1.IsActive
        ) AS t0 ON p.PatientId == t0.PatientId
        LEFT JOIN 
        (
            SELECT p2.IdentityNumber, p2.PatientId
            FROM PatientIdentity AS p2
            WHERE p2.IsActive
        ) AS t1 ON p.PatientId == t1.PatientId
        INNER JOIN Gender AS g ON p.GenderId == g.GenderId
        WHERE (p.Firstname LIKE @__Format_1) && (p.Lastname LIKE @__Format_2)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientMinimalDetail>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:34:15.481 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:15.481 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:15.481 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:15.482 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:15.482 +05:30 [DBG] Executing DbCommand [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-28 18:34:15.484 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Format_1='?' (Size = 4000), @__Format_2='?' (Size = 4000), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`PatientCode`, `p`.`Firstname`, `p`.`Middlename`, `p`.`Lastname`, `p`.`DateOfBirth`, `g`.`GenderName` AS `Gender`, `t`.`PhoneNumber`, `t0`.`EmailAddress`, `t1`.`IdentityNumber`
FROM `Patient` AS `p`
LEFT JOIN (
    SELECT `p0`.`PatientId`, `p0`.`PhoneNumber`
    FROM `PatientPhone` AS `p0`
    WHERE `p0`.`IsActive`
) AS `t` ON `p`.`PatientId` = `t`.`PatientId`
LEFT JOIN (
    SELECT `p1`.`EmailAddress`, `p1`.`PatientId`
    FROM `PatientEmail` AS `p1`
    WHERE `p1`.`IsActive`
) AS `t0` ON `p`.`PatientId` = `t0`.`PatientId`
LEFT JOIN (
    SELECT `p2`.`IdentityNumber`, `p2`.`PatientId`
    FROM `PatientIdentity` AS `p2`
    WHERE `p2`.`IsActive`
) AS `t1` ON `p`.`PatientId` = `t1`.`PatientId`
INNER JOIN `Gender` AS `g` ON `p`.`GenderId` = `g`.`GenderId`
WHERE (`p`.`Firstname` LIKE @__Format_1) AND (`p`.`Lastname` LIKE @__Format_2)
LIMIT @__p_3
2024-08-28 18:34:15.484 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:15.484 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:15.484 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:15.486 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:34:15.487 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:34:15.487 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/search => SearchPatientsAsync'
2024-08-28 18:34:15.487 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:15.487 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:15.487 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/search - 200 null application/json; charset=utf-8 73.8315ms
2024-08-28 18:34:17.145 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:34:17.146 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:34:17.146 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:17.146 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:17.146 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:17.146 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:17.146 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:17.147 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.3524ms
2024-08-28 18:34:17.148 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:34:17.148 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:34:17.148 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:34:17.148 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:17.148 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:17.149 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:17.149 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:17.149 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:17.150 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:34:17.154 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:17.155 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .OrderBy(o => o.GenderId)'
2024-08-28 18:34:17.158 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Gender>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Gender.GenderId (byte) Required PK AfterSave:Throw, 0], [Property: Gender.GenderCode (string) Required, 1], [Property: Gender.GenderName (string) Required, 2] }
        SELECT g.GenderId, g.GenderCode, g.GenderName
        FROM Gender AS g
        ORDER BY g.GenderId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Gender>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:34:17.159 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:17.159 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:17.159 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:17.160 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:17.160 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:34:17.160 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:34:17.161 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:17.164 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:17.164 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:17.164 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:17.164 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:17.165 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:34:17.166 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:34:17.167 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:34:17.167 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:17.167 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:17.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 19.5951ms
2024-08-28 18:34:38.008 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients - null null
2024-08-28 18:34:38.009 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-28 18:34:38.009 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:38.009 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:38.009 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:38.009 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:38.009 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:38.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients - 204 null null 0.9162ms
2024-08-28 18:34:38.010 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients - application/json 125
2024-08-28 18:34:38.010 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients'
2024-08-28 18:34:38.010 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-28 18:34:38.010 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:38.010 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:38.011 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:38.011 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:38.012 +05:30 [DBG] Authorization was successful.
2024-08-28 18:34:38.013 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:38.013 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-28 18:34:38.013 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000004": started reading request body.
2024-08-28 18:34:38.013 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000004": done reading request body.
2024-08-28 18:34:38.034 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:38.035 +05:30 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .FirstOrDefault(p => p.Firstname.Equals(__firstname_0) && p.Lastname.Equals(__lastname_1) && p.DateOfBirth.Equals(__dateOfBirth_2))'
2024-08-28 18:34:38.038 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
    asyncEnumerable: new SingleQueryingEnumerable<Patient>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.PatientId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.DateOfBirth (DateTime) Required, 1], [Property: Patient.Firstname (string) Required, 2], [Property: Patient.GenderId (byte) Required, 3], [Property: Patient.Lastname (string) Required, 4], [Property: Patient.Middlename (string), 5], [Property: Patient.PatientCode (string) Required, 6] }
            SELECT TOP(1) p.PatientId, p.DateOfBirth, p.Firstname, p.GenderId, p.Lastname, p.Middlename, p.PatientCode
            FROM Patient AS p
            WHERE ((p.Firstname == @__firstname_0) && (p.Lastname == @__lastname_1)) && (p.DateOfBirth == @__dateOfBirth_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:38.039 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.039 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.040 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.040 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.041 +05:30 [DBG] Executing DbCommand [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-28 18:34:38.042 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__firstname_0='?' (Size = 4000), @__lastname_1='?' (Size = 4000), @__dateOfBirth_2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientId`, `p`.`DateOfBirth`, `p`.`Firstname`, `p`.`GenderId`, `p`.`Lastname`, `p`.`Middlename`, `p`.`PatientCode`
FROM `Patient` AS `p`
WHERE ((`p`.`Firstname` = @__firstname_0) AND (`p`.`Lastname` = @__lastname_1)) AND (`p`.`DateOfBirth` = @__dateOfBirth_2)
LIMIT 1
2024-08-28 18:34:38.042 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.042 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.042 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.044 +05:30 [DBG] Compiling query expression: 
'DbSet<Gender>()
    .Where(g => g.GenderCode.Equals(__genderCode_0))
    .Select(s => s.GenderId)
    .FirstOrDefault()'
2024-08-28 18:34:38.046 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) g.GenderId
            FROM Gender AS g
            WHERE g.GenderCode == @__genderCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:38.049 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.049 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.049 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.049 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.049 +05:30 [DBG] Executing DbCommand [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-28 18:34:38.050 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__genderCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`
FROM `Gender` AS `g`
WHERE `g`.`GenderCode` = @__genderCode_0
LIMIT 1
2024-08-28 18:34:38.050 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.050 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.050 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.057 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientId.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.065 +05:30 [DBG] Context 'HASDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.065 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.065 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.066 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:38.066 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.066 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.066 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:38.067 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:38.070 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.070 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.071 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-28 18:34:38.073 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Patient` (`DateOfBirth`, `Firstname`, `GenderId`, `Lastname`, `Middlename`, `PatientCode`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `PatientId`
FROM `Patient`
WHERE ROW_COUNT() = 1 AND `PatientId` = LAST_INSERT_ID();
2024-08-28 18:34:38.078 +05:30 [DBG] The foreign key property 'Patient.PatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-28 18:34:38.079 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.079 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:38.082 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:38.082 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.082 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.082 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:38.083 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.083 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:34:38.083 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.083 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.084 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.084 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:38.084 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.084 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.084 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:38.084 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:38.084 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.084 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.085 +05:30 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-28 18:34:38.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Patient` SET `DateOfBirth` = @p0, `Firstname` = @p1, `GenderId` = @p2, `Lastname` = @p3, `Middlename` = @p4, `PatientCode` = @p5
WHERE `PatientId` = @p6;
SELECT ROW_COUNT();
2024-08-28 18:34:38.086 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.086 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:38.086 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:38.086 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.086 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.086 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:38.086 +05:30 [DBG] An entity of type 'Patient' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.087 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.088 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.088 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:38.089 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:38.089 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.089 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.089 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:38.089 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:38.090 +05:30 [DBG] Executing 7 update commands as a batch.
2024-08-28 18:34:38.092 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.092 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.092 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-28 18:34:38.094 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69);
2024-08-28 18:34:38.094 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.094 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:38.095 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:38.095 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.095 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.095 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.095 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 7 entities written to the database.
2024-08-28 18:34:38.096 +05:30 [INF] Setting HTTP status code 201.
2024-08-28 18:34:38.096 +05:30 [INF] Writing value of type 'Patient' as Json.
2024-08-28 18:34:38.097 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients => InsertPatientAsync'
2024-08-28 18:34:38.097 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:38.097 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:38.097 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients - 201 null application/json; charset=utf-8 87.3584ms
2024-08-28 18:34:38.124 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - null null
2024-08-28 18:34:38.124 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-28 18:34:38.124 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:38.124 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:38.124 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:38.124 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:38.124 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:38.124 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/identitytypes - 204 null null 0.7372ms
2024-08-28 18:34:38.125 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - null null
2024-08-28 18:34:38.125 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/identitytypes'
2024-08-28 18:34:38.125 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-28 18:34:38.125 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:38.125 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:38.125 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:38.125 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:38.125 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:38.125 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-28 18:34:38.126 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:38.127 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .OrderBy(o => o.IdentityTypeId)'
2024-08-28 18:34:38.128 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<IdentityType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityType.IdentityTypeId (byte) Required PK AfterSave:Throw, 0], [Property: IdentityType.IdentityTypeCode (string) Required, 1], [Property: IdentityType.IdentityTypeName (string) Required, 2] }
        SELECT i.IdentityTypeId, i.IdentityTypeCode, i.IdentityTypeName
        FROM IdentityType AS i
        ORDER BY i.IdentityTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:34:38.128 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:38.128 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:38.128 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.129 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.129 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-28 18:34:38.129 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`, `i`.`IdentityTypeCode`, `i`.`IdentityTypeName`
FROM `IdentityType` AS `i`
ORDER BY `i`.`IdentityTypeId`
2024-08-28 18:34:38.130 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.132 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.132 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.132 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.132 +05:30 [DBG] Context 'HASDbContext' started tracking 'IdentityType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:38.132 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:38.132 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.132 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:38.132 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:34:38.132 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:34:38.133 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/identitytypes => GetIdentityTypesAsync'
2024-08-28 18:34:38.133 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:38.133 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:38.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/identitytypes - 200 null application/json; charset=utf-8 7.9015ms
2024-08-28 18:34:57.307 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - null null
2024-08-28 18:34:57.307 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-28 18:34:57.308 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:57.308 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:57.308 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:57.308 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:57.308 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:57.308 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/identities - 204 null null 1.1428ms
2024-08-28 18:34:57.309 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/identities - application/json 152
2024-08-28 18:34:57.309 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/identities'
2024-08-28 18:34:57.309 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-28 18:34:57.309 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:57.309 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:57.309 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:57.309 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:57.311 +05:30 [DBG] Authorization was successful.
2024-08-28 18:34:57.311 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:57.311 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-28 18:34:57.311 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000006": started reading request body.
2024-08-28 18:34:57.312 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000006": done reading request body.
2024-08-28 18:34:57.327 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:57.327 +05:30 [DBG] Compiling query expression: 
'DbSet<IdentityType>()
    .Where(i => i.IdentityTypeCode.Equals(__identityTypeCode_0))
    .Select(s => s.IdentityTypeId)
    .FirstOrDefault()'
2024-08-28 18:34:57.329 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) i.IdentityTypeId
            FROM IdentityType AS i
            WHERE i.IdentityTypeCode == @__identityTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:57.329 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:57.329 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:57.329 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.331 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.331 +05:30 [DBG] Executing DbCommand [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-28 18:34:57.331 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__identityTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`IdentityTypeId`
FROM `IdentityType` AS `i`
WHERE `i`.`IdentityTypeCode` = @__identityTypeCode_0
LIMIT 1
2024-08-28 18:34:57.332 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:57.332 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.332 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.334 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientIdentity>()
    .Where(p => p.PatientId.Equals(__patientId_0) && p.IdentityTypeId.Equals(__identityTypeId_1) && p.IdentityNumber.Equals(__Trim_2) && p.IsActive)
    .FirstOrDefault()'
2024-08-28 18:34:57.336 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientIdentity>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientIdentity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientIdentity.PatientIdentityId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientIdentity.Expiry (DateTime?), 1], [Property: PatientIdentity.IdentityNumber (string) Required, 2], [Property: PatientIdentity.IdentityTypeId (byte) Required, 3], [Property: PatientIdentity.IsActive (bool) Required, 4], [Property: PatientIdentity.IssuedBy (string) Required, 5], [Property: PatientIdentity.PatientId (long) Required, 6], [Property: PatientIdentity.PlaceIssued (string), 7] }
            SELECT TOP(1) p.PatientIdentityId, p.Expiry, p.IdentityNumber, p.IdentityTypeId, p.IsActive, p.IssuedBy, p.PatientId, p.PlaceIssued
            FROM PatientIdentity AS p
            WHERE (((p.PatientId == @__patientId_0) && (p.IdentityTypeId == @__identityTypeId_1)) && (p.IdentityNumber == @__Trim_2)) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientIdentity>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:34:57.337 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:57.338 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:57.338 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.338 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.338 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-28 18:34:57.339 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__identityTypeId_1='?' (DbType = Byte), @__Trim_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientIdentityId`, `p`.`Expiry`, `p`.`IdentityNumber`, `p`.`IdentityTypeId`, `p`.`IsActive`, `p`.`IssuedBy`, `p`.`PatientId`, `p`.`PlaceIssued`
FROM `PatientIdentity` AS `p`
WHERE (((`p`.`PatientId` = @__patientId_0) AND (`p`.`IdentityTypeId` = @__identityTypeId_1)) AND (`p`.`IdentityNumber` = @__Trim_2)) AND `p`.`IsActive`
LIMIT 1
2024-08-28 18:34:57.340 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:57.340 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.340 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.341 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientIdentityId.PatientIdentity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.350 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientIdentity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.350 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:57.350 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:57.353 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:57.353 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.354 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.354 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:57.354 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:57.355 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:57.355 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:57.355 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-28 18:34:57.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Byte), @p3='?' (DbType = SByte), @p4='?' (Size = 4000), @p5='?' (DbType = Int64), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientIdentity` (`Expiry`, `IdentityNumber`, `IdentityTypeId`, `IsActive`, `IssuedBy`, `PatientId`, `PlaceIssued`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `PatientIdentityId`
FROM `PatientIdentity`
WHERE ROW_COUNT() = 1 AND `PatientIdentityId` = LAST_INSERT_ID();
2024-08-28 18:34:57.357 +05:30 [DBG] The foreign key property 'PatientIdentity.PatientIdentityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-28 18:34:57.357 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:57.357 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:57.359 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:57.359 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.359 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.359 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:57.359 +05:30 [DBG] An entity of type 'PatientIdentity' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.359 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:34:57.359 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.359 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.360 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:34:57.360 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:34:57.360 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:34:57.360 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.360 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.360 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:34:57.361 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:34:57.361 +05:30 [DBG] Executing 8 update commands as a batch.
2024-08-28 18:34:57.361 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:57.361 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:57.362 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-28 18:34:57.363 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79);
2024-08-28 18:34:57.363 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:57.363 +05:30 [DBG] Committing transaction.
2024-08-28 18:34:57.363 +05:30 [DBG] Committed transaction.
2024-08-28 18:34:57.363 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.364 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.364 +05:30 [DBG] Disposing transaction.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.364 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 8 entities written to the database.
2024-08-28 18:34:57.364 +05:30 [INF] Setting HTTP status code 201.
2024-08-28 18:34:57.365 +05:30 [INF] Writing value of type 'PatientIdentity' as Json.
2024-08-28 18:34:57.366 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/identities => InsertPatientIdentityAsync'
2024-08-28 18:34:57.366 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:57.366 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:57.366 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/identities - 201 null application/json; charset=utf-8 57.3991ms
2024-08-28 18:34:57.396 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - null null
2024-08-28 18:34:57.396 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-28 18:34:57.396 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:34:57.396 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:57.396 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:57.396 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:34:57.396 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:34:57.397 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/addresstypes - 204 null null 0.712ms
2024-08-28 18:34:57.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - null null
2024-08-28 18:34:57.397 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/addresstypes'
2024-08-28 18:34:57.398 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-28 18:34:57.398 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:34:57.398 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:34:57.398 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:34:57.398 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:34:57.399 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:34:57.399 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-28 18:34:57.400 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:34:57.401 +05:30 [DBG] Compiling query expression: 
'DbSet<AddressType>()
    .OrderBy(o => o.AddressTypeId)'
2024-08-28 18:34:57.403 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<AddressType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AddressType.AddressTypeId (byte) Required PK AfterSave:Throw, 0], [Property: AddressType.AddressTypeCode (string) Required, 1], [Property: AddressType.AddressTypeName (string) Required, 2] }
        SELECT a.AddressTypeId, a.AddressTypeCode, a.AddressTypeName
        FROM AddressType AS a
        ORDER BY a.AddressTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AddressType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:34:57.403 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:34:57.403 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:34:57.403 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.404 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.404 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-28 18:34:57.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`, `a`.`AddressTypeCode`, `a`.`AddressTypeName`
FROM `AddressType` AS `a`
ORDER BY `a`.`AddressTypeId`
2024-08-28 18:34:57.405 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.407 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.407 +05:30 [DBG] Context 'HASDbContext' started tracking 'AddressType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:34:57.407 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:34:57.407 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.407 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:34:57.407 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:34:57.408 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:34:57.408 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/addresstypes => GetAddressTypesAsync'
2024-08-28 18:34:57.408 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:34:57.408 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:34:57.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/addresstypes - 200 null application/json; charset=utf-8 11.2872ms
2024-08-28 18:35:08.579 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - null null
2024-08-28 18:35:08.580 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-28 18:35:08.580 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:35:08.580 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:08.580 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:08.580 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:35:08.580 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:35:08.580 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/addresses - 204 null null 0.9364ms
2024-08-28 18:35:08.581 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/addresses - application/json 195
2024-08-28 18:35:08.581 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/addresses'
2024-08-28 18:35:08.581 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-28 18:35:08.581 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:08.581 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:08.582 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:35:08.582 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:35:08.582 +05:30 [DBG] Authorization was successful.
2024-08-28 18:35:08.582 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:35:08.582 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-28 18:35:08.582 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000008": started reading request body.
2024-08-28 18:35:08.582 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:00000008": done reading request body.
2024-08-28 18:35:08.593 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:35:08.594 +05:30 [DBG] Compiling query expression: 
'DbSet<AddressType>()
    .Where(g => g.AddressTypeCode.Equals(__addressTypeCode_0))
    .Select(s => s.AddressTypeId)
    .FirstOrDefault()'
2024-08-28 18:35:08.596 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) a.AddressTypeId
            FROM AddressType AS a
            WHERE a.AddressTypeCode == @__addressTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:08.596 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.596 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.596 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.597 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.597 +05:30 [DBG] Executing DbCommand [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-28 18:35:08.598 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__addressTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`AddressTypeId`
FROM `AddressType` AS `a`
WHERE `a`.`AddressTypeCode` = @__addressTypeCode_0
LIMIT 1
2024-08-28 18:35:08.598 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.598 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.598 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.599 +05:30 [DBG] Compiling query expression: 
'DbSet<State>()
    .Where(g => g.StateCode.Equals(__stateCode_0))
    .Select(s => s.StateId)
    .FirstOrDefault()'
2024-08-28 18:35:08.601 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) s.StateId
            FROM State AS s
            WHERE s.StateCode == @__stateCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:08.601 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.602 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.602 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.602 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.602 +05:30 [DBG] Executing DbCommand [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-28 18:35:08.610 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__stateCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`StateId`
FROM `State` AS `s`
WHERE `s`.`StateCode` = @__stateCode_0
LIMIT 1
2024-08-28 18:35:08.610 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.610 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.610 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.612 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientAddress>()
    .FirstOrDefault(p => p.PatientId.Equals(__patientId_0) && p.AddressTypeId.Equals(__addressTypeId_1) && p.IsActive)'
2024-08-28 18:35:08.615 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientAddress>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientAddress>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientAddress.PatientAddressId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientAddress.AddressLine1 (string) Required, 1], [Property: PatientAddress.AddressLine2 (string), 2], [Property: PatientAddress.AddressLine3 (string), 3], [Property: PatientAddress.AddressTypeId (byte) Required, 4], [Property: PatientAddress.City (string) Required, 5], [Property: PatientAddress.IsActive (bool) Required, 6], [Property: PatientAddress.PatientId (long) Required, 7], [Property: PatientAddress.Pincode (string) Required, 8], [Property: PatientAddress.StateId (byte) Required, 9] }
            SELECT TOP(1) p.PatientAddressId, p.AddressLine1, p.AddressLine2, p.AddressLine3, p.AddressTypeId, p.City, p.IsActive, p.PatientId, p.Pincode, p.StateId
            FROM PatientAddress AS p
            WHERE ((p.PatientId == @__patientId_0) && (p.AddressTypeId == @__addressTypeId_1)) && p.IsActive), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientAddress>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:08.616 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.616 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.616 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.616 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.616 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-28 18:35:08.619 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__addressTypeId_1='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientAddressId`, `p`.`AddressLine1`, `p`.`AddressLine2`, `p`.`AddressLine3`, `p`.`AddressTypeId`, `p`.`City`, `p`.`IsActive`, `p`.`PatientId`, `p`.`Pincode`, `p`.`StateId`
FROM `PatientAddress` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`AddressTypeId` = @__addressTypeId_1)) AND `p`.`IsActive`
LIMIT 1
2024-08-28 18:35:08.619 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.619 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.619 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.621 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientAddressId.PatientAddress'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.630 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.630 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:08.630 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:08.631 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:08.631 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.632 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.632 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:08.632 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:08.633 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.633 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.633 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-28 18:35:08.634 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Byte), @p4='?' (Size = 4000), @p5='?' (DbType = SByte), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientAddress` (`AddressLine1`, `AddressLine2`, `AddressLine3`, `AddressTypeId`, `City`, `IsActive`, `PatientId`, `Pincode`, `StateId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `PatientAddressId`
FROM `PatientAddress`
WHERE ROW_COUNT() = 1 AND `PatientAddressId` = LAST_INSERT_ID();
2024-08-28 18:35:08.635 +05:30 [DBG] The foreign key property 'PatientAddress.PatientAddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-28 18:35:08.635 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.635 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:08.636 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:08.636 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.636 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.636 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:08.636 +05:30 [DBG] An entity of type 'PatientAddress' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.637 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:08.638 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:08.638 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:08.638 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.638 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.638 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:08.639 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:08.639 +05:30 [DBG] Executing 10 update commands as a batch.
2024-08-28 18:35:08.640 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.640 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.641 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-28 18:35:08.642 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime), @p60='?' (Size = 255), @p61='?' (DbType = Int64), @p62='?' (Size = 4000), @p63='?' (DbType = Int64), @p64='?' (Size = 4000), @p65='?' (Size = 4000), @p66='?' (Size = 4000), @p67='?' (DbType = Int64), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime), @p70='?' (Size = 255), @p71='?' (DbType = Int64), @p72='?' (Size = 4000), @p73='?' (DbType = Int64), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Int64), @p78='?' (Size = 4000), @p79='?' (DbType = DateTime), @p80='?' (Size = 255), @p81='?' (DbType = Int64), @p82='?' (Size = 4000), @p83='?' (DbType = Int64), @p84='?' (Size = 4000), @p85='?' (Size = 4000), @p86='?' (Size = 4000), @p87='?' (DbType = Int64), @p88='?' (Size = 4000), @p89='?' (DbType = DateTime), @p90='?' (Size = 255), @p91='?' (DbType = Int64), @p92='?' (Size = 4000), @p93='?' (DbType = Int64), @p94='?' (Size = 4000), @p95='?' (Size = 4000), @p96='?' (Size = 4000), @p97='?' (DbType = Int64), @p98='?' (Size = 4000), @p99='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99);
2024-08-28 18:35:08.642 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.643 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:08.644 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:08.644 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.644 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.644 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.644 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 10 entities written to the database.
2024-08-28 18:35:08.644 +05:30 [INF] Setting HTTP status code 201.
2024-08-28 18:35:08.645 +05:30 [INF] Writing value of type 'PatientAddress' as Json.
2024-08-28 18:35:08.645 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/addresses => InsertPatientAddressAsync'
2024-08-28 18:35:08.645 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:35:08.645 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:35:08.645 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/addresses - 201 null application/json; charset=utf-8 64.5393ms
2024-08-28 18:35:08.675 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:35:08.675 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:35:08.675 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:35:08.675 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:08.675 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:08.675 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:35:08.675 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:35:08.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 1.0961ms
2024-08-28 18:35:08.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:35:08.676 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:35:08.676 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:35:08.676 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:08.676 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:08.677 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:35:08.677 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:35:08.677 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:35:08.677 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:35:08.678 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:35:08.678 +05:30 [DBG] Compiling query expression: 
'DbSet<PhoneType>()
    .OrderBy(o => o.PhoneTypeId)'
2024-08-28 18:35:08.680 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PhoneType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PhoneType.PhoneTypeId (byte) Required PK AfterSave:Throw, 0], [Property: PhoneType.PhoneTypeCode (string) Required, 1], [Property: PhoneType.PhoneTypeName (string) Required, 2] }
        SELECT p.PhoneTypeId, p.PhoneTypeCode, p.PhoneTypeName
        FROM PhoneType AS p
        ORDER BY p.PhoneTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PhoneType>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:35:08.680 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:08.680 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:08.680 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.681 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.681 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:35:08.684 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:35:08.684 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.687 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.687 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:08.687 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:08.687 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.687 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:08.687 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:35:08.688 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:35:08.688 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:35:08.688 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:35:08.688 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:35:08.688 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 12.1357ms
2024-08-28 18:35:17.178 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - null null
2024-08-28 18:35:17.180 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:17.180 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:35:17.180 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:17.180 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:17.180 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:35:17.180 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:35:17.180 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - 204 null null 1.9562ms
2024-08-28 18:35:17.181 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5242/api/patients/phones - application/json 88
2024-08-28 18:35:17.181 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:17.181 +05:30 [DBG] Request matched endpoint 'HTTP: POST /api/patients/phones => InsertPatientPhoneAsync'
2024-08-28 18:35:17.181 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:17.181 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:17.182 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:35:17.182 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:35:17.182 +05:30 [DBG] Authorization was successful.
2024-08-28 18:35:17.182 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:35:17.182 +05:30 [INF] Executing endpoint 'HTTP: POST /api/patients/phones => InsertPatientPhoneAsync'
2024-08-28 18:35:17.182 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000A": started reading request body.
2024-08-28 18:35:17.182 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000A": done reading request body.
2024-08-28 18:35:17.191 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:35:17.192 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientPhone>()
    .Where(p => p.PatientId.Equals(__patientId_0) && p.PhoneNumber.Equals(__Trim_1) && p.IsActive)
    .OrderByDescending(o => o.PatientPhoneId)
    .FirstOrDefault()'
2024-08-28 18:35:17.195 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientPhone>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientPhone>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientPhone.PatientPhoneId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientPhone.IsActive (bool) Required, 1], [Property: PatientPhone.ListedAs (string), 2], [Property: PatientPhone.PatientId (long) Required, 3], [Property: PatientPhone.PhoneNumber (string) Required, 4], [Property: PatientPhone.PhoneTypeId (byte) Required, 5] }
            SELECT TOP(1) p.PatientPhoneId, p.IsActive, p.ListedAs, p.PatientId, p.PhoneNumber, p.PhoneTypeId
            FROM PatientPhone AS p
            WHERE ((p.PatientId == @__patientId_0) && (p.PhoneNumber == @__Trim_1)) && p.IsActive
            ORDER BY p.PatientPhoneId DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientPhone>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:17.196 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:17.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:17.196 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.197 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.197 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:17.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:17.198 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:17.199 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.199 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.200 +05:30 [DBG] Compiling query expression: 
'DbSet<PhoneType>()
    .Where(g => g.PhoneTypeCode.Equals(__phoneTypeCode_0))
    .Select(s => s.PhoneTypeId)
    .FirstOrDefault()'
2024-08-28 18:35:17.201 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<byte>(
    asyncEnumerable: new SingleQueryingEnumerable<byte>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT TOP(1) p.PhoneTypeId
            FROM PhoneType AS p
            WHERE p.PhoneTypeCode == @__phoneTypeCode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, byte>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:17.202 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:17.202 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:17.202 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.202 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.202 +05:30 [DBG] Executing DbCommand [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:17.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:17.203 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:17.203 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.203 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.204 +05:30 [DBG] 'HASDbContext' generated a temporary value for the property 'PatientPhoneId.PatientPhone'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.210 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientPhone' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.210 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:17.210 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:17.211 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:17.211 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.211 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.211 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:17.212 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:17.212 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:17.212 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:17.212 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientPhone` (`IsActive`, `ListedAs`, `PatientId`, `PhoneNumber`, `PhoneTypeId`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `PatientPhoneId`
FROM `PatientPhone`
WHERE ROW_COUNT() = 1 AND `PatientPhoneId` = LAST_INSERT_ID();
2024-08-28 18:35:17.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PatientPhone` (`IsActive`, `ListedAs`, `PatientId`, `PhoneNumber`, `PhoneTypeId`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `PatientPhoneId`
FROM `PatientPhone`
WHERE ROW_COUNT() = 1 AND `PatientPhoneId` = LAST_INSERT_ID();
2024-08-28 18:35:17.216 +05:30 [DBG] The foreign key property 'PatientPhone.PatientPhoneId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-28 18:35:17.216 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:17.216 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:17.217 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:17.217 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.218 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.218 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:17.218 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.218 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:35:17.218 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.218 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.219 +05:30 [DBG] Context 'HASDbContext' started tracking 'DataAuditHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.219 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:17.219 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:17.219 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:17.220 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.220 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.220 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:17.221 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:17.221 +05:30 [DBG] Executing 6 update commands as a batch.
2024-08-28 18:35:17.222 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:17.222 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:17.222 +05:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
2024-08-28 18:35:17.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int64), @p2='?' (Size = 4000), @p3='?' (DbType = Int64), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = Int64), @p12='?' (Size = 4000), @p13='?' (DbType = Int64), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Int64), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime), @p20='?' (Size = 255), @p21='?' (DbType = Int64), @p22='?' (Size = 4000), @p23='?' (DbType = Int64), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (DbType = Int64), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime), @p30='?' (Size = 255), @p31='?' (DbType = Int64), @p32='?' (Size = 4000), @p33='?' (DbType = Int64), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = Int64), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime), @p40='?' (Size = 255), @p41='?' (DbType = Int64), @p42='?' (Size = 4000), @p43='?' (DbType = Int64), @p44='?' (Size = 4000), @p45='?' (Size = 4000), @p46='?' (Size = 4000), @p47='?' (DbType = Int64), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime), @p50='?' (Size = 255), @p51='?' (DbType = Int64), @p52='?' (Size = 4000), @p53='?' (DbType = Int64), @p54='?' (Size = 4000), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (DbType = Int64), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `DataAuditHistory` (`DataAuditHistoryId`, `AppUserId`, `ColumnName`, `CustomerId`, `NewValue`, `OldValue`, `OperationType`, `PrimaryReferenceId`, `TableName`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9),
(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19),
(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49),
(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
2024-08-28 18:35:17.223 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:17.223 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:17.224 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:17.224 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.224 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:17.224 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] An entity of type 'DataAuditHistory' tracked by 'HASDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:17.224 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 6 entities written to the database.
2024-08-28 18:35:17.224 +05:30 [INF] Setting HTTP status code 201.
2024-08-28 18:35:17.225 +05:30 [INF] Writing value of type 'PatientPhone' as Json.
2024-08-28 18:35:17.225 +05:30 [INF] Executed endpoint 'HTTP: POST /api/patients/phones => InsertPatientPhoneAsync'
2024-08-28 18:35:17.225 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:35:17.225 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:35:17.225 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5242/api/patients/phones - 201 null application/json; charset=utf-8 44.6824ms
2024-08-28 18:35:26.816 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - null null
2024-08-28 18:35:26.818 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:26.818 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:35:26.818 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:26.818 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:26.818 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:35:26.818 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:35:26.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - 204 null null 2.9524ms
2024-08-28 18:35:26.819 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/phones - application/json 93
2024-08-28 18:35:26.819 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:26.819 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:26.820 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:26.820 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:26.820 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:35:26.820 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:35:26.820 +05:30 [DBG] Authorization was successful.
2024-08-28 18:35:26.820 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:35:26.820 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:26.821 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000B": started reading request body.
2024-08-28 18:35:26.821 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000B": done reading request body.
2024-08-28 18:35:26.829 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:35:26.830 +05:30 [DBG] Compiling query expression: 
'DbSet<PatientPhone>()
    .Where(p => p.PatientPhoneId.Equals(__patientPhoneId_0))
    .FirstOrDefault()'
2024-08-28 18:35:26.833 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PatientPhone>(
    asyncEnumerable: new SingleQueryingEnumerable<PatientPhone>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PatientPhone.PatientPhoneId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PatientPhone.IsActive (bool) Required, 1], [Property: PatientPhone.ListedAs (string), 2], [Property: PatientPhone.PatientId (long) Required, 3], [Property: PatientPhone.PhoneNumber (string) Required, 4], [Property: PatientPhone.PhoneTypeId (byte) Required, 5] }
            SELECT TOP(1) p.PatientPhoneId, p.IsActive, p.ListedAs, p.PatientId, p.PhoneNumber, p.PhoneTypeId
            FROM PatientPhone AS p
            WHERE p.PatientPhoneId == @__patientPhoneId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PatientPhone>, 
        Health.Api.Data.HASDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-28 18:35:26.833 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:26.834 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:26.834 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.835 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.835 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:26.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:26.836 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientPhone' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:26.836 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:26.836 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.836 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.837 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:26.837 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:26.837 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.837 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.837 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:26.838 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:26.838 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:26.838 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.838 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.838 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:26.838 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:26.838 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.838 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.838 +05:30 [DBG] Executing DbCommand [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:26.839 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:26.839 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:26.839 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.839 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.841 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:26.841 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:26.841 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.841 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.841 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:26.842 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:26.842 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:26.842 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.842 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.843 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:26.843 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:26.843 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:26.843 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:26.843 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.843 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.843 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:26.843 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:26.844 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:26.844 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:26.844 +05:30 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:35:26.844 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:35:26.844 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:26.845 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:26.845 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:26.845 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.845 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:26.845 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:26.845 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:26.845 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:35:26.845 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:26.845 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:26.846 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:26.846 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 0 entities written to the database.
2024-08-28 18:35:26.846 +05:30 [INF] Setting HTTP status code 202.
2024-08-28 18:35:26.846 +05:30 [INF] Writing value of type 'PatientPhone' as Json.
2024-08-28 18:35:26.846 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:26.846 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:35:26.846 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:35:26.846 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/phones - 202 null application/json; charset=utf-8 27.1439ms
2024-08-28 18:35:44.688 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - null null
2024-08-28 18:35:44.688 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:44.688 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:35:44.688 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:44.689 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:44.689 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:35:44.689 +05:30 [DBG] Connection id "0HN67C26ITGIE" completed keep alive response.
2024-08-28 18:35:44.689 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - 204 null null 1.3656ms
2024-08-28 18:35:44.690 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/phones - application/json 93
2024-08-28 18:35:44.690 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:35:44.690 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:44.690 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:35:44.690 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:35:44.691 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:35:44.691 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:35:44.691 +05:30 [DBG] Authorization was successful.
2024-08-28 18:35:44.691 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:35:44.691 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:44.691 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000C": started reading request body.
2024-08-28 18:35:44.691 +05:30 [DBG] Connection id "0HN67C26ITGIF", Request id "0HN67C26ITGIF:0000000C": done reading request body.
2024-08-28 18:35:44.694 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:35:44.695 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:44.696 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:44.696 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.696 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.697 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:44.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:44.698 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientPhone' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:44.698 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:44.698 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.698 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.699 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:44.699 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:44.699 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.699 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.699 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:44.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:35:44.700 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:44.700 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.700 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.701 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:44.701 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:44.701 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.702 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.702 +05:30 [DBG] Executing DbCommand [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:44.702 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:35:44.703 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:44.703 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.703 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.704 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:44.704 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:44.704 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.704 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.704 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:44.705 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:35:44.705 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:44.705 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.705 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.705 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:44.705 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:44.705 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:44.706 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:44.706 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.706 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.706 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:35:44.707 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:35:44.707 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:35:44.707 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:35:44.707 +05:30 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:35:44.707 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:35:44.708 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:35:44.708 +05:30 [DBG] Committing transaction.
2024-08-28 18:35:44.708 +05:30 [DBG] Committed transaction.
2024-08-28 18:35:44.708 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.708 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:35:44.708 +05:30 [DBG] Disposing transaction.
2024-08-28 18:35:44.708 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:35:44.708 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:35:44.708 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:35:44.708 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:35:44.708 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:35:44.708 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 0 entities written to the database.
2024-08-28 18:35:44.708 +05:30 [INF] Setting HTTP status code 202.
2024-08-28 18:35:44.708 +05:30 [INF] Writing value of type 'PatientPhone' as Json.
2024-08-28 18:35:44.709 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:35:44.709 +05:30 [DBG] Connection id "0HN67C26ITGIF" completed keep alive response.
2024-08-28 18:35:44.709 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:35:44.709 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/phones - 202 null application/json; charset=utf-8 19.3104ms
2024-08-28 18:35:56.999 +05:30 [DBG] Connection id "0HN67C26ITGIE" received FIN.
2024-08-28 18:35:56.999 +05:30 [DBG] Connection id "0HN67C26ITGIF" received FIN.
2024-08-28 18:35:57.000 +05:30 [DBG] Connection id "0HN67C26ITGIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:35:57.000 +05:30 [DBG] Connection id "0HN67C26ITGIE" disconnecting.
2024-08-28 18:35:57.000 +05:30 [DBG] Connection id "0HN67C26ITGIF" disconnecting.
2024-08-28 18:35:57.001 +05:30 [DBG] Connection id "0HN67C26ITGIF" stopped.
2024-08-28 18:35:57.001 +05:30 [DBG] Connection id "0HN67C26ITGIE" stopped.
2024-08-28 18:35:57.001 +05:30 [DBG] Connection id "0HN67C26ITGIF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:37:03.720 +05:30 [DBG] Connection id "0HN67C26ITGIG" accepted.
2024-08-28 18:37:03.721 +05:30 [DBG] Connection id "0HN67C26ITGIG" started.
2024-08-28 18:37:03.723 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:37:03.723 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:37:03.723 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:37:03.724 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:37:03.724 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:37:03.724 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:37:03.724 +05:30 [DBG] Connection id "0HN67C26ITGIG" completed keep alive response.
2024-08-28 18:37:03.724 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 1.0894ms
2024-08-28 18:37:03.725 +05:30 [DBG] Connection id "0HN67C26ITGIH" accepted.
2024-08-28 18:37:03.725 +05:30 [DBG] Connection id "0HN67C26ITGIH" started.
2024-08-28 18:37:03.725 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:37:03.725 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:37:03.725 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:03.725 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:37:03.725 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:37:03.725 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:37:03.726 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:37:03.726 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:37:03.726 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:03.727 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:37:03.727 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:37:03.728 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:37:03.728 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:37:03.728 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:37:03.728 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:37:03.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:37:03.729 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:03.730 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:03.730 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:03.730 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:37:03.730 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:37:03.730 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:37:03.730 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:37:03.730 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:37:03.730 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:03.730 +05:30 [DBG] Connection id "0HN67C26ITGIH" completed keep alive response.
2024-08-28 18:37:03.730 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:37:03.730 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 5.6298ms
2024-08-28 18:37:07.059 +05:30 [DBG] Connection id "0HN67C26ITGIG" received FIN.
2024-08-28 18:37:07.059 +05:30 [DBG] Connection id "0HN67C26ITGIH" received FIN.
2024-08-28 18:37:07.059 +05:30 [DBG] Connection id "0HN67C26ITGIG" disconnecting.
2024-08-28 18:37:07.061 +05:30 [DBG] Connection id "0HN67C26ITGIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:37:07.062 +05:30 [DBG] Connection id "0HN67C26ITGIH" disconnecting.
2024-08-28 18:37:07.062 +05:30 [DBG] Connection id "0HN67C26ITGIH" stopped.
2024-08-28 18:37:07.062 +05:30 [DBG] Connection id "0HN67C26ITGIH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:37:07.063 +05:30 [DBG] Connection id "0HN67C26ITGIG" stopped.
2024-08-28 18:37:54.000 +05:30 [DBG] Connection id "0HN67C26ITGII" accepted.
2024-08-28 18:37:54.000 +05:30 [DBG] Connection id "0HN67C26ITGII" started.
2024-08-28 18:37:54.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:37:54.001 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:37:54.001 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:37:54.002 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:37:54.002 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:37:54.002 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:37:54.002 +05:30 [DBG] Connection id "0HN67C26ITGII" completed keep alive response.
2024-08-28 18:37:54.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 1.0604ms
2024-08-28 18:37:54.003 +05:30 [DBG] Connection id "0HN67C26ITGIJ" accepted.
2024-08-28 18:37:54.003 +05:30 [DBG] Connection id "0HN67C26ITGIJ" started.
2024-08-28 18:37:54.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:37:54.004 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:37:54.004 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:54.004 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:37:54.004 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:37:54.005 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:37:54.005 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:37:54.005 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:37:54.005 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:54.007 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:37:54.008 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:37:54.008 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:37:54.008 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:37:54.009 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:37:54.009 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:37:54.009 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:37:54.010 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:54.010 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:54.010 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:37:54.010 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:37:54.010 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:37:54.010 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:37:54.010 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:37:54.010 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:37:54.011 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:37:54.011 +05:30 [DBG] Connection id "0HN67C26ITGIJ" completed keep alive response.
2024-08-28 18:37:54.011 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:37:54.011 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 6.9478ms
2024-08-28 18:37:57.068 +05:30 [DBG] Connection id "0HN67C26ITGII" received FIN.
2024-08-28 18:37:57.068 +05:30 [DBG] Connection id "0HN67C26ITGII" disconnecting.
2024-08-28 18:37:57.068 +05:30 [DBG] Connection id "0HN67C26ITGIJ" received FIN.
2024-08-28 18:37:57.068 +05:30 [DBG] Connection id "0HN67C26ITGII" stopped.
2024-08-28 18:37:57.068 +05:30 [DBG] Connection id "0HN67C26ITGIJ" disconnecting.
2024-08-28 18:37:57.069 +05:30 [DBG] Connection id "0HN67C26ITGIJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:37:57.070 +05:30 [DBG] Connection id "0HN67C26ITGII" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:37:57.074 +05:30 [DBG] Connection id "0HN67C26ITGIJ" stopped.
2024-08-28 18:38:26.207 +05:30 [DBG] Connection id "0HN67C26ITGIK" accepted.
2024-08-28 18:38:26.208 +05:30 [DBG] Connection id "0HN67C26ITGIK" started.
2024-08-28 18:38:26.208 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:38:26.208 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:38:26.208 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:38:26.208 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:26.208 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:26.208 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:38:26.208 +05:30 [DBG] Connection id "0HN67C26ITGIK" completed keep alive response.
2024-08-28 18:38:26.209 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 1.13ms
2024-08-28 18:38:26.209 +05:30 [DBG] Connection id "0HN67C26ITGIL" accepted.
2024-08-28 18:38:26.209 +05:30 [DBG] Connection id "0HN67C26ITGIL" started.
2024-08-28 18:38:26.209 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:38:26.210 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:38:26.210 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:26.210 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:26.210 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:26.210 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:38:26.210 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:38:26.210 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:38:26.210 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:26.210 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:38:26.211 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:26.211 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:26.211 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:26.212 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:26.212 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:38:26.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:38:26.213 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:26.213 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:26.213 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:26.213 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:26.213 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:26.213 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:26.213 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:38:26.214 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:38:26.214 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:26.214 +05:30 [DBG] Connection id "0HN67C26ITGIL" completed keep alive response.
2024-08-28 18:38:26.214 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:38:26.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 4.2985ms
2024-08-28 18:38:27.073 +05:30 [DBG] Connection id "0HN67C26ITGIL" received FIN.
2024-08-28 18:38:27.073 +05:30 [DBG] Connection id "0HN67C26ITGIK" received FIN.
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIK" disconnecting.
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIL" disconnecting.
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIK" stopped.
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:27.074 +05:30 [DBG] Connection id "0HN67C26ITGIL" stopped.
2024-08-28 18:38:39.616 +05:30 [DBG] Connection id "0HN67C26ITGIM" accepted.
2024-08-28 18:38:39.616 +05:30 [DBG] Connection id "0HN67C26ITGIM" started.
2024-08-28 18:38:39.617 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:38:39.617 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:38:39.617 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:38:39.617 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:39.617 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:39.617 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:38:39.618 +05:30 [DBG] Connection id "0HN67C26ITGIM" completed keep alive response.
2024-08-28 18:38:39.618 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 0.9727ms
2024-08-28 18:38:39.619 +05:30 [DBG] Connection id "0HN67C26ITGIN" accepted.
2024-08-28 18:38:39.619 +05:30 [DBG] Connection id "0HN67C26ITGIN" started.
2024-08-28 18:38:39.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:38:39.619 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:38:39.619 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:39.619 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:39.620 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:39.620 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:38:39.620 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:38:39.620 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:38:39.620 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:39.620 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:38:39.620 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:39.621 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:39.621 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:39.621 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:39.621 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:38:39.622 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:38:39.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:39.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:39.622 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:39.622 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:39.622 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:39.622 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:39.622 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:38:39.622 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:38:39.622 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:38:39.622 +05:30 [DBG] Connection id "0HN67C26ITGIN" completed keep alive response.
2024-08-28 18:38:39.622 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:38:39.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 3.338ms
2024-08-28 18:38:42.077 +05:30 [DBG] Connection id "0HN67C26ITGIN" received FIN.
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIM" received FIN.
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIN" disconnecting.
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIM" disconnecting.
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIM" stopped.
2024-08-28 18:38:42.078 +05:30 [DBG] Connection id "0HN67C26ITGIM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:42.079 +05:30 [DBG] Connection id "0HN67C26ITGIN" stopped.
2024-08-28 18:38:42.776 +05:30 [DBG] Connection id "0HN67C26ITGIO" accepted.
2024-08-28 18:38:42.777 +05:30 [DBG] Connection id "0HN67C26ITGIO" started.
2024-08-28 18:38:42.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - null null
2024-08-28 18:38:42.777 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:38:42.777 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:38:42.777 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.777 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.777 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:38:42.777 +05:30 [DBG] Connection id "0HN67C26ITGIO" completed keep alive response.
2024-08-28 18:38:42.778 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - 204 null null 0.796ms
2024-08-28 18:38:42.779 +05:30 [DBG] Connection id "0HN67C26ITGIP" accepted.
2024-08-28 18:38:42.779 +05:30 [DBG] Connection id "0HN67C26ITGIP" started.
2024-08-28 18:38:42.779 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/phones - application/json 93
2024-08-28 18:38:42.779 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:38:42.779 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:38:42.780 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.780 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.780 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:38:42.780 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:38:42.781 +05:30 [DBG] Authorization was successful.
2024-08-28 18:38:42.781 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:38:42.781 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:38:42.781 +05:30 [DBG] Connection id "0HN67C26ITGIP", Request id "0HN67C26ITGIP:00000001": started reading request body.
2024-08-28 18:38:42.781 +05:30 [DBG] Connection id "0HN67C26ITGIP", Request id "0HN67C26ITGIP:00000001": done reading request body.
2024-08-28 18:38:42.783 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:38:42.784 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.784 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.784 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.785 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.785 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:38:42.787 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:38:42.788 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientPhone' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.788 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.788 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.789 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.790 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.791 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.791 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.791 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.791 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:38:42.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:38:42.792 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.792 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.793 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.793 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.793 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.793 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.795 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.795 +05:30 [DBG] Executing DbCommand [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:38:42.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:38:42.796 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.796 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.796 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.797 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.797 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.797 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.797 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.797 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:38:42.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:38:42.799 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.799 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.799 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.799 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.799 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:38:42.799 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:38:42.800 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:38:42.800 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.800 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.800 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:38:42.801 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:38:42.802 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.803 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.803 +05:30 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:38:42.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:38:42.805 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.805 +05:30 [DBG] Committing transaction.
2024-08-28 18:38:42.805 +05:30 [DBG] Committed transaction.
2024-08-28 18:38:42.805 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.805 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.805 +05:30 [DBG] Disposing transaction.
2024-08-28 18:38:42.806 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.806 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:38:42.806 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:38:42.806 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:38:42.806 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:38:42.806 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 0 entities written to the database.
2024-08-28 18:38:42.806 +05:30 [INF] Setting HTTP status code 202.
2024-08-28 18:38:42.806 +05:30 [INF] Writing value of type 'PatientPhone' as Json.
2024-08-28 18:38:42.807 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:38:42.807 +05:30 [DBG] Connection id "0HN67C26ITGIP" completed keep alive response.
2024-08-28 18:38:42.807 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:38:42.807 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/phones - 202 null application/json; charset=utf-8 27.7708ms
2024-08-28 18:38:42.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:38:42.858 +05:30 [DBG] Connection id "0HN67C26ITGIQ" accepted.
2024-08-28 18:38:42.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:38:42.858 +05:30 [DBG] Connection id "0HN67C26ITGIQ" started.
2024-08-28 18:38:42.858 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:38:42.858 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:38:42.859 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.859 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:38:42.859 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:38:42.859 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:38:42.859 +05:30 [DBG] Connection id "0HN67C26ITGIO" completed keep alive response.
2024-08-28 18:38:42.859 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - 204 null null 1.2283ms
2024-08-28 18:38:42.859 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.859 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:38:42.859 +05:30 [DBG] Connection id "0HN67C26ITGIQ" completed keep alive response.
2024-08-28 18:38:42.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.8095ms
2024-08-28 18:38:42.860 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:38:42.860 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:38:42.861 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:38:42.861 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.861 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.862 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:38:42.862 +05:30 [DBG] Connection id "0HN67C26ITGIR" accepted.
2024-08-28 18:38:42.862 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:38:42.862 +05:30 [DBG] Connection id "0HN67C26ITGIR" started.
2024-08-28 18:38:42.862 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:38:42.862 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:38:42.862 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:38:42.863 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:38:42.863 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:38:42.863 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:38:42.863 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:38:42.863 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:38:42.863 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:38:42.863 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:38:42.864 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:38:42.864 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:38:42.864 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.864 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.865 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.865 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:38:42.865 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.865 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:38:42.865 +05:30 [DBG] Compiling query expression: 
'DbSet<HealthVital>()
    .OrderBy(o => o.HealthVitalId)'
2024-08-28 18:38:42.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:38:42.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.866 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.866 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.866 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.866 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.866 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:38:42.866 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:38:42.866 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:38:42.866 +05:30 [DBG] Connection id "0HN67C26ITGIR" completed keep alive response.
2024-08-28 18:38:42.866 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:38:42.866 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 3.9741ms
2024-08-28 18:38:42.868 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthVital>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthVital.HealthVitalId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthVital.HealthVitalCode (string) Required MaxLength(50), 1], [Property: HealthVital.HealthVitalName (string) Required MaxLength(100), 2], [Property: HealthVital.HealthVitalUnit (string) Required MaxLength(50), 3] }
        SELECT h.HealthVitalId, h.HealthVitalCode, h.HealthVitalName, h.HealthVitalUnit
        FROM healthvital AS h
        ORDER BY h.HealthVitalId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthVital>, 
    Health.Api.Data.HASDbContext, 
    False, 
    False, 
    True
)'
2024-08-28 18:38:42.869 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:38:42.869 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:38:42.869 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.870 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.870 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:38:42.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:38:42.876 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.878 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:38:42.879 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:38:42.879 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.879 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:38:42.879 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:38:42.880 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:38:42.881 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:38:42.881 +05:30 [DBG] Connection id "0HN67C26ITGIP" completed keep alive response.
2024-08-28 18:38:42.881 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:38:42.881 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 21.4475ms
2024-08-28 18:38:47.077 +05:30 [DBG] Connection id "0HN67C26ITGIR" received FIN.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIO" received FIN.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIQ" received FIN.
2024-08-28 18:38:47.077 +05:30 [DBG] Connection id "0HN67C26ITGIP" received FIN.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIR" disconnecting.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIO" disconnecting.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIQ" disconnecting.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIQ" stopped.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIP" disconnecting.
2024-08-28 18:38:47.078 +05:30 [DBG] Connection id "0HN67C26ITGIO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:47.079 +05:30 [DBG] Connection id "0HN67C26ITGIR" stopped.
2024-08-28 18:38:47.079 +05:30 [DBG] Connection id "0HN67C26ITGIP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:47.079 +05:30 [DBG] Connection id "0HN67C26ITGIQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:38:47.079 +05:30 [DBG] Connection id "0HN67C26ITGIP" stopped.
2024-08-28 18:38:47.079 +05:30 [DBG] Connection id "0HN67C26ITGIO" stopped.
2024-08-28 18:39:49.856 +05:30 [DBG] Connection id "0HN67C26ITGIS" accepted.
2024-08-28 18:39:49.857 +05:30 [DBG] Connection id "0HN67C26ITGIS" started.
2024-08-28 18:39:49.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:39:49.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:39:49.858 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:39:49.858 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:49.858 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:49.858 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:39:49.859 +05:30 [DBG] Connection id "0HN67C26ITGIS" completed keep alive response.
2024-08-28 18:39:49.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 1.2682ms
2024-08-28 18:39:49.860 +05:30 [DBG] Connection id "0HN67C26ITGIT" accepted.
2024-08-28 18:39:49.860 +05:30 [DBG] Connection id "0HN67C26ITGIT" started.
2024-08-28 18:39:49.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:39:49.861 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:39:49.861 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:39:49.861 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:49.862 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:49.870 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:39:49.871 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:39:49.872 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:39:49.872 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:39:49.875 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:39:49.875 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:49.875 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:49.875 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:49.876 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:49.876 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:39:49.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:39:49.877 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:49.877 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:49.877 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:49.878 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:49.878 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:49.878 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:49.878 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:39:49.879 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:39:49.879 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:39:49.879 +05:30 [DBG] Connection id "0HN67C26ITGIT" completed keep alive response.
2024-08-28 18:39:49.879 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:39:49.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 18.5893ms
2024-08-28 18:39:51.654 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - null null
2024-08-28 18:39:51.655 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:39:51.655 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:39:51.655 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.655 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.655 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:39:51.655 +05:30 [DBG] Connection id "0HN67C26ITGIS" completed keep alive response.
2024-08-28 18:39:51.655 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/patients/phones - 204 null null 0.9552ms
2024-08-28 18:39:51.656 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5242/api/patients/phones - application/json 93
2024-08-28 18:39:51.657 +05:30 [DBG] 1 candidate(s) found for the request path '/api/patients/phones'
2024-08-28 18:39:51.657 +05:30 [DBG] Request matched endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:39:51.657 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.657 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.658 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:39:51.658 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:39:51.658 +05:30 [DBG] Authorization was successful.
2024-08-28 18:39:51.658 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:39:51.658 +05:30 [INF] Executing endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:39:51.659 +05:30 [DBG] Connection id "0HN67C26ITGIT", Request id "0HN67C26ITGIT:00000002": started reading request body.
2024-08-28 18:39:51.659 +05:30 [DBG] Connection id "0HN67C26ITGIT", Request id "0HN67C26ITGIT:00000002": done reading request body.
2024-08-28 18:39:51.660 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:39:51.660 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.661 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.661 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.662 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.662 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:39:51.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:39:51.663 +05:30 [DBG] Context 'HASDbContext' started tracking 'PatientPhone' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.664 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.664 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.664 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.664 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.665 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.665 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.665 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.665 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:39:51.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int64), @__Trim_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE ((`p`.`PatientId` = @__patientId_0) AND (`p`.`PhoneNumber` = @__Trim_1)) AND `p`.`IsActive`
ORDER BY `p`.`PatientPhoneId` DESC
LIMIT 1
2024-08-28 18:39:51.666 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.666 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.666 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.667 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.667 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.667 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.668 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.668 +05:30 [DBG] Executing DbCommand [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:39:51.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__phoneTypeCode_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`
FROM `PhoneType` AS `p`
WHERE `p`.`PhoneTypeCode` = @__phoneTypeCode_0
LIMIT 1
2024-08-28 18:39:51.669 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.669 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.669 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.670 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.670 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.670 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.670 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.670 +05:30 [DBG] Executing DbCommand [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:39:51.671 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__patientPhoneId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PatientPhoneId`, `p`.`IsActive`, `p`.`ListedAs`, `p`.`PatientId`, `p`.`PhoneNumber`, `p`.`PhoneTypeId`
FROM `PatientPhone` AS `p`
WHERE `p`.`PatientPhoneId` = @__patientPhoneId_0
LIMIT 1
2024-08-28 18:39:51.671 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.671 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.671 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.671 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.671 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:39:51.671 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:39:51.671 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:39:51.672 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.672 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.672 +05:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-28 18:39:51.673 +05:30 [DBG] Began transaction with isolation level 'RepeatableRead'.
2024-08-28 18:39:51.673 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.673 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.673 +05:30 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:39:51.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int64), @p0='?' (DbType = SByte), @p1='?' (Size = 4000), @p2='?' (DbType = Int64), @p3='?' (Size = 4000), @p4='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
UPDATE `PatientPhone` SET `IsActive` = @p0, `ListedAs` = @p1, `PatientId` = @p2, `PhoneNumber` = @p3, `PhoneTypeId` = @p4
WHERE `PatientPhoneId` = @p5;
SELECT ROW_COUNT();
2024-08-28 18:39:51.674 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.674 +05:30 [DBG] Committing transaction.
2024-08-28 18:39:51.674 +05:30 [DBG] Committed transaction.
2024-08-28 18:39:51.674 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.674 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.674 +05:30 [DBG] Disposing transaction.
2024-08-28 18:39:51.674 +05:30 [DBG] An entity of type 'PatientPhone' tracked by 'HASDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.674 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 1 entities written to the database.
2024-08-28 18:39:51.675 +05:30 [DBG] SaveChanges starting for 'HASDbContext'.
2024-08-28 18:39:51.675 +05:30 [DBG] DetectChanges starting for 'HASDbContext'.
2024-08-28 18:39:51.675 +05:30 [DBG] DetectChanges completed for 'HASDbContext'.
2024-08-28 18:39:51.675 +05:30 [DBG] SaveChanges completed for 'HASDbContext' with 0 entities written to the database.
2024-08-28 18:39:51.675 +05:30 [INF] Setting HTTP status code 202.
2024-08-28 18:39:51.675 +05:30 [INF] Writing value of type 'PatientPhone' as Json.
2024-08-28 18:39:51.675 +05:30 [INF] Executed endpoint 'HTTP: PUT /api/patients/phones => UpdatePatientPhoneAsync'
2024-08-28 18:39:51.675 +05:30 [DBG] Connection id "0HN67C26ITGIT" completed keep alive response.
2024-08-28 18:39:51.675 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:39:51.675 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5242/api/patients/phones - 202 null application/json; charset=utf-8 18.8961ms
2024-08-28 18:39:51.717 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:39:51.717 +05:30 [DBG] Connection id "0HN67C26ITGIU" accepted.
2024-08-28 18:39:51.718 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:39:51.718 +05:30 [DBG] Connection id "0HN67C26ITGIU" started.
2024-08-28 18:39:51.718 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:39:51.718 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:39:51.718 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.718 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:39:51.718 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:39:51.718 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:39:51.718 +05:30 [DBG] Connection id "0HN67C26ITGIS" completed keep alive response.
2024-08-28 18:39:51.718 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.719 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.719 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:39:51.718 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - 204 null null 1.0639ms
2024-08-28 18:39:51.719 +05:30 [DBG] Connection id "0HN67C26ITGIU" completed keep alive response.
2024-08-28 18:39:51.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.826ms
2024-08-28 18:39:51.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:39:51.720 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:39:51.720 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:39:51.720 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.720 +05:30 [DBG] Connection id "0HN67C26ITGIV" accepted.
2024-08-28 18:39:51.720 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.720 +05:30 [DBG] Connection id "0HN67C26ITGIV" started.
2024-08-28 18:39:51.721 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:39:51.721 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:39:51.721 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:39:51.721 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:39:51.721 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:39:51.721 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:39:51.721 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:39:51.721 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:39:51.721 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:39:51.721 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:39:51.721 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:39:51.721 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:39:51.721 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:39:51.722 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:39:51.722 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:39:51.722 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.722 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:39:51.722 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.722 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:39:51.722 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.722 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.723 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.723 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:39:51.723 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:39:51.723 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.724 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.725 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.725 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.725 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.725 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:39:51.725 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:39:51.725 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:39:51.725 +05:30 [DBG] Connection id "0HN67C26ITGIT" completed keep alive response.
2024-08-28 18:39:51.725 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:39:51.725 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 5.2713ms
2024-08-28 18:39:51.743 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.743 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:39:51.743 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:39:51.743 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.743 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:39:51.744 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:39:51.744 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.744 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:39:51.744 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:39:51.744 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:39:51.744 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:39:51.744 +05:30 [DBG] Connection id "0HN67C26ITGIV" completed keep alive response.
2024-08-28 18:39:51.744 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:39:51.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 23.4205ms
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIT" received FIN.
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIV" received FIN.
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIS" received FIN.
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIT" disconnecting.
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIU" received FIN.
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:39:52.090 +05:30 [DBG] Connection id "0HN67C26ITGIV" disconnecting.
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIS" disconnecting.
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIU" disconnecting.
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:39:52.091 +05:30 [DBG] Connection id "0HN67C26ITGIU" stopped.
2024-08-28 18:39:52.092 +05:30 [DBG] Connection id "0HN67C26ITGIT" stopped.
2024-08-28 18:39:52.092 +05:30 [DBG] Connection id "0HN67C26ITGIV" stopped.
2024-08-28 18:39:52.092 +05:30 [DBG] Connection id "0HN67C26ITGIS" stopped.
2024-08-28 18:41:01.497 +05:30 [DBG] Connection id "0HN67C26ITGJ0" accepted.
2024-08-28 18:41:01.498 +05:30 [DBG] Connection id "0HN67C26ITGJ0" started.
2024-08-28 18:41:01.498 +05:30 [DBG] Connection id "0HN67C26ITGJ1" accepted.
2024-08-28 18:41:01.498 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:41:01.498 +05:30 [DBG] Connection id "0HN67C26ITGJ1" started.
2024-08-28 18:41:01.498 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:41:01.498 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:41:01.498 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:41:01.498 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:41:01.498 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:41:01.498 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:41:01.498 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:41:01.498 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:41:01.498 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:41:01.498 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:41:01.498 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:41:01.499 +05:30 [DBG] Connection id "0HN67C26ITGJ0" completed keep alive response.
2024-08-28 18:41:01.499 +05:30 [DBG] Connection id "0HN67C26ITGJ1" completed keep alive response.
2024-08-28 18:41:01.499 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - 204 null null 0.4641ms
2024-08-28 18:41:01.499 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 0.3735ms
2024-08-28 18:41:01.499 +05:30 [DBG] Connection id "0HN67C26ITGJ2" accepted.
2024-08-28 18:41:01.499 +05:30 [DBG] Connection id "0HN67C26ITGJ2" started.
2024-08-28 18:41:01.500 +05:30 [DBG] Connection id "0HN67C26ITGJ3" accepted.
2024-08-28 18:41:01.500 +05:30 [DBG] Connection id "0HN67C26ITGJ3" started.
2024-08-28 18:41:01.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:41:01.500 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:41:01.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:41:01.500 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:41:01.501 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:41:01.501 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:41:01.501 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:41:01.501 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:41:01.501 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:41:01.501 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:41:01.501 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:41:01.501 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:41:01.501 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:41:01.501 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:41:01.501 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:41:01.502 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:41:01.502 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:41:01.502 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:41:01.502 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:41:01.503 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:41:01.503 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:41:01.503 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:41:01.503 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.503 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:41:01.503 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:41:01.503 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.504 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.504 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:41:01.504 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.504 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:41:01.504 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:41:01.504 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:41:01.504 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.504 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.504 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.504 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.504 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] Connection id "0HN67C26ITGJ3" completed keep alive response.
2024-08-28 18:41:01.505 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.505 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:41:01.506 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 5.4907ms
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.506 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.507 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:41:01.507 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:41:01.507 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.507 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:41:01.507 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:41:01.507 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:41:01.507 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:41:01.507 +05:30 [DBG] Connection id "0HN67C26ITGJ2" completed keep alive response.
2024-08-28 18:41:01.507 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:41:01.507 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 7.2825ms
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ0" received FIN.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ1" received FIN.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ2" received FIN.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ3" received FIN.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ2" disconnecting.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ3" disconnecting.
2024-08-28 18:41:02.104 +05:30 [DBG] Connection id "0HN67C26ITGJ2" stopped.
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ0" disconnecting.
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ1" disconnecting.
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ0" stopped.
2024-08-28 18:41:02.105 +05:30 [DBG] Connection id "0HN67C26ITGJ1" stopped.
2024-08-28 18:41:02.106 +05:30 [DBG] Connection id "0HN67C26ITGJ3" stopped.
2024-08-28 18:43:01.705 +05:30 [DBG] Connection id "0HN67C26ITGJ4" accepted.
2024-08-28 18:43:01.706 +05:30 [DBG] Connection id "0HN67C26ITGJ4" started.
2024-08-28 18:43:01.706 +05:30 [DBG] Connection id "0HN67C26ITGJ5" accepted.
2024-08-28 18:43:01.706 +05:30 [DBG] Connection id "0HN67C26ITGJ5" started.
2024-08-28 18:43:01.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:43:01.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:43:01.707 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:43:01.707 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:43:01.707 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:43:01.707 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:43:01.708 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:43:01.708 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:43:01.708 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:43:01.708 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:43:01.708 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:43:01.708 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:43:01.708 +05:30 [DBG] Connection id "0HN67C26ITGJ5" completed keep alive response.
2024-08-28 18:43:01.708 +05:30 [DBG] Connection id "0HN67C26ITGJ4" completed keep alive response.
2024-08-28 18:43:01.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - 204 null null 1.6ms
2024-08-28 18:43:01.708 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.2238ms
2024-08-28 18:43:01.710 +05:30 [DBG] Connection id "0HN67C26ITGJ6" accepted.
2024-08-28 18:43:01.710 +05:30 [DBG] Connection id "0HN67C26ITGJ6" started.
2024-08-28 18:43:01.710 +05:30 [DBG] Connection id "0HN67C26ITGJ7" accepted.
2024-08-28 18:43:01.710 +05:30 [DBG] Connection id "0HN67C26ITGJ7" started.
2024-08-28 18:43:01.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:43:01.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:43:01.711 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:43:01.711 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:43:01.711 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:43:01.711 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:43:01.711 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:43:01.711 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:43:01.711 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:43:01.711 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:43:01.712 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:43:01.712 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:43:01.712 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:43:01.712 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:43:01.713 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:43:01.713 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:43:01.713 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:43:01.713 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:43:01.714 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:43:01.714 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:43:01.715 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:43:01.715 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:43:01.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:43:01.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:43:01.715 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.715 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.716 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.716 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.716 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:43:01.716 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:43:01.717 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:43:01.717 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:43:01.717 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.718 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:43:01.718 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Connection id "0HN67C26ITGJ6" completed keep alive response.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 8.478ms
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.719 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.720 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.720 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.720 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.720 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:43:01.720 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:43:01.720 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.720 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:43:01.721 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:43:01.721 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:43:01.721 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:43:01.721 +05:30 [DBG] Connection id "0HN67C26ITGJ7" completed keep alive response.
2024-08-28 18:43:01.721 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:43:01.721 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 10.8053ms
2024-08-28 18:43:02.128 +05:30 [DBG] Connection id "0HN67C26ITGJ6" received FIN.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ6" disconnecting.
2024-08-28 18:43:02.128 +05:30 [DBG] Connection id "0HN67C26ITGJ4" received FIN.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ4" disconnecting.
2024-08-28 18:43:02.128 +05:30 [DBG] Connection id "0HN67C26ITGJ7" received FIN.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ7" disconnecting.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ6" stopped.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ7" stopped.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:43:02.128 +05:30 [DBG] Connection id "0HN67C26ITGJ5" received FIN.
2024-08-28 18:43:02.129 +05:30 [DBG] Connection id "0HN67C26ITGJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:43:02.130 +05:30 [DBG] Connection id "0HN67C26ITGJ5" disconnecting.
2024-08-28 18:43:02.130 +05:30 [DBG] Connection id "0HN67C26ITGJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:43:02.130 +05:30 [DBG] Connection id "0HN67C26ITGJ4" stopped.
2024-08-28 18:43:02.130 +05:30 [DBG] Connection id "0HN67C26ITGJ5" stopped.
2024-08-28 18:46:01.719 +05:30 [DBG] Connection id "0HN67C26ITGJ8" accepted.
2024-08-28 18:46:01.720 +05:30 [DBG] Connection id "0HN67C26ITGJ8" started.
2024-08-28 18:46:01.721 +05:30 [DBG] Connection id "0HN67C26ITGJ9" accepted.
2024-08-28 18:46:01.721 +05:30 [DBG] Connection id "0HN67C26ITGJ9" started.
2024-08-28 18:46:01.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:46:01.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - null null
2024-08-28 18:46:01.722 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:46:01.722 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:46:01.722 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:46:01.722 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:46:01.722 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:01.722 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:01.722 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:01.722 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:01.722 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:46:01.722 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:46:01.722 +05:30 [DBG] Connection id "0HN67C26ITGJ8" completed keep alive response.
2024-08-28 18:46:01.722 +05:30 [DBG] Connection id "0HN67C26ITGJ9" completed keep alive response.
2024-08-28 18:46:01.722 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/healthvitals - 204 null null 1.0783ms
2024-08-28 18:46:01.722 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/genders - 204 null null 1.1474ms
2024-08-28 18:46:01.723 +05:30 [DBG] Connection id "0HN67C26ITGJA" accepted.
2024-08-28 18:46:01.723 +05:30 [DBG] Connection id "0HN67C26ITGJA" started.
2024-08-28 18:46:01.724 +05:30 [DBG] Connection id "0HN67C26ITGJB" accepted.
2024-08-28 18:46:01.724 +05:30 [DBG] Connection id "0HN67C26ITGJB" started.
2024-08-28 18:46:01.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/genders - null null
2024-08-28 18:46:01.724 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/genders'
2024-08-28 18:46:01.724 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:46:01.724 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:01.724 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:01.725 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - null null
2024-08-28 18:46:01.725 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/healthvitals'
2024-08-28 18:46:01.725 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:46:01.725 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:01.725 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:01.726 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:46:01.726 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:46:01.726 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:46:01.726 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:46:01.726 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:46:01.726 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:46:01.726 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:46:01.726 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:46:01.728 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:46:01.729 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:46:01.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:46:01.729 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:46:01.729 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:46:01.729 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:46:01.730 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.730 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.731 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.731 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.731 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:46:01.731 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:46:01.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `g`.`GenderId`, `g`.`GenderCode`, `g`.`GenderName`
FROM `Gender` AS `g`
ORDER BY `g`.`GenderId`
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`HealthVitalId`, `h`.`HealthVitalCode`, `h`.`HealthVitalName`, `h`.`HealthVitalUnit`
FROM `healthvital` AS `h`
ORDER BY `h`.`HealthVitalId`
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'Gender' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:46:01.733 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.733 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/genders => GetGendersAsync'
2024-08-28 18:46:01.734 +05:30 [DBG] Connection id "0HN67C26ITGJA" completed keep alive response.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.734 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/genders - 200 null application/json; charset=utf-8 10.3139ms
2024-08-28 18:46:01.734 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.735 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.736 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.736 +05:30 [DBG] Context 'HASDbContext' started tracking 'HealthVital' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:01.736 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:46:01.736 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.736 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:46:01.736 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:46:01.736 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:46:01.740 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/healthvitals => GetHealthVitalsAsync'
2024-08-28 18:46:01.740 +05:30 [DBG] Connection id "0HN67C26ITGJB" completed keep alive response.
2024-08-28 18:46:01.740 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:46:01.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/healthvitals - 200 null application/json; charset=utf-8 15.0056ms
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJA" received FIN.
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJB" received FIN.
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJA" disconnecting.
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJ8" received FIN.
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJ8" disconnecting.
2024-08-28 18:46:02.165 +05:30 [DBG] Connection id "0HN67C26ITGJ8" stopped.
2024-08-28 18:46:02.165 +05:30 [DBG] Connection id "0HN67C26ITGJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:02.165 +05:30 [DBG] Connection id "0HN67C26ITGJA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJB" disconnecting.
2024-08-28 18:46:02.164 +05:30 [DBG] Connection id "0HN67C26ITGJ9" received FIN.
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJB" stopped.
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJ9" disconnecting.
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJA" stopped.
2024-08-28 18:46:02.166 +05:30 [DBG] Connection id "0HN67C26ITGJ9" stopped.
2024-08-28 18:46:25.564 +05:30 [DBG] Connection id "0HN67C26ITGJC" accepted.
2024-08-28 18:46:25.564 +05:30 [DBG] Connection id "0HN67C26ITGJC" started.
2024-08-28 18:46:25.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:46:25.565 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:46:25.565 +05:30 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-28 18:46:25.565 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:25.565 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:25.565 +05:30 [DBG] The request is a preflight request.
2024-08-28 18:46:25.565 +05:30 [DBG] Connection id "0HN67C26ITGJC" completed keep alive response.
2024-08-28 18:46:25.565 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5242/api/master/phonetypes - 204 null null 0.6657ms
2024-08-28 18:46:25.566 +05:30 [DBG] Connection id "0HN67C26ITGJD" accepted.
2024-08-28 18:46:25.566 +05:30 [DBG] Connection id "0HN67C26ITGJD" started.
2024-08-28 18:46:25.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - null null
2024-08-28 18:46:25.567 +05:30 [DBG] 1 candidate(s) found for the request path '/api/master/phonetypes'
2024-08-28 18:46:25.567 +05:30 [DBG] Request matched endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:46:25.567 +05:30 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-08-28 18:46:25.567 +05:30 [INF] CORS policy execution successful.
2024-08-28 18:46:25.567 +05:30 [DBG] Successfully validated the token.
2024-08-28 18:46:25.567 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-28 18:46:25.568 +05:30 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-28 18:46:25.568 +05:30 [INF] Executing endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:46:25.569 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HASDbContext' using provider 'MySql.EntityFrameworkCore:6.0.7+MySQL8.0.31' with options: None
2024-08-28 18:46:25.569 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-28 18:46:25.569 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-28 18:46:25.569 +05:30 [DBG] Opening connection to database 'has' on server 'localhost'.
2024-08-28 18:46:25.570 +05:30 [DBG] Opened connection to database 'has' on server 'localhost'.
2024-08-28 18:46:25.571 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:46:25.573 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PhoneTypeId`, `p`.`PhoneTypeCode`, `p`.`PhoneTypeName`
FROM `PhoneType` AS `p`
ORDER BY `p`.`PhoneTypeId`
2024-08-28 18:46:25.573 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:25.573 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:25.573 +05:30 [DBG] Context 'HASDbContext' started tracking 'PhoneType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-28 18:46:25.573 +05:30 [DBG] A data reader was disposed.
2024-08-28 18:46:25.573 +05:30 [DBG] Closing connection to database 'has' on server 'localhost'.
2024-08-28 18:46:25.573 +05:30 [DBG] Closed connection to database 'has' on server 'localhost'.
2024-08-28 18:46:25.573 +05:30 [INF] Setting HTTP status code 200.
2024-08-28 18:46:25.573 +05:30 [INF] Writing value of type 'List`1' as Json.
2024-08-28 18:46:25.574 +05:30 [INF] Executed endpoint 'HTTP: GET /api/master/phonetypes => GetPhoneTypesAsync'
2024-08-28 18:46:25.574 +05:30 [DBG] Connection id "0HN67C26ITGJD" completed keep alive response.
2024-08-28 18:46:25.574 +05:30 [DBG] 'HASDbContext' disposed.
2024-08-28 18:46:25.574 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5242/api/master/phonetypes - 200 null application/json; charset=utf-8 7.6883ms
2024-08-28 18:46:27.167 +05:30 [DBG] Connection id "0HN67C26ITGJD" received FIN.
2024-08-28 18:46:27.167 +05:30 [DBG] Connection id "0HN67C26ITGJC" received FIN.
2024-08-28 18:46:27.168 +05:30 [DBG] Connection id "0HN67C26ITGJD" disconnecting.
2024-08-28 18:46:27.168 +05:30 [DBG] Connection id "0HN67C26ITGJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:27.169 +05:30 [DBG] Connection id "0HN67C26ITGJD" stopped.
2024-08-28 18:46:27.172 +05:30 [DBG] Connection id "0HN67C26ITGJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-28 18:46:27.172 +05:30 [DBG] Connection id "0HN67C26ITGJC" disconnecting.
2024-08-28 18:46:27.173 +05:30 [DBG] Connection id "0HN67C26ITGJC" stopped.
